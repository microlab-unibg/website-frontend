"use strict";(self.webpackChunkulab_webpage_bootstrap=self.webpackChunkulab_webpage_bootstrap||[]).push([[179],{777:()=>{function Ue(n){return"function"==typeof n}function A3(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const W4=A3(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function L3(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ht{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof W4?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Oi(s)}catch(o){e=e??[],o instanceof W4?e=[...e,...o.errors]:e.push(o)}}if(e)throw new W4(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Oi(e);else{if(e instanceof Ht){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&L3(t,e)}remove(e){const{_finalizers:t}=this;t&&L3(t,e),e instanceof Ht&&e._removeParent(this)}}Ht.EMPTY=(()=>{const n=new Ht;return n.closed=!0,n})();const y6=Ht.EMPTY;function Hl(n){return n instanceof Ht||n&&"closed"in n&&Ue(n.remove)&&Ue(n.add)&&Ue(n.unsubscribe)}function Oi(n){Ue(n)?n():n.unsubscribe()}const k3={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vo={setTimeout(n,e,...t){const{delegate:r}=Vo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Vo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Pp(n){Vo.setTimeout(()=>{const{onUnhandledError:e}=k3;if(!e)throw n;e(n)})}function R3(){}const Fp=C6("C",void 0,void 0);function C6(n,e,t){return{kind:n,value:e,error:t}}let Pi=null;function Kr(n){if(k3.useDeprecatedSynchronousErrorHandling){const e=!Pi;if(e&&(Pi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Pi;if(Pi=null,t)throw r}}else n()}class Ho extends Ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hl(e)&&e.add(this)):this.destination=M6}static create(e,t,r){return new O3(e,t,r)}next(e){this.isStopped?b6(function Up(n){return C6("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?b6(function Bp(n){return C6("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?b6(Fp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Il=Function.prototype.bind;function Io(n,e){return Il.call(n,e)}class xl{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Tn(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Tn(r)}else Tn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Tn(t)}}}class O3 extends Ho{constructor(e,t,r){let i;if(super(),Ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&k3.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Io(e.next,s),error:e.error&&Io(e.error,s),complete:e.complete&&Io(e.complete,s)}):i=e}this.destination=new xl(i)}}function Tn(n){k3.useDeprecatedSynchronousErrorHandling?function $p(n){k3.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=n)}(n):Pp(n)}function b6(n,e){const{onStoppedNotification:t}=k3;t&&Vo.setTimeout(()=>t(n,e))}const M6={closed:!0,next:R3,error:function Al(n){throw n},complete:R3},w6="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cr(n){return n}function kl(n){return 0===n.length?Cr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Je=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function jp(n){return n&&n instanceof Ho||function Gp(n){return n&&Ue(n.next)&&Ue(n.error)&&Ue(n.complete)}(n)&&Hl(n)}(t)?t:new O3(t,r,i);return Kr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Rl(r))((i,s)=>{const o=new O3({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[w6](){return this}pipe(...t){return kl(t)(this)}toPromise(t){return new(t=Rl(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Rl(n){var e;return null!==(e=n??k3.Promise)&&void 0!==e?e:Promise}const Wp=A3(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qe=(()=>{class n extends Je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Ol(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Wp}next(t){Kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?y6:(this.currentObservers=null,s.push(t),new Ht(()=>{this.currentObservers=null,L3(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Je;return t.source=this,t}}return n.create=(e,t)=>new Ol(e,t),n})();class Ol extends qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:y6}}function S6(n){return Ue(n?.lift)}function V1(n){return e=>{if(S6(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function C1(n,e,t,r,i){return new Pl(n,e,t,r,i)}class Pl extends Ho{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(n,e){return V1((t,r)=>{let i=0;t.subscribe(C1(r,s=>{r.next(n.call(e,s,i++))}))})}function Kp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function S(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function cn(n){return this instanceof cn?(this.v=n,this):new cn(n)}function T6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function se(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}const Qp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function hH(n){return Ue(n?.then)}function pH(n){return Ue(n[w6])}function mH(n){return Symbol.asyncIterator&&Ue(n?.[Symbol.asyncIterator])}function gH(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vH=function Doe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _H(n){return Ue(n?.[vH])}function yH(n){return function q4(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{!function c(d){d.value instanceof cn?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield cn(t.read());if(i)return yield cn(void 0);yield yield cn(r)}}finally{t.releaseLock()}})}function CH(n){return Ue(n?.getReader)}function It(n){if(n instanceof Je)return n;if(null!=n){if(pH(n))return function Voe(n){return new Je(e=>{const t=n[w6]();if(Ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Qp(n))return function Hoe(n){return new Je(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(hH(n))return function Ioe(n){return new Je(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Pp)})}(n);if(mH(n))return bH(n);if(_H(n))return function xoe(n){return new Je(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(CH(n))return function Aoe(n){return bH(yH(n))}(n)}throw gH(n)}function bH(n){return new Je(e=>{(function Loe(n,e){var t,r,i,s;return S(this,void 0,void 0,function*(){try{for(t=T6(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Fi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function xt(n,e,t=1/0){return Ue(e)?xt((r,i)=>ge((s,o)=>e(r,s,i,o))(It(n(r,i))),t):("number"==typeof e&&(t=e),V1((r,i)=>function koe(n,e,t,r,i,s,o,a){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&e.complete()},h=m=>l<r?p(m):c.push(m),p=m=>{s&&e.next(m),l++;let g=!1;It(t(m,u++)).subscribe(C1(e,_=>{i?.(_),s?h(_):e.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){const _=c.shift();o?Fi(e,o,()=>p(_)):p(_)}d()}catch(_){e.error(_)}}))};return n.subscribe(C1(e,h,()=>{f=!0,d()})),()=>{a?.()}}(r,i,n,t)))}function Lo(n=1/0){return xt(Cr,n)}const tr=new Je(n=>n.complete());function MH(n){return n&&Ue(n.schedule)}function Zp(n){return n[n.length-1]}function Ul(n){return Ue(Zp(n))?n.pop():void 0}function N6(n){return MH(Zp(n))?n.pop():void 0}function $l(n,e=0){return V1((t,r)=>{t.subscribe(C1(r,i=>Fi(r,n,()=>r.next(i),e),()=>Fi(r,n,()=>r.complete(),e),i=>Fi(r,n,()=>r.error(i),e)))})}function Gl(n,e=0){return V1((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wH(n,e){if(!n)throw new Error("Iterable cannot be null");return new Je(t=>{Fi(t,e,()=>{const r=n[Symbol.asyncIterator]();Fi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function At(n,e){return e?function Goe(n,e){if(null!=n){if(pH(n))return function Poe(n,e){return It(n).pipe(Gl(e),$l(e))}(n,e);if(Qp(n))return function Boe(n,e){return new Je(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(hH(n))return function Foe(n,e){return It(n).pipe(Gl(e),$l(e))}(n,e);if(mH(n))return wH(n,e);if(_H(n))return function Uoe(n,e){return new Je(t=>{let r;return Fi(t,e,()=>{r=n[vH](),Fi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(n,e);if(CH(n))return function $oe(n,e){return wH(yH(n),e)}(n,e)}throw gH(n)}(n,e):It(n)}function SH(...n){const e=N6(n),t=function Ooe(n,e){return"number"==typeof Zp(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?It(r[0]):Lo(t)(At(r,e)):tr}function Xp(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new O3({next:()=>{r.unsubscribe(),n()}});return It(e(...t)).subscribe(r)}function E1(n){for(let e in n)if(n[e]===E1)return e;throw Error("Could not find renamed property on target object.")}function Jp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function H1(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(H1).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function em(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Woe=E1({__forward_ref__:E1});function Se(n){return n.__forward_ref__=Se,n.toString=function(){return H1(this())},n}function ve(n){return tm(n)?n():n}function tm(n){return"function"==typeof n&&n.hasOwnProperty(Woe)&&n.__forward_ref__===Se}function nm(n){return n&&!!n.\u0275providers}const jl="https://g.co/ng/security#xss";class x extends Error{constructor(e,t){super(Wl(e,t)),this.code=e}}function Wl(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Ne(n){return"string"==typeof n?n:null==n?"":String(n)}function ql(n,e){throw new x(-201,!1)}function p1(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function De(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kl(n){return zH(n,Yl)||zH(n,TH)}function zH(n,e){return n.hasOwnProperty(e)?n[e]:null}function EH(n){return n&&(n.hasOwnProperty(rm)||n.hasOwnProperty(eae))?n[rm]:null}const Yl=E1({\u0275prov:E1}),rm=E1({\u0275inj:E1}),TH=E1({ngInjectableDef:E1}),eae=E1({ngInjectorDef:E1});var _e=(()=>((_e=_e||{})[_e.Default=0]="Default",_e[_e.Host=1]="Host",_e[_e.Self=2]="Self",_e[_e.SkipSelf=4]="SkipSelf",_e[_e.Optional=8]="Optional",_e))();let im;function rr(n){const e=im;return im=n,e}function NH(n,e,t){const r=Kl(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&_e.Optional?null:void 0!==e?e:void ql(H1(n))}const F1=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),D6={},sm="__NG_DI_FLAG__",Ql="ngTempTokenPath",nae="ngTokenPath",rae=/\n/gm,iae="\u0275",DH="__source";let V6;function ko(n){const e=V6;return V6=n,e}function sae(n,e=_e.Default){if(void 0===V6)throw new x(-203,!1);return null===V6?NH(n,void 0,e):V6.get(n,e&_e.Optional?null:void 0,e)}function O(n,e=_e.Default){return(function tae(){return im}()||sae)(ve(n),e)}function Fe(n,e=_e.Default){return O(n,Zl(e))}function Zl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function om(n){const e=[];for(let t=0;t<n.length;t++){const r=ve(n[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=_e.Default;for(let o=0;o<r.length;o++){const a=r[o],c=oae(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function H6(n,e){return n[sm]=e,n.prototype[sm]=e,n}function oae(n){return n[sm]}function Bi(n){return{toString:n}.toString()}var Yr=(()=>((Yr=Yr||{})[Yr.OnPush=0]="OnPush",Yr[Yr.Default=1]="Default",Yr))(),br=(()=>{return(n=br||(br={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",br;var n})();const Ui={},d1=[],Xl=E1({\u0275cmp:E1}),am=E1({\u0275dir:E1}),cm=E1({\u0275pipe:E1}),HH=E1({\u0275mod:E1}),$i=E1({\u0275fac:E1}),I6=E1({__NG_ELEMENT_ID__:E1});let lae=0;function n1(n){return Bi(()=>{const e=xH(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Yr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||br.Emulated,id:"c"+lae++,styles:n.styles||d1,_:null,schemas:n.schemas||null,tView:null};AH(t);const r=n.dependencies;return t.directiveDefs=Jl(r,!1),t.pipeDefs=Jl(r,!0),t})}function fae(n){return m1(n)||A2(n)}function dae(n){return null!==n}function xe(n){return Bi(()=>({type:n.type,bootstrap:n.bootstrap||d1,declarations:n.declarations||d1,imports:n.imports||d1,exports:n.exports||d1,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function IH(n,e){if(null==n)return Ui;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function G(n){return Bi(()=>{const e=xH(n);return AH(e),e})}function ln(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function m1(n){return n[Xl]||null}function A2(n){return n[am]||null}function un(n){return n[cm]||null}function Dn(n,e){const t=n[HH]||null;if(!t&&!0===e)throw new Error(`Type ${H1(n)} does not have '\u0275mod' property.`);return t}function xH(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||d1,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IH(n.inputs,e),outputs:IH(n.outputs)}}function AH(n){n.features?.forEach(e=>e(n))}function Jl(n,e){if(!n)return null;const t=e?un:fae;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(dae)}const Gi=0,ee=1,Re=2,dt=3,Mr=4,K4=5,L2=6,Oo=7,wt=8,e7=9,t7=10,Be=11,lm=12,x6=13,LH=14,Po=15,k2=16,A6=17,Fo=18,Qr=19,L6=20,kH=21,B1=22,um=1,RH=2,n7=7,r7=8,Bo=9,q2=10;function Vn(n){return Array.isArray(n)&&"object"==typeof n[um]}function wr(n){return Array.isArray(n)&&!0===n[um]}function fm(n){return 0!=(4&n.flags)}function k6(n){return n.componentOffset>-1}function i7(n){return 1==(1&n.flags)}function Sr(n){return!!n.template}function pae(n){return 0!=(256&n[Re])}function Y4(n,e){return n.hasOwnProperty($i)?n[$i]:null}class vae{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function U1(){return FH}function FH(n){return n.type.prototype.ngOnChanges&&(n.setInput=yae),_ae}function _ae(){const n=UH(this),e=n?.current;if(e){const t=n.previous;if(t===Ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function yae(n,e,t,r){const i=this.declaredInputs[t],s=UH(n)||function Cae(n,e){return n[BH]=e}(n,{previous:Ui,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new vae(c&&c.currentValue,e,a===Ui),n[r]=e}U1.ngInherit=!0;const BH="__ngSimpleChanges__";function UH(n){return n[BH]||null}const ir=function(n,e,t){};function v2(n){for(;Array.isArray(n);)n=n[Gi];return n}function s7(n,e){return v2(e[n])}function Hn(n,e){return v2(e[n.index])}function jH(n,e){return n.data[e]}function Uo(n,e){return n[e]}function fn(n,e){const t=e[n];return Vn(t)?t:t[Gi]}function o7(n){return 64==(64&n[Re])}function F3(n,e){return null==e?null:n[e]}function WH(n){n[Fo]=0}function hm(n,e){n[K4]+=e;let t=n,r=n[dt];for(;null!==r&&(1===e&&1===t[K4]||-1===e&&0===t[K4]);)r[K4]+=e,t=r,r=r[dt]}const Ve={lFrame:nI(null),bindingsEnabled:!0};function KH(){return Ve.bindingsEnabled}function P(){return Ve.lFrame.lView}function r1(){return Ve.lFrame.tView}function Me(n){return Ve.lFrame.contextLView=n,n[wt]}function we(n){return Ve.lFrame.contextLView=null,n}function _2(){let n=YH();for(;null!==n&&64===n.type;)n=n.parent;return n}function YH(){return Ve.lFrame.currentTNode}function R6(){const n=Ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Zr(n,e){const t=Ve.lFrame;t.currentTNode=n,t.isParent=e}function pm(){return Ve.lFrame.isParent}function mm(){Ve.lFrame.isParent=!1}function K2(){const n=Ve.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ji(){return Ve.lFrame.bindingIndex}function $o(){return Ve.lFrame.bindingIndex++}function Wi(n){const e=Ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function XH(n){Ve.lFrame.inI18n=n}function xae(n,e){const t=Ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,gm(e)}function gm(n){Ve.lFrame.currentDirectiveIndex=n}function JH(){return Ve.lFrame.currentQueryIndex}function _m(n){Ve.lFrame.currentQueryIndex=n}function Lae(n){const e=n[ee];return 2===e.type?e.declTNode:1===e.type?n[L2]:null}function eI(n,e,t){if(t&_e.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&_e.Host||(i=Lae(s),null===i||(s=s[Po],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ve.lFrame=tI();return r.currentTNode=e,r.lView=n,!0}function ym(n){const e=tI(),t=n[ee];Ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tI(){const n=Ve.lFrame,e=null===n?null:n.child;return null===e?nI(n):e}function nI(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function rI(){const n=Ve.lFrame;return Ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const iI=rI;function Cm(){const n=rI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Y2(){return Ve.lFrame.selectedIndex}function Q4(n){Ve.lFrame.selectedIndex=n}function rt(){const n=Ve.lFrame;return jH(n.tView,n.selectedIndex)}function a7(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks??(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks??(n.viewHooks=[])).push(t,l),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,l)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function c7(n,e,t){sI(n,e,3,t)}function l7(n,e,t,r){(3&n[Re])===t&&sI(n,e,t,r)}function bm(n,e){let t=n[Re];(3&t)===e&&(t&=2047,t+=1,n[Re]=t)}function sI(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Fo]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Fo]+=65536),(a<s||-1==s)&&(Gae(n,t,e,c),n[Fo]=(4294901760&n[Fo])+c+2),c++}function Gae(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[Re]>>11<n[Fo]>>16&&(3&n[Re])===e){n[Re]+=2048,ir(4,a,s);try{s.call(a)}finally{ir(5,a,s)}}}else{ir(4,a,s);try{s.call(a)}finally{ir(5,a,s)}}}const Go=-1;class O6{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function wm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];aI(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function oI(n){return 3===n||4===n||6===n}function aI(n){return 64===n.charCodeAt(0)}function P6(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||cI(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function cI(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function lI(n){return n!==Go}function u7(n){return 32767&n}function f7(n,e){let t=function Kae(n){return n>>16}(n),r=e;for(;t>0;)r=r[Po],t--;return r}let Sm=!0;function d7(n){const e=Sm;return Sm=n,e}const uI=255,fI=5;let Yae=0;const Xr={};function h7(n,e){const t=dI(n,e);if(-1!==t)return t;const r=e[ee];r.firstCreatePass&&(n.injectorIndex=e.length,zm(r.data,n),zm(e,null),zm(r.blueprint,null));const i=Em(n,e),s=n.injectorIndex;if(lI(i)){const o=u7(i),a=f7(i,e),c=a[ee].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function zm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dI(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Em(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=yI(i),null===r)return Go;if(t++,i=i[Po],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Go}function Tm(n,e,t){!function Qae(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(I6)&&(r=t[I6]),null==r&&(r=t[I6]=Yae++);const i=r&uI;e.data[n+(i>>fI)]|=1<<i}(n,e,t)}function hI(n,e,t){if(t&_e.Optional||void 0!==n)return n;ql()}function pI(n,e,t,r){if(t&_e.Optional&&void 0===r&&(r=null),!(t&(_e.Self|_e.Host))){const i=n[e7],s=rr(void 0);try{return i?i.get(e,r,t&_e.Optional):NH(e,r,t&_e.Optional)}finally{rr(s)}}return hI(r,0,t)}function mI(n,e,t,r=_e.Default,i){if(null!==n){if(1024&e[Re]){const o=function tce(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[Re]&&!(256&o[Re]);){const a=gI(s,o,t,r|_e.Self,Xr);if(a!==Xr)return a;let c=s.parent;if(!c){const l=o[kH];if(l){const u=l.get(t,Xr,r);if(u!==Xr)return u}c=yI(o),o=o[Po]}s=c}return i}(n,e,t,r,Xr);if(o!==Xr)return o}const s=gI(n,e,t,r,Xr);if(s!==Xr)return s}return pI(e,t,r,i)}function gI(n,e,t,r,i){const s=function Jae(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(I6)?n[I6]:void 0;return"number"==typeof e?e>=0?e&uI:ece:e}(t);if("function"==typeof s){if(!eI(e,n,r))return r&_e.Host?hI(i,0,r):pI(e,t,r,i);try{const o=s(r);if(null!=o||r&_e.Optional)return o;ql()}finally{iI()}}else if("number"==typeof s){let o=null,a=dI(n,e),c=Go,l=r&_e.Host?e[k2][L2]:null;for((-1===a||r&_e.SkipSelf)&&(c=-1===a?Em(n,e):e[a+8],c!==Go&&_I(r,!1)?(o=e[ee],a=u7(c),e=f7(c,e)):a=-1);-1!==a;){const u=e[ee];if(vI(s,a,u.data)){const f=Xae(a,e,t,o,r,l);if(f!==Xr)return f}c=e[a+8],c!==Go&&_I(r,e[ee].data[a+8]===l)&&vI(s,a,e)?(o=u,a=u7(c),e=f7(c,e)):a=-1}}return i}function Xae(n,e,t,r,i,s){const o=e[ee],a=o.data[n+8],u=p7(a,o,t,null==r?k6(a)&&Sm:r!=o&&0!=(3&a.type),i&_e.Host&&s===a);return null!==u?Z4(e,o,u,a):Xr}function p7(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,u=s>>20,d=i?a+u:n.directiveEnd;for(let h=r?a:a+u;h<d;h++){const p=o[h];if(h<c&&t===p||h>=c&&p.type===t)return h}if(i){const h=o[c];if(h&&Sr(h)&&h.type===t)return c}return null}function Z4(n,e,t,r){let i=n[t];const s=e.data;if(function jae(n){return n instanceof O6}(i)){const o=i;o.resolving&&function qoe(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,`Circular dependency in DI detected for ${n}${t}`)}(function h1(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ne(n)}(s[t]));const a=d7(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?rr(o.injectImpl):null;eI(n,r,_e.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function $ae(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=FH(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&rr(c),d7(a),o.resolving=!1,iI()}}return i}function vI(n,e,t){return!!(t[e+(n>>fI)]&1<<n)}function _I(n,e){return!(n&_e.Self||n&_e.Host&&e)}class jo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return mI(this._tNode,this._lView,e,Zl(r),t)}}function ece(){return new jo(_2(),P())}function ht(n){return Bi(()=>{const e=n.prototype.constructor,t=e[$i]||Nm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[$i]||Nm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Nm(n){return tm(n)?()=>{const e=Nm(ve(n));return e&&e()}:Y4(n)}function yI(n){const e=n[ee],t=e.type;return 2===t?e.declTNode:1===t?n[L2]:null}function B3(n){return function Zae(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(oI(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(_2(),n)}const qo="__parameters__";function Yo(n,e,t){return Bi(()=>{const r=function Dm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const f=c.hasOwnProperty(qo)?c[qo]:Object.defineProperty(c,qo,{value:[]})[qo];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class te{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function X4(n,e){n.forEach(t=>Array.isArray(t)?X4(t,e):e(t))}function bI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function m7(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function U6(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function In(n,e,t){let r=Qo(n,e);return r>=0?n[1|r]=t:(r=~r,function sce(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Hm(n,e){const t=Qo(n,e);if(t>=0)return n[1|t]}function Qo(n,e){return function MI(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ze=H6(Yo("Optional"),8),$6=H6(Yo("SkipSelf"),4);var dn=(()=>((dn=dn||{})[dn.Important=1]="Important",dn[dn.DashCase=2]="DashCase",dn))();const Sce=/^>|^->|<!--|-->|--!>|<!-$/g,zce=/(<|>)/,Ece="\u200b$1\u200b";const Rm=new Map;let Tce=0;const Pm="__ngContext__";function R2(n,e){Vn(e)?(n[Pm]=e[L6],function Dce(n){Rm.set(n[L6],n)}(e)):n[Pm]=e}let Fm;function Bm(n,e){return Fm(n,e)}function q6(n){const e=n[dt];return wr(e)?e[dt]:e}function Um(n){return UI(n[x6])}function $m(n){return UI(n[Mr])}function UI(n){for(;null!==n&&!wr(n);)n=n[Mr];return n}function Xo(n,e,t,r,i){if(null!=r){let s,o=!1;wr(r)?s=r:Vn(r)&&(o=!0,r=r[Gi]);const a=v2(r);0===n&&null!==t?null==i?KI(e,t,a):J4(e,t,a,i||null,!0):1===n&&null!==t?J4(e,t,a,i||null,!0):2===n?Qm(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Xce(n,e,t,r,i){const s=t[n7];s!==v2(t)&&Xo(e,n,r,s,i);for(let a=q2;a<t.length;a++){const c=t[a];K6(c[ee],c,n,e,r,s)}}(e,n,s,t,i)}}function Gm(n,e){return n.createText(e)}function $I(n,e,t){n.setValue(e,t)}function Fce(n,e){return n.createComment(function AI(n){return n.replace(Sce,e=>e.replace(zce,Ece))}(e))}function jm(n,e,t){return n.createElement(e,t)}function GI(n,e){const t=n[Bo],r=t.indexOf(e),i=e[dt];512&e[Re]&&(e[Re]&=-513,hm(i,-1)),t.splice(r,1)}function Wm(n,e){if(n.length<=q2)return;const t=q2+e,r=n[t];if(r){const i=r[A6];null!==i&&i!==n&&GI(i,r),e>0&&(n[t-1][Mr]=r[Mr]);const s=m7(n,q2+e);!function Bce(n,e){K6(n,e,e[Be],2,null,null),e[Gi]=null,e[L2]=null}(r[ee],r);const o=s[Qr];null!==o&&o.detachView(s[ee]),r[dt]=null,r[Mr]=null,r[Re]&=-65}return r}function jI(n,e){if(!(128&e[Re])){const t=e[Be];t.destroyNode&&K6(n,e,t,3,null,null),function Gce(n){let e=n[x6];if(!e)return qm(n[ee],n);for(;e;){let t=null;if(Vn(e))t=e[x6];else{const r=e[q2];r&&(t=r)}if(!t){for(;e&&!e[Mr]&&e!==n;)Vn(e)&&qm(e[ee],e),e=e[dt];null===e&&(e=n),Vn(e)&&qm(e[ee],e),t=e&&e[Mr]}e=t}}(e)}}function qm(n,e){if(!(128&e[Re])){e[Re]&=-65,e[Re]|=128,function Kce(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof O6)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ir(4,a,c);try{c.call(a)}finally{ir(5,a,c)}}else{ir(4,i,s);try{s.call(i)}finally{ir(5,i,s)}}}}}(n,e),function qce(n,e){const t=n.cleanup,r=e[Oo];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Oo]=null}}(n,e),1===e[ee].type&&e[Be].destroy();const t=e[A6];if(null!==t&&wr(e[dt])){t!==e[dt]&&GI(t,e);const r=e[Qr];null!==r&&r.detachView(n)}!function Vce(n){Rm.delete(n[L6])}(e)}}function WI(n,e,t){return qI(n,e.parent,t)}function qI(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Gi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===br.None||s===br.Emulated)return null}return Hn(r,t)}}function J4(n,e,t,r,i){n.insertBefore(e,t,r,i)}function KI(n,e,t){n.appendChild(e,t)}function YI(n,e,t,r,i){null!==r?J4(n,e,t,r,i):KI(n,e,t)}function y7(n,e){return n.parentNode(e)}function QI(n,e,t){return XI(n,e,t)}function ZI(n,e,t){return 40&n.type?Hn(n,t):null}let Km,M7,Jm,w7,XI=ZI;function JI(n,e){XI=n,Km=e}function C7(n,e,t,r){const i=WI(n,r,e),s=e[Be],a=QI(r.parent||e[L2],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)YI(s,i,t[c],a,!1);else YI(s,i,t,a,!1);void 0!==Km&&Km(s,r,e,t,i)}function b7(n,e){if(null!==e){const t=e.type;if(3&t)return Hn(e,n);if(4&t)return Ym(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return b7(n,r);{const i=n[e.index];return wr(i)?Ym(-1,i):v2(i)}}if(32&t)return Bm(e,n)()||v2(n[e.index]);{const r=ex(n,e);return null!==r?Array.isArray(r)?r[0]:b7(q6(n[k2]),r):b7(n,e.next)}}return null}function ex(n,e){return null!==e?n[k2][L2].projection[e.projection]:null}function Ym(n,e){const t=q2+n+1;if(t<e.length){const r=e[t],i=r[ee].firstChild;if(null!==i)return b7(r,i)}return e[n7]}function Qm(n,e,t){const r=y7(n,e);r&&function Yce(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function Zm(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&R2(v2(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Zm(n,e,t.child,r,i,s,!1),Xo(e,n,i,a,s);else if(32&c){const l=Bm(t,r);let u;for(;u=l();)Xo(e,n,i,u,s);Xo(e,n,i,a,s)}else 16&c?tx(n,e,r,t,i,s):Xo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function K6(n,e,t,r,i,s){Zm(t,r,n.firstChild,e,i,s,!1)}function tx(n,e,t,r,i,s){const o=t[k2],c=o[L2].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Xo(e,n,i,c[l],s);else Zm(n,e,c,o[dt],i,s,!0)}function nx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function rx(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&wm(n,e,r),null!==i&&nx(n,e,i),null!==s&&function e6e(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Jo(n){return function Xm(){if(void 0===M7&&(M7=null,F1.trustedTypes))try{M7=F1.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return M7}()?.createHTML(n)||n}function ix(){return void 0!==Jm?Jm:typeof document<"u"?document:void 0}function eg(){if(void 0===w7&&(w7=null,F1.trustedTypes))try{w7=F1.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return w7}function sx(n){return eg()?.createHTML(n)||n}function ax(n){return eg()?.createScriptURL(n)||n}class es{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jl})`}}class s6e extends es{getTypeName(){return"HTML"}}class o6e extends es{getTypeName(){return"Style"}}class a6e extends es{getTypeName(){return"Script"}}class c6e extends es{getTypeName(){return"URL"}}class l6e extends es{getTypeName(){return"ResourceURL"}}function xn(n){return n instanceof es?n.changingThisBreaksApplicationSecurity:n}function Jr(n,e){const t=function u6e(n){return n instanceof es&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${jl})`)}return t===e}function cx(n){const e=new v6e(n);return function _6e(){try{return!!(new window.DOMParser).parseFromString(Jo(""),"text/html")}catch{return!1}}()?new g6e(e):e}class g6e{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Jo(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class v6e{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Jo(e),t}}const y6e=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function S7(n){return(n=String(n)).match(y6e)?n:"unsafe:"+n}function qi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Y6(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const lx=qi("area,br,col,hr,img,wbr"),ux=qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fx=qi("rp,rt"),tg=Y6(lx,Y6(ux,qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Y6(fx,qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Y6(fx,ux)),ng=qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dx=Y6(ng,qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),C6e=qi("script,style,template");class b6e{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!tg.hasOwnProperty(t))return this.sanitizedSomething=!0,!C6e.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!dx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;ng[a]&&(c=S7(c)),this.buf.push(" ",o,'="',hx(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();tg.hasOwnProperty(t)&&!lx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(hx(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const M6e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w6e=/([^\#-~ |!])/g;function hx(n){return n.replace(/&/g,"&amp;").replace(M6e,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(w6e,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let z7;function px(n,e){let t=null;try{z7=z7||cx(n);let r=e?String(e):"";t=z7.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=z7.getInertBodyElement(r)}while(r!==s);return Jo((new b6e).sanitizeChildren(rg(t)||t))}finally{if(t){const r=rg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function rg(n){return"content"in n&&function S6e(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var I1=(()=>((I1=I1||{})[I1.NONE=0]="NONE",I1[I1.HTML=1]="HTML",I1[I1.STYLE=2]="STYLE",I1[I1.SCRIPT=3]="SCRIPT",I1[I1.URL=4]="URL",I1[I1.RESOURCE_URL=5]="RESOURCE_URL",I1))();function mx(n){const e=Q6();return e?sx(e.sanitize(I1.HTML,n)||""):Jr(n,"HTML")?sx(xn(n)):px(ix(),Ne(n))}function ts(n){const e=Q6();return e?e.sanitize(I1.URL,n)||"":Jr(n,"URL")?xn(n):S7(Ne(n))}function gx(n){const e=Q6();if(e)return ax(e.sanitize(I1.RESOURCE_URL,n)||"");if(Jr(n,"ResourceURL"))return ax(xn(n));throw new x(904,!1)}function Q6(){const n=P();return n&&n[lm]}const E7=new te("ENVIRONMENT_INITIALIZER"),_x=new te("INJECTOR",-1),yx=new te("INJECTOR_DEF_TYPES");class Cx{get(e,t=D6){if(t===D6){const r=new Error(`NullInjectorError: No provider for ${H1(e)}!`);throw r.name="NullInjectorError",r}return t}}function V6e(...n){return{\u0275providers:bx(0,n),\u0275fromNgModule:!0}}function bx(n,...e){const t=[],r=new Set;let i;return X4(e,s=>{const o=s;ig(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Mx(i,t),t}function Mx(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];sg(i,s=>{e.push(s)})}}function ig(n,e,t,r){if(!(n=ve(n)))return!1;let i=null,s=EH(n);const o=!s&&m1(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=EH(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)ig(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{X4(s.imports,u=>{ig(u,e,t,r)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&Mx(l,e)}if(!a){const l=Y4(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:d1},{provide:yx,useValue:i,multi:!0},{provide:E7,useValue:()=>O(i),multi:!0})}const c=s.providers;null==c||a||sg(c,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function sg(n,e){for(let t of n)nm(t)&&(t=t.\u0275providers),Array.isArray(t)?sg(t,e):e(t)}const H6e=E1({provide:String,useValue:E1});function og(n){return null!==n&&"object"==typeof n&&H6e in n}function ns(n){return"function"==typeof n}const ag=new te("Set Injector scope."),T7={},x6e={};let cg;function N7(){return void 0===cg&&(cg=new Cx),cg}class zr{}class zx extends zr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ug(e,o=>this.processProvider(o)),this.records.set(_x,ea(void 0,this)),i.has("environment")&&this.records.set(zr,ea(void 0,this));const s=this.records.get(ag);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yx.multi,d1,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ko(this),r=rr(void 0);try{return e()}finally{ko(t),rr(r)}}get(e,t=D6,r=_e.Default){this.assertNotDestroyed(),r=Zl(r);const i=ko(this),s=rr(void 0);try{if(!(r&_e.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function O6e(n){return"function"==typeof n||"object"==typeof n&&n instanceof te}(e)&&Kl(e);a=c&&this.injectableDefInScope(c)?ea(lg(e),T7):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&_e.Self?N7():this.parent).get(e,t=r&_e.Optional&&t===D6?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ql]=o[Ql]||[]).unshift(H1(e)),i)throw o;return function aae(n,e,t,r){const i=n[Ql];throw e[DH]&&i.unshift(e[DH]),n.message=function cae(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==iae?n.slice(2):n;let i=H1(e);if(Array.isArray(e))i=e.map(H1).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):H1(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(rae,"\n  ")}`}("\n"+n.message,i,t,r),n[nae]=i,n[Ql]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{rr(s),ko(i)}}resolveInjectorInitializers(){const e=ko(this),t=rr(void 0);try{const r=this.get(E7.multi,d1,_e.Self);for(const i of r)i()}finally{ko(e),rr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(H1(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let t=ns(e=ve(e))?e:ve(e&&e.provide);const r=function L6e(n){return og(n)?ea(void 0,n.useValue):ea(Ex(n),T7)}(e);if(ns(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ea(void 0,T7,!0),i.factory=()=>om(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===T7&&(t.value=x6e,t.value=t.factory()),"object"==typeof t.value&&t.value&&function R6e(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ve(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function lg(n){const e=Kl(n),t=null!==e?e.factory:Y4(n);if(null!==t)return t;if(n instanceof te)throw new x(204,!1);if(n instanceof Function)return function A6e(n){const e=n.length;if(e>0)throw U6(e,"?"),new x(204,!1);const t=function Joe(n){return n&&(n[Yl]||n[TH])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new x(204,!1)}function Ex(n,e,t){let r;if(ns(n)){const i=ve(n);return Y4(i)||lg(i)}if(og(n))r=()=>ve(n.useValue);else if(function Sx(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...om(n.deps||[]));else if(function wx(n){return!(!n||!n.useExisting)}(n))r=()=>O(ve(n.useExisting));else{const i=ve(n&&(n.useClass||n.provide));if(!function k6e(n){return!!n.deps}(n))return Y4(i)||lg(i);r=()=>new i(...om(n.deps))}return r}function ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ug(n,e){for(const t of n)Array.isArray(t)?ug(t,e):t&&nm(t)?ug(t.\u0275providers,e):e(t)}class P6e{}class Tx{}class B6e{resolveComponentFactory(e){throw function F6e(n){const e=Error(`No component factory found for ${H1(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ta=(()=>{class n{}return n.NULL=new B6e,n})();function U6e(){return na(_2(),P())}function na(n,e){return new i1(Hn(n,e))}let i1=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=U6e,n})();function $6e(n){return n instanceof i1?n.nativeElement:n}class ra{}let Q2=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function G6e(){const n=P(),t=fn(_2().index,n);return(Vn(t)?t:n)[Be]}(),n})(),j6e=(()=>{class n{}return n.\u0275prov=$({token:n,providedIn:"root",factory:()=>null}),n})();class ia{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Dx=new ia("15.2.8"),fg={},dg="ngOriginalError";function hg(n){return n[dg]}class sa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hg(e);for(;t&&hg(t);)t=hg(t);return t||null}}function Ki(n){return n instanceof Function?n():n}function Hx(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Ix="ng-template";function n0e(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Hx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function xx(n){return 4===n.type&&n.value!==Ix}function r0e(n,e,t){return e===(4!==n.type||t?n.value:Ix)}function i0e(n,e,t){let r=4;const i=n.attrs||[],s=function a0e(n){for(let e=0;e<n.length;e++)if(oI(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!r0e(n,c,t)||""===c&&1===e.length){if(Er(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!n0e(n.attrs,l,t)){if(Er(r))return!1;o=!0}continue}const f=s0e(8&r?"class":c,i,xx(n),t);if(-1===f){if(Er(r))return!1;o=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==Hx(h,l,0)||2&r&&l!==d){if(Er(r))return!1;o=!0}}}}else{if(!o&&!Er(r)&&!Er(c))return!1;if(o&&Er(c))continue;o=!1,r=c|1&r}}return Er(r)||o}function Er(n){return 0==(1&n)}function s0e(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function c0e(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Ax(n,e,t=!1){for(let r=0;r<e.length;r++)if(i0e(n,e[r],t))return!0;return!1}function l0e(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Lx(n,e){return n?":not("+e.trim()+")":e}function u0e(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Er(o)&&(e+=Lx(s,i),i=""),r=o,s=s||!Er(r);t++}return""!==i&&(e+=Lx(s,i)),e}const He={};function V(n){kx(r1(),P(),Y2()+n,!1)}function kx(n,e,t,r){if(!r)if(3==(3&e[Re])){const s=n.preOrderCheckHooks;null!==s&&c7(e,s,t)}else{const s=n.preOrderHooks;null!==s&&l7(e,s,0,t)}Q4(t)}function Fx(n,e=null,t=null,r){const i=Bx(n,e,t,r);return i.resolveInjectorInitializers(),i}function Bx(n,e=null,t=null,r,i=new Set){const s=[t||d1,V6e(n)];return r=r||("object"==typeof n?void 0:H1(n)),new zx(s,e||N7(),r||null,i)}let T1=(()=>{class n{static create(t,r){if(Array.isArray(t))return Fx({name:""},r,t,"");{const i=t.name??"";return Fx({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=D6,n.NULL=new Cx,n.\u0275prov=$({token:n,providedIn:"any",factory:()=>O(_x)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=_e.Default){const t=P();return null===t?O(n,e):mI(_2(),t,ve(n),e)}function Yx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];_m(t[r]),o.contentQueries(2,e[s],s)}}}function V7(n,e,t,r,i,s,o,a,c,l,u){const f=e.blueprint.slice();return f[Gi]=i,f[Re]=76|r,(null!==u||n&&1024&n[Re])&&(f[Re]|=1024),WH(f),f[dt]=f[Po]=n,f[wt]=t,f[t7]=o||n&&n[t7],f[Be]=a||n&&n[Be],f[lm]=c||n&&n[lm]||null,f[e7]=l||n&&n[e7]||null,f[L2]=s,f[L6]=function Nce(){return Tce++}(),f[kH]=u,f[k2]=2==e.type?n[k2]:f,f}function ca(n,e,t,r,i){let s=n.data[e];if(null===s)s=_g(n,e,t,r,i),function Iae(){return Ve.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=R6();s.injectorIndex=null===o?-1:o.injectorIndex}return Zr(s,!0),s}function _g(n,e,t,r,i){const s=YH(),o=pm(),c=n.data[e]=function k0e(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}function Z6(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function yg(n,e,t){ym(e);try{const r=n.viewQuery;null!==r&&Ng(1,r,t);const i=n.template;null!==i&&Qx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Yx(n,e),n.staticViewQueries&&Ng(2,n.viewQuery,t);const s=n.components;null!==s&&function x0e(n,e){for(let t=0;t<e.length;t++)n8e(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Re]&=-5,Cm()}}function H7(n,e,t,r){const i=e[Re];if(128!=(128&i)){ym(e);try{WH(e),function ZH(n){return Ve.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Qx(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&c7(e,l,null)}else{const l=n.preOrderHooks;null!==l&&l7(e,l,0,null),bm(e,0)}if(function e8e(n){for(let e=Um(n);null!==e;e=$m(e)){if(!e[RH])continue;const t=e[Bo];for(let r=0;r<t.length;r++){const i=t[r];512&i[Re]||hm(i[dt],1),i[Re]|=512}}}(e),function J0e(n){for(let e=Um(n);null!==e;e=$m(e))for(let t=q2;t<e.length;t++){const r=e[t],i=r[ee];o7(r)&&H7(i,r,i.template,r[wt])}}(e),null!==n.contentQueries&&Yx(n,e),o){const l=n.contentCheckHooks;null!==l&&c7(e,l)}else{const l=n.contentHooks;null!==l&&l7(e,l,1),bm(e,1)}!function H0e(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Q4(~i);else{const s=i,o=t[++r],a=t[++r];xae(o,s),a(2,e[s])}}}finally{Q4(-1)}}(n,e);const a=n.components;null!==a&&function I0e(n,e){for(let t=0;t<e.length;t++)t8e(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&Ng(2,c,r),o){const l=n.viewCheckHooks;null!==l&&c7(e,l)}else{const l=n.viewHooks;null!==l&&l7(e,l,2),bm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Re]&=-41,512&e[Re]&&(e[Re]&=-513,hm(e[dt],-1))}finally{Cm()}}}function Qx(n,e,t,r,i){const s=Y2(),o=2&r;try{Q4(-1),o&&e.length>B1&&kx(n,e,B1,!1),ir(o?2:0,i),t(r,i)}finally{Q4(s),ir(o?3:1,i)}}function Cg(n,e,t){if(fm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function bg(n,e,t){KH()&&(function $0e(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;k6(t)&&function Q0e(n,e,t){const r=Hn(e,n),i=Zx(t),s=n[t7],o=I7(n,V7(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||h7(t,e),R2(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],l=Z4(e,n,a,t);R2(l,e),null!==o&&Z0e(0,a-i,l,c,0,o),Sr(c)&&(fn(t.index,e)[wt]=Z4(e,n,a,t))}}(n,e,t,Hn(t,e)),64==(64&t.flags)&&nA(n,e,t))}function Mg(n,e,t=Hn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function Zx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=wg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function wg(n,e,t,r,i,s,o,a,c,l){const u=B1+r,f=u+i,d=function A0e(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:He);return t}(u,f),h="function"==typeof l?l():l;return d[ee]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1}}function Xx(n,e,t,r){const i=iA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&sA(n).push(r,i.length-1))}function Jx(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?eA(t,e,i,s):r.hasOwnProperty(i)&&eA(t,e,r[i],s)}return t}function eA(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function An(n,e,t,r,i,s,o,a){const c=Hn(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Dg(n,t,u,r,i),k6(e)&&function P0e(n,e){const t=fn(e,n);16&t[Re]||(t[Re]|=32)}(t,e.index)):3&e.type&&(r=function O0e(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Sg(n,e,t,r){if(KH()){const i=null===r?null:{"":-1},s=function j0e(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Ax(e,o.selectors,!1))if(r||(r=[]),Sr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),zg(n,e,a.length)}else r.unshift(o),zg(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&tA(n,e,t,o,i,a),i&&function W0e(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=P6(t.mergedAttrs,t.attrs)}function tA(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Tm(h7(t,e),n,r[l].type);!function K0e(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Z6(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=P6(t.mergedAttrs,u.hostAttrs),Y0e(n,t,e,c,u),q0e(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),c++}!function R0e(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=t?t.get(f):null,p=d?d.outputs:null;c=Jx(f.inputs,u,c,d?d.inputs:null),l=Jx(f.outputs,u,l,p);const m=null===c||null===o||xx(e)?null:X0e(c,u,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function nA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Aae(){return Ve.lFrame.currentDirectiveIndex}();try{Q4(s);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];gm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&G0e(c,l)}}finally{Q4(-1),gm(o)}}function G0e(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function zg(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function q0e(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Sr(e)&&(t[""]=n)}}function Y0e(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Y4(i.type)),o=new O6(s,Sr(i),C);n.blueprint[r]=o,t[r]=o,function B0e(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function U0e(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Z6(n,t,i.hostVars,He),i)}function Eg(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Ne(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function Z0e(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let c=0;c<o.length;){const l=o[c++],u=o[c++],f=o[c++];null!==a?r.setInput(t,f,l,u):t[u]=f}}}function X0e(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function rA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function t8e(n,e){const t=fn(e,n);if(o7(t)){const r=t[ee];48&t[Re]?H7(r,t,r.template,t[wt]):t[K4]>0&&Tg(t)}}function Tg(n){for(let r=Um(n);null!==r;r=$m(r))for(let i=q2;i<r.length;i++){const s=r[i];if(o7(s))if(512&s[Re]){const o=s[ee];H7(o,s,o.template,s[wt])}else s[K4]>0&&Tg(s)}const t=n[ee].components;if(null!==t)for(let r=0;r<t.length;r++){const i=fn(t[r],n);o7(i)&&i[K4]>0&&Tg(i)}}function n8e(n,e){const t=fn(e,n),r=t[ee];(function r8e(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),yg(r,t,t[wt])}function I7(n,e){return n[x6]?n[LH][Mr]=e:n[x6]=e,n[LH]=e,e}function x7(n){for(;n;){n[Re]|=32;const e=q6(n);if(pae(n)&&!e)return n;n=e}return null}function A7(n,e,t,r=!0){const i=e[t7];i.begin&&i.begin();try{H7(n,e,n.template,t)}catch(o){throw r&&aA(e,o),o}finally{i.end&&i.end()}}function Ng(n,e,t){_m(0),e(n,t)}function iA(n){return n[Oo]||(n[Oo]=[])}function sA(n){return n.cleanup||(n.cleanup=[])}function aA(n,e){const t=n[e7],r=t?t.get(sa,null):null;r&&r.handleError(e)}function Dg(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],c=e[o],l=n.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function L7(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=em(i,a):2==s&&(r=em(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function k7(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(v2(s)),wr(s))for(let a=q2;a<s.length;a++){const c=s[a],l=c[ee].firstChild;null!==l&&k7(c[ee],c,l,r)}const o=t.type;if(8&o)k7(n,e,t.child,r);else if(32&o){const a=Bm(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=ex(e,t);if(Array.isArray(a))r.push(...a);else{const c=q6(e[k2]);k7(c[ee],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class X6{get rootNodes(){const e=this._lView,t=e[ee];return k7(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wt]}set context(e){this._lView[wt]=e}get destroyed(){return 128==(128&this._lView[Re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[dt];if(wr(e)){const t=e[r7],r=t?t.indexOf(this):-1;r>-1&&(Wm(e,r),m7(t,r))}this._attachedToViewContainer=!1}jI(this._lView[ee],this._lView)}onDestroy(e){Xx(this._lView[ee],this._lView,null,e)}markForCheck(){x7(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-65}reattach(){this._lView[Re]|=64}detectChanges(){A7(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $ce(n,e){K6(n,e,e[Be],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class i8e extends X6{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;A7(e[ee],e,e[wt],!1)}checkNoChanges(){}get context(){return null}}class cA extends ta{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=m1(e);return new J6(t,this.ngModule)}}function lA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class o8e{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Zl(r);const i=this.injector.get(e,fg,r);return i!==fg||t===fg?i:this.parentInjector.get(e,t,r)}}class J6 extends Tx{get inputs(){return lA(this.componentDef.inputs)}get outputs(){return lA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function f0e(n){return n.map(u0e).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof zr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new o8e(e,s):e,a=o.get(ra,null);if(null===a)throw new x(407,!1);const c=o.get(j6e,null),l=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",f=r?function L0e(n,e,t){return n.selectRootElement(e,t===br.ShadowDom)}(l,r,this.componentDef.encapsulation):jm(l,u,function s8e(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),d=this.componentDef.onPush?288:272,h=wg(0,null,null,1,0,null,null,null,null,null),p=V7(null,h,null,d,null,null,a,l,c,o,null);let m,g;ym(p);try{const _=this.componentDef;let b,y=null;_.findHostDirectiveDefs?(b=[],y=new Map,_.findHostDirectiveDefs(_,b,y),b.push(_)):b=[_];const T=function c8e(n,e){const t=n[ee],r=B1;return n[r]=e,ca(t,r,2,"#host",null)}(p,f),A=function l8e(n,e,t,r,i,s,o,a){const c=i[ee];!function u8e(n,e,t,r){for(const i of n)e.mergedAttrs=P6(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(L7(e,e.mergedAttrs,!0),null!==t&&rx(r,t,e))}(r,n,e,o);const l=s.createRenderer(e,t),u=V7(i,Zx(t),null,t.onPush?32:16,i[n.index],n,s,l,a||null,null,null);return c.firstCreatePass&&zg(c,n,r.length-1),I7(i,u),i[n.index]=u}(T,f,_,b,p,a,l);g=jH(h,B1),f&&function d8e(n,e,t,r){if(r)wm(n,t,["ng-version",Dx.full]);else{const{attrs:i,classes:s}=function d0e(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Er(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&wm(n,t,i),s&&s.length>0&&nx(n,t,s.join(" "))}}(l,_,f,r),void 0!==t&&function h8e(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(g,this.ngContentSelectors,t),m=function f8e(n,e,t,r,i,s){const o=_2(),a=i[ee],c=Hn(o,i);tA(a,i,o,t,null,r);for(let u=0;u<t.length;u++)R2(Z4(i,a,o.directiveStart+u,o),i);nA(a,i,o),c&&R2(c,i);const l=Z4(i,a,o.directiveStart+o.componentOffset,o);if(n[wt]=i[wt]=l,null!==s)for(const u of s)u(l,e);return Cg(a,o,n),l}(A,_,b,y,p,[p8e]),yg(h,p,null)}finally{Cm()}return new a8e(this.componentType,m,na(g,p),p,g)}}class a8e extends P6e{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new i8e(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Dg(s[ee],s,i,e,t),x7(fn(this._tNode.index,s))}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function p8e(){const n=_2();a7(P()[ee],n)}function g1(n){let e=function uA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Sr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Vg(n.inputs),o.declaredInputs=Vg(n.declaredInputs),o.outputs=Vg(n.outputs);const a=i.hostBindings;a&&_8e(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&g8e(n,c),l&&v8e(n,l),Jp(n.inputs,i.inputs),Jp(n.declaredInputs,i.declaredInputs),Jp(n.outputs,i.outputs),Sr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===g1&&(t=!1)}}e=Object.getPrototypeOf(e)}!function m8e(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=P6(i.hostAttrs,t=P6(t,i.hostAttrs))}}(r)}function Vg(n){return n===Ui?{}:n===d1?[]:n}function g8e(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function v8e(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function _8e(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function e0(n){return e=>{e.findHostDirectiveDefs=fA,e.hostDirectives=(Array.isArray(n)?n:n()).map(t=>"function"==typeof t?{directive:ve(t),inputs:Ui,outputs:Ui}:{directive:ve(t.directive),inputs:dA(t.inputs),outputs:dA(t.outputs)})}}function fA(n,e,t){if(null!==n.hostDirectives)for(const r of n.hostDirectives){const i=A2(r.directive);M8e(i.declaredInputs,r.inputs),fA(i,e,t),t.set(i,r),e.push(i)}}function dA(n){if(void 0===n||0===n.length)return Ui;const e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function M8e(n,e){for(const t in e)e.hasOwnProperty(t)&&(n[e[t]]=n[t])}function R7(n){return!!Hg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Hg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ti(n,e,t){return n[e]=t}function O2(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function rs(n,e,t,r){const i=O2(n,e,t);return O2(n,e+1,r)||i}function Ye(n,e,t,r){const i=P();return O2(i,$o(),e)&&(r1(),function ei(n,e,t,r,i,s){const o=Hn(n,e);Eg(e[Be],o,s,n.value,t,r,i)}(rt(),i,n,e,t,r)),Ye}function ua(n,e,t,r){return O2(n,$o(),t)?e+Ne(t)+r:He}function B(n,e,t,r,i,s,o,a){const c=P(),l=r1(),u=n+B1,f=l.firstCreatePass?function T8e(n,e,t,r,i,s,o,a,c){const l=e.consts,u=ca(e,n,4,o||null,F3(l,a));Sg(e,t,u,F3(l,c)),a7(e,u);const f=u.tView=wg(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,s,o):l.data[u];Zr(f,!1);const d=c[Be].createComment("");C7(l,c,d,f),R2(d,c),I7(c,c[u]=rA(d,c,d,f)),i7(f)&&bg(l,c,f),null!=o&&Mg(c,f,a)}function $1(n){return Uo(function Hae(){return Ve.lFrame.contextLView}(),B1+n)}function D(n,e,t){const r=P();return O2(r,$o(),e)&&An(r1(),rt(),r,n,e,r[Be],t,!1),D}function Ig(n,e,t,r,i){const o=i?"class":"style";Dg(n,t,e.inputs[o],o,r)}function M(n,e,t,r){const i=P(),s=r1(),o=B1+n,a=i[Be],c=s.firstCreatePass?function D8e(n,e,t,r,i,s){const o=e.consts,c=ca(e,n,2,r,F3(o,i));return Sg(e,t,c,F3(o,s)),null!==c.attrs&&L7(c,c.attrs,!1),null!==c.mergedAttrs&&L7(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],l=i[o]=jm(a,e,function Uae(){return Ve.lFrame.currentNamespace}()),u=i7(c);return Zr(c,!0),rx(a,l,c),32!=(32&c.flags)&&C7(s,i,l,c),0===function Eae(){return Ve.lFrame.elementDepthCount}()&&R2(l,i),function Tae(){Ve.lFrame.elementDepthCount++}(),u&&(bg(s,i,c),Cg(s,c,i)),null!==r&&Mg(i,c),M}function w(){let n=_2();pm()?mm():(n=n.parent,Zr(n,!1));const e=n;!function Nae(){Ve.lFrame.elementDepthCount--}();const t=r1();return t.firstCreatePass&&(a7(t,n),fm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Wae(n){return 0!=(8&n.flags)}(e)&&Ig(t,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function qae(n){return 0!=(16&n.flags)}(e)&&Ig(t,e,P(),e.stylesWithoutHost,!1),w}function ce(n,e,t,r){return M(n,e,t,r),w(),ce}function ar(n,e,t){const r=P(),i=r1(),s=n+B1,o=i.firstCreatePass?function V8e(n,e,t,r,i){const s=e.consts,o=F3(s,r),a=ca(e,n,8,"ng-container",o);return null!==o&&L7(a,o,!0),Sg(e,t,a,F3(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Zr(o,!0);const a=r[s]=r[Be].createComment("");return C7(i,r,a,o),R2(a,r),i7(o)&&(bg(i,r,o),Cg(i,o,r)),null!=t&&Mg(r,o),ar}function cr(){let n=_2();const e=r1();return pm()?mm():(n=n.parent,Zr(n,!1)),e.firstCreatePass&&(a7(e,n),fm(n)&&e.queries.elementEnd(n)),cr}function v1(){return P()}function n0(n){return!!n&&"function"==typeof n.then}function SA(n){return!!n&&"function"==typeof n.subscribe}const xg=SA;function ne(n,e,t,r){const i=P(),s=r1(),o=_2();return function EA(n,e,t,r,i,s,o){const a=i7(r),l=n.firstCreatePass&&sA(n),u=e[wt],f=iA(e);let d=!0;if(3&r.type||o){const m=Hn(r,e),g=o?o(m):m,_=f.length,b=o?T=>o(v2(T[r.index])):r.index;let y=null;if(!o&&a&&(y=function H8e(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Oo],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,d=!1;else{s=NA(r,e,u,s,!1);const T=t.listen(g,i,s);f.push(s,T),l&&l.push(i,b,_,_+1)}}else s=NA(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const A=e[p[g]][p[g+1]].subscribe(s),k=f.length;f.push(s,A),l&&l.push(i,r.index,k,-(k+1))}}}(s,i,i[Be],o,n,e,r),ne}function TA(n,e,t,r){try{return ir(6,e,t),!1!==t(r)}catch(i){return aA(n,i),!1}finally{ir(7,e,t)}}function NA(n,e,t,r,i){return function s(o){if(o===Function)return r;x7(n.componentOffset>-1?fn(n.index,e):e);let c=TA(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)c=TA(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function L(n=1){return function kae(n){return(Ve.lFrame.contextLView=function Rae(n,e){for(;n>0;)e=e[Po],n--;return e}(n,Ve.lFrame.contextLView))[wt]}(n)}function I8e(n,e){let t=null;const r=function o0e(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ax(n,s,!0):l0e(r,s))return i}else t=i}return t}function _a(n){const e=P()[k2][L2];if(!e.projection){const r=e.projection=U6(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?I8e(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function ya(n,e=0,t){const r=P(),i=r1(),s=ca(i,B1+n,16,null,t||null);null===s.projection&&(s.projection=e),mm(),32!=(32&s.flags)&&function Zce(n,e,t){tx(e[Be],0,e,t,WI(n,t,e),QI(t.parent||e[L2],t,e))}(i,r,s)}function r0(n,e,t){return P7(n,"",e,"",t),r0}function P7(n,e,t,r,i){const s=P(),o=ua(s,e,t,r);return o!==He&&An(r1(),rt(),s,n,o,s[Be],i,!1),P7}function F7(n,e){return n<<17|e<<2}function U3(n){return n>>17&32767}function Ag(n){return 2|n}function is(n){return(131068&n)>>2}function Lg(n,e){return-131069&n|e<<2}function kg(n){return 1|n}function RA(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?U3(s):is(s),c=!1;for(;0!==a&&(!1===c||o);){const u=n[a+1];O8e(n[a],e)&&(c=!0,n[a+1]=r?kg(u):Ag(u)),a=r?U3(u):is(u)}c&&(n[t+1]=r?Ag(s):kg(s))}function O8e(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Qo(n,e)>=0}const Wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OA(n){return n.substring(Wt.key,Wt.keyEnd)}function PA(n,e){const t=Wt.textEnd;return t===e?-1:(e=Wt.keyEnd=function U8e(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Wt.key=e,t),Ca(n,e,t))}function Ca(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ba(n,e,t){return Tr(n,e,t,!1),ba}function ye(n,e){return Tr(n,e,null,!0),ye}function $3(n){Nr(Z8e,ri,n,!0)}function ri(n,e){for(let t=function F8e(n){return function BA(n){Wt.key=0,Wt.keyEnd=0,Wt.value=0,Wt.valueEnd=0,Wt.textEnd=n.length}(n),PA(n,Ca(n,0,Wt.textEnd))}(e);t>=0;t=PA(e,t))In(n,OA(e),!0)}function Tr(n,e,t,r){const i=P(),s=r1(),o=Wi(2);s.firstUpdatePass&&jA(s,n,o,r),e!==He&&O2(i,o,e)&&qA(s,s.data[Y2()],i,i[Be],n,i[o+1]=function J8e(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=H1(xn(n)))),n}(e,t),r,o)}function Nr(n,e,t,r){const i=r1(),s=Wi(2);i.firstUpdatePass&&jA(i,null,s,r);const o=P();if(t!==He&&O2(o,s,t)){const a=i.data[Y2()];if(YA(a,r)&&!GA(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=em(c,t||"")),Ig(i,a,o,t,r)}else!function X8e(n,e,t,r,i,s,o,a){i===He&&(i=d1);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let m,p=null;u===f?(c+=2,l+=2,d!==h&&(p=f,m=h)):null===f||null!==u&&u<f?(c+=2,p=u):(l+=2,p=f,m=h),null!==p&&qA(n,e,t,r,p,m,o,a),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}(i,a,o,o[Be],o[s+1],o[s+1]=function Q8e(n,e,t){if(null==t||""===t)return d1;const r=[],i=xn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function GA(n,e){return e>=n.expandoStartIndex}function jA(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Y2()],o=GA(n,t);YA(s,r)&&null===e&&!o&&(e=!1),e=function W8e(n,e,t,r){const i=function vm(n){const e=Ve.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=s0(t=Rg(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Rg(i,n,e,t,r),null===s){let c=function q8e(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==is(r))return n[U3(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Rg(null,n,e,c[1],r),c=s0(c,e.attrs,r),function K8e(n,e,t,r){n[U3(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function Y8e(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=s0(r,n[s].hostAttrs,t);return s0(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function k8e(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=U3(o),c=is(o);n[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Qo(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const d=U3(n[a+1]);n[r+1]=F7(d,a),0!==d&&(n[d+1]=Lg(n[d+1],r)),n[a+1]=function A8e(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=F7(a,0),0!==a&&(n[a+1]=Lg(n[a+1],r)),a=r;else n[r+1]=F7(c,0),0===a?a=r:n[c+1]=Lg(n[c+1],r),c=r;l&&(n[r+1]=Ag(n[r+1])),RA(n,u,r,!0),RA(n,u,r,!1),function R8e(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Qo(s,e)>=0&&(t[r+1]=kg(t[r+1]))}(e,u,n,r,s),o=F7(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Rg(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=s0(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function s0(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),In(n,o,!!t||e[++s]))}return void 0===n?null:n}function Z8e(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&In(n,r,t)}function qA(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function L8e(n){return 1==(1&n)}(l)?KA(c,e,t,i,is(l),o):void 0;B7(u)||(B7(s)||function x8e(n){return 2==(2&n)}(l)&&(s=KA(c,null,t,i,a,o)),function Jce(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:dn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=dn.Important),n.setStyle(t,r,i,s))}}(r,o,s7(Y2(),t),i,s))}function KA(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=t[i+1];d===He&&(d=f?d1:void 0);let h=f?Hm(d,r):u===r?d:void 0;if(l&&!B7(h)&&(h=Hm(c,r)),B7(h)&&(a=h,o))return a;const p=n[i+1];i=o?U3(p):is(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Hm(c,r))}return a}function B7(n){return void 0!==n}function YA(n,e){return 0!=(n.flags&(e?8:16))}function I(n,e=""){const t=P(),r=r1(),i=n+B1,s=r.firstCreatePass?ca(r,i,1,e,null):r.data[i],o=t[i]=Gm(t[Be],e);C7(r,t,o,s),Zr(s,!1)}function P2(n){return ii("",n,""),P2}function ii(n,e,t){const r=P(),i=ua(r,n,e,t);return i!==He&&function Yi(n,e,t){const r=s7(e,n);$I(n[Be],r,t)}(r,Y2(),i),ii}function iL(n,e,t,r,i){Nr(In,ri,function fa(n,e,t,r,i,s){const a=rs(n,ji(),t,i);return Wi(2),a?e+Ne(t)+r+Ne(i)+s:He}(P(),n,e,t,r,i),!0)}function pn(n,e,t){const r=P();return O2(r,$o(),e)&&An(r1(),rt(),r,n,e,r[Be],t,!0),pn}const ss=void 0;var _5e=["en",[["a","p"],["AM","PM"],ss],[["AM","PM"],ss,ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ss,"{1} 'at' {0}",ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function v5e(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Ma={};function Z2(n){const e=function y5e(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=gL(e);if(t)return t;const r=e.split("-")[0];if(t=gL(r),t)return t;if("en"===r)return _5e;throw new x(701,!1)}function gL(n){return n in Ma||(Ma[n]=F1.ng&&F1.ng.common&&F1.ng.common.locales&&F1.ng.common.locales[n]),Ma[n]}var Z=(()=>((Z=Z||{})[Z.LocaleId=0]="LocaleId",Z[Z.DayPeriodsFormat=1]="DayPeriodsFormat",Z[Z.DayPeriodsStandalone=2]="DayPeriodsStandalone",Z[Z.DaysFormat=3]="DaysFormat",Z[Z.DaysStandalone=4]="DaysStandalone",Z[Z.MonthsFormat=5]="MonthsFormat",Z[Z.MonthsStandalone=6]="MonthsStandalone",Z[Z.Eras=7]="Eras",Z[Z.FirstDayOfWeek=8]="FirstDayOfWeek",Z[Z.WeekendRange=9]="WeekendRange",Z[Z.DateFormat=10]="DateFormat",Z[Z.TimeFormat=11]="TimeFormat",Z[Z.DateTimeFormat=12]="DateTimeFormat",Z[Z.NumberSymbols=13]="NumberSymbols",Z[Z.NumberFormats=14]="NumberFormats",Z[Z.CurrencyCode=15]="CurrencyCode",Z[Z.CurrencySymbol=16]="CurrencySymbol",Z[Z.CurrencyName=17]="CurrencyName",Z[Z.Currencies=18]="Currencies",Z[Z.Directionality=19]="Directionality",Z[Z.PluralCase=20]="PluralCase",Z[Z.ExtraData=21]="ExtraData",Z))();const C5e=["zero","one","two","few","many"],wa="en-US",U7={marker:"element"},$7={marker:"ICU"};var pt=(()=>((pt=pt||{})[pt.SHIFT=2]="SHIFT",pt[pt.APPEND_EAGERLY=1]="APPEND_EAGERLY",pt[pt.COMMENT=2]="COMMENT",pt))();let vL=wa;function _L(n){(function nr(n,e){null==n&&p1(e,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(vL=n.toLowerCase().replace(/_/g,"-"))}function yL(n,e,t){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ZI(n,0,t):v2(t[i])}function CL(n,e,t,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&-1===e.componentOffset)for(let c=1;c<s.length;c++)J4(n,o,t[s[c]],a,!1)}}function bL(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const r=n[t];ML(r)||S5e(r,e)&&null===z5e(r)&&E5e(r,e.index)}}function ML(n){return!(64&n.type)}function S5e(n,e){return ML(e)||n.index>e.index}function z5e(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function E5e(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(JI(yL,CL),n.insertBeforeIndex=e)}function o0(n,e){const t=n.data[e];return null===t||"string"==typeof t?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function D5e(n,e,t){const r=_g(n,t,64,null,null);return bL(e,r),r}function G7(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}function wL(n){return n>>>17}function SL(n){return(131070&n)>>>1}let a0=0,c0=0;function EL(n,e,t,r){const i=t[Be];let o,s=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const l=e[++a];null===t[l]&&(t[l]=Gm(i,c))}else if("number"==typeof c)switch(1&c){case 0:const l=wL(c);let u,f;if(null===s&&(s=l,o=y7(i,r)),l===s?(u=r,f=o):(u=null,f=v2(t[l])),null!==f){const m=SL(c);J4(i,f,t[m],u,!1);const _=o0(n,m);if(null!==_&&"object"==typeof _){const b=G7(_,t);null!==b&&EL(n,_.create[b],t,t[_.anchorIdx])}}break;case 1:const h=e[++a],p=e[++a];Eg(i,s7(c>>>1,t),null,null,h,p,null)}else switch(c){case $7:const l=e[++a],u=e[++a];null===t[u]&&R2(t[u]=Fce(i,l),t);break;case U7:const f=e[++a],d=e[++a];null===t[d]&&R2(t[d]=jm(i,f,null),t)}}}function TL(n,e,t,r,i){for(let s=0;s<t.length;s++){const o=t[s],a=t[++s];if(o&i){let c="";for(let l=s+1;l<=s+a;l++){const u=t[l];if("string"==typeof u)c+=u;else if("number"==typeof u)if(u<0)c+=Ne(e[r-u]);else{const f=u>>>2;switch(3&u){case 1:const d=t[++l],h=t[++l],p=n.data[f];"string"==typeof p?Eg(e[Be],e[f],null,p,d,c,h):An(n,p,e,d,c,e[Be],h,!1);break;case 0:const m=e[f];null!==m&&$I(e[Be],m,c);break;case 2:A5e(n,o0(n,f),e,c);break;case 3:NL(n,o0(n,f),r,e)}}}}else{const c=t[s+1];if(c>0&&3==(3&c)){const u=o0(n,c>>>2);e[u.currentCaseLViewIndex]<0&&NL(n,u,r,e)}}s+=a}}function NL(n,e,t,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=a0;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),TL(n,r,e.update[i],t,s)}}function A5e(n,e,t,r){const i=function L5e(n,e){let t=n.cases.indexOf(e);if(-1===t)switch(n.type){case 1:{const r=function b5e(n,e){const t=function mL(n){return Z2(n)[Z.PluralCase]}(e)(parseInt(n,10)),r=C5e[t];return void 0!==r?r:"other"}(e,function w5e(){return vL}());t=n.cases.indexOf(r),-1===t&&"other"!==r&&(t=n.cases.indexOf("other"));break}case 0:t=n.cases.indexOf("other")}return-1===t?null:t}(e,r);if(G7(e,t)!==i&&(DL(n,e,t),t[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const o=t[e.anchorIdx];o&&EL(n,e.create[i],t,o)}}function DL(n,e,t){let r=G7(e,t);if(null!==r){const i=e.remove[r];for(let s=0;s<i.length;s++){const o=i[s];if(o>0){const a=s7(o,t);null!==a&&Qm(t[Be],a)}else DL(n,o0(n,~o),t)}}}function k5e(){const n=[];let t,r,e=-1;function s(a,c){e=0;const l=G7(a,c);r=null!==l?a.remove[l]:d1}function o(){if(e<r.length){const a=r[e++];return a>0?t[a]:(n.push(e,r),s(t[ee].data[~a],t),o())}return 0===n.length?null:(r=n.pop(),e=n.pop(),o())}return function i(a,c){for(t=c;n.length;)n.pop();return s(a.value,c),o}}const j7=/\ufffd(\d+):?\d*\ufffd/gi,O5e=/\ufffd(\d+)\ufffd/,HL=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,l0="\ufffd",P5e=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,F5e=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,B5e=/\uE500/g;function IL(n,e,t,r,i,s,o){const a=Z6(n,r,1,null);let c=a<<pt.SHIFT,l=R6();e===l&&(l=null),null===l&&(c|=pt.APPEND_EAGERLY),o&&(c|=pt.COMMENT,function Rce(n){void 0===Fm&&(Fm=n())}(k5e)),i.push(c,null===s?"":s);const u=_g(n,a,o?32:1,null===s?"":s,null);bL(t,u);const f=u.index;return Zr(u,!1),null!==l&&e!==l&&function N5e(n,e){let t=n.insertBeforeIndex;null===t?(JI(yL,CL),t=n.insertBeforeIndex=[null,e]):(function P3(n,e,t){n!=e&&p1(t,n,e,"==")}(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(l,f),u}function G5e(n,e,t,r,i,s,o){const a=o.match(j7),c=IL(n,e,t,s,r,a?null:o,!1);a&&u0(i,o,c.index,null,0,null)}function u0(n,e,t,r,i,s){const o=n.length,a=o+1;n.push(null,null);const c=o+2,l=e.split(j7);let u=0;for(let f=0;f<l.length;f++){const d=l[f];if(1&f){const h=i+parseInt(d,10);n.push(-1-h),u|=xL(h)}else""!==d&&n.push(d)}return n.push(t<<2|(r?1:0)),r&&n.push(r,s),n[o]=u,n[a]=n.length-c,u}function xL(n){return 1<<Math.min(n,31)}function AL(n){let e,s,t="",r=0,i=!1;for(;null!==(e=P5e.exec(n));)i?e[0]===`${l0}/*${s}${l0}`&&(r=e.index,i=!1):(t+=n.substring(r,e.index+e[0].length),s=e[1],i=!0);return t+=n.slice(r),t}function LL(n,e,t,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Z6(n,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function X5e(n,e,t){n.push(xL(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(t,i,s),function T5e(n,e,t){const r=n.data[e];null===r?n.data[e]=t:r.value=t}(n,s,a);const c=i.values;for(let l=0;l<c.length;l++){const u=c[l],f=[];for(let d=0;d<u.length;d++){const h=u[d];if("string"!=typeof h){const p=f.push(h)-1;u[d]=`\x3c!--\ufffd${p}\ufffd--\x3e`}}o=Q5e(n,a,e,t,r,i.cases[l],u.join(""),f)|o}o&&function J5e(n,e,t){n.push(e,1,t<<2|3)}(t,o,s)}function Y5e(n){const e=[],t=[];let r=1,i=0;const s=Og(n=n.replace(HL,function(o,a,c){return r="select"===c?0:1,i=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const c=Og(s[o++]);e.length>t.length&&t.push(c)}return{type:r,mainBinding:i,cases:e,values:t}}function Og(n){if(!n)return[];let e=0;const t=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(n);){const a=s.index;if("}"==s[0]){if(t.pop(),0==t.length){const c=n.substring(e,a);HL.test(c)?r.push(Y5e(c)):r.push(c),e=a+1}}else{if(0==t.length){const c=n.substring(e,a);r.push(c),e=a+1}t.push("{")}}const o=n.substring(e);return r.push(o),r}function Q5e(n,e,t,r,i,s,o,a){const c=[],l=[],u=[];e.cases.push(s),e.create.push(c),e.remove.push(l),e.update.push(u);const d=cx(ix()).getInertBodyElement(o),h=rg(d)||d;return h?kL(n,e,t,r,c,l,u,h,i,a,0):0}function kL(n,e,t,r,i,s,o,a,c,l,u){let f=0,d=a.firstChild;for(;d;){const h=Z6(n,t,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,m=p.tagName.toLowerCase();if(tg.hasOwnProperty(m)){Pg(i,U7,m,c,h),n.data[h]=m;const y=p.attributes;for(let T=0;T<y.length;T++){const A=y.item(T),k=A.name.toLowerCase();A.value.match(j7)?dx.hasOwnProperty(k)&&u0(o,A.value,h,A.name,0,ng[k]?S7:null):ele(i,h,A)}f=kL(n,e,t,r,i,s,o,d,h,l,u+1)|f,RL(s,h,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",_=g.match(j7);Pg(i,null,_?"":g,c,h),RL(s,h,u),_&&(f=u0(o,g,h,null,0,null)|f);break;case Node.COMMENT_NODE:const b=O5e.exec(d.textContent||"");if(b){const T=l[parseInt(b[1],10)];Pg(i,$7,"",c,h),LL(n,t,r,c,T,h),Z5e(s,h,u)}}d=d.nextSibling}return f}function RL(n,e,t){0===t&&n.push(e)}function Z5e(n,e,t){0===t&&(n.push(~e),n.push(e))}function Pg(n,e,t,r,i){null!==e&&n.push(e),n.push(t,i,function V5e(n,e,t){return n|e<<17|t<<1}(0,r,i))}function ele(n,e,t){n.push(e<<1|1,t.name,t.value)}function PL(n,e,t=-1){const r=r1(),i=P(),s=B1+n,o=F3(r.consts,e),a=R6();r.firstCreatePass&&function $5e(n,e,t,r,i,s){const o=R6(),a=[],c=[],l=[[]];i=function K5e(n,e){if(function q5e(n){return-1===n}(e))return AL(n);{const t=n.indexOf(`:${e}${l0}`)+2+e.toString().length,r=n.search(new RegExp(`${l0}\\/\\*\\d+:${e}${l0}`));return AL(n.substring(t,r))}}(i,s);const u=function U5e(n){return n.replace(B5e," ")}(i).split(F5e);for(let f=0;f<u.length;f++){let d=u[f];if(1&f){const h=47===d.charCodeAt(0),m=(d.charCodeAt(h?1:0),B1+Number.parseInt(d.substring(h?2:1)));if(h)l.shift(),Zr(R6(),!1);else{const g=D5e(n,l[0],m);l.unshift([]),Zr(g,!0)}}else{const h=Og(d);for(let p=0;p<h.length;p++){let m=h[p];if(1&p){const g=m;if("object"!=typeof g)throw new Error(`Unable to parse ICU expression in "${i}" message.`);LL(n,t,c,e,g,IL(n,o,l[0],t,a,"",!0).index)}else""!==m&&G5e(n,o,l[0],a,c,t,m)}}}n.data[r]={create:a,update:c}}(r,null===a?0:a.index,i,s,o,t);const c=r.data[s],u=qI(r,a===i[L2]?null:a,i);(function x5e(n,e,t,r){const i=n[Be];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],l=(o&pt.APPEND_EAGERLY)===pt.APPEND_EAGERLY,u=o>>>pt.SHIFT;let f=n[u];null===f&&(f=n[u]=(o&pt.COMMENT)===pt.COMMENT?i.createComment(a):Gm(i,a)),l&&null!==t&&J4(i,t,f,r,!1)}})(i,c.create,u,a&&8&a.type?i[a.index]:null),XH(!0)}function y2(n,e,t){PL(n,e,t),function FL(){XH(!1)}()}function Sa(n){return function H5e(n){n&&(a0|=1<<Math.min(c0,31)),c0++}(O2(P(),$o(),n)),Sa}function f0(n){!function I5e(n,e,t){if(c0>0){const r=n.data[t];TL(n,e,Array.isArray(r)?r:r.update,ji()-c0-1,a0)}a0=0,c0=0}(r1(),P(),n+B1)}function Fg(n,e,t,r,i){if(n=ve(n),Array.isArray(n))for(let s=0;s<n.length;s++)Fg(n[s],e,t,r,i);else{const s=r1(),o=P();let a=ns(n)?n:ve(n.provide),c=Ex(n);const l=_2(),u=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(ns(n)||!n.multi){const h=new O6(c,i,C),p=Ug(a,e,i?u:u+d,f);-1===p?(Tm(h7(l,o),s,a),Bg(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(h),o.push(h)):(t[p]=h,o[p]=h)}else{const h=Ug(a,e,u+d,f),p=Ug(a,e,u,u+d),g=p>=0&&t[p];if(i&&!g||!i&&!(h>=0&&t[h])){Tm(h7(l,o),s,a);const _=function ple(n,e,t,r,i){const s=new O6(n,t,C);return s.multi=[],s.index=e,s.componentProviders=0,BL(s,i,r&&!t),s}(i?hle:dle,t.length,i,r,c);!i&&g&&(t[p].providerFactory=_),Bg(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)}else Bg(s,n,h>-1?h:p,BL(t[i?p:h],c,!i&&r));!i&&r&&g&&t[p].componentProviders++}}}function Bg(n,e,t,r){const i=ns(e),s=function I6e(n){return!!n.useClass}(e);if(i||s){const c=(s?ve(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function BL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ug(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function dle(n,e,t,r){return $g(this.multi,[])}function hle(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Z4(t,t[ee],this.providerFactory.index,r);s=a.slice(0,o),$g(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],$g(i,s);return s}function $g(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function b1(n,e=[]){return t=>{t.providersResolver=(r,i)=>function fle(n,e,t){const r=r1();if(r.firstCreatePass){const i=Sr(n);Fg(t,r.data,r.blueprint,i,!0),Fg(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class za{}class UL{}class $L extends za{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cA(this);const r=Dn(e);this._bootstrapComponents=Ki(r.bootstrap),this._r3Injector=Bx(e,t,[{provide:za,useValue:this},{provide:ta,useValue:this.componentFactoryResolver}],H1(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Gg extends UL{constructor(e){super(),this.moduleType=e}create(e){return new $L(this.moduleType,e)}}class gle extends za{constructor(e,t,r){super(),this.componentFactoryResolver=new cA(this),this.instance=null;const i=new zx([...e,{provide:za,useValue:this},{provide:ta,useValue:this.componentFactoryResolver}],t||N7(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function W7(n,e,t=null){return new gle(n,e,t).injector}let vle=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=bx(0,t.type),i=r.length>0?W7([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(O(zr))}),n})();function Lt(n){n.getStandaloneInjector=e=>e.get(vle).getOrCreateStandaloneInjector(n)}function q7(n,e,t,r){return QL(P(),K2(),n,e,t,r)}function d0(n,e,t,r,i){return function ZL(n,e,t,r,i,s,o){const a=e+t;return rs(n,a,i,s)?ti(n,a+2,o?r.call(o,i,s):r(i,s)):h0(n,a+2)}(P(),K2(),n,e,t,r,i)}function Qi(n,e,t,r,i,s){return function XL(n,e,t,r,i,s,o,a){const c=e+t;return function O7(n,e,t,r,i){const s=rs(n,e,t,r);return O2(n,e+2,i)||s}(n,c,i,s,o)?ti(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):h0(n,c+3)}(P(),K2(),n,e,t,r,i,s)}function h0(n,e){const t=n[e];return t===He?void 0:t}function QL(n,e,t,r,i,s){const o=e+t;return O2(n,o,i)?ti(n,o+1,s?r.call(s,i):r(i)):h0(n,o+1)}function K7(n,e){const t=r1();let r;const i=n+B1;t.firstCreatePass?(r=function xle(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Y4(r.type)),o=rr(C);try{const a=d7(!1),c=s();return d7(a),function N8e(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,P(),i,c),c}finally{rr(o)}}function Y7(n,e,t){const r=n+B1,i=P(),s=Uo(i,r);return function p0(n,e){return n[ee].data[e].pure}(i,r)?QL(i,K2(),e,s.transform,t,s):s.transform(t)}function Wg(n){return e=>{setTimeout(n,void 0,e)}}const ae=class Ole extends qe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Wg(s),i&&(i=Wg(i)),o&&(o=Wg(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ht&&e.add(a),a}};function Ple(){return this._results[Symbol.iterator]()}class qg{get changes(){return this._changes||(this._changes=new ae)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=qg.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Ple)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function sr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function rce(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let x1=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ule,n})();const Fle=x1,Ble=class extends Fle{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=V7(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[A6]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Qr];return null!==o&&(i[Qr]=o.createEmbeddedView(r)),yg(r,i,e),new X6(i)}};function Ule(){return Q7(_2(),P())}function Q7(n,e){return 4&n.type?new Ble(e,n,na(n,e)):null}let lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=$le,n})();function $le(){return rk(_2(),P())}const Gle=lr,tk=class extends Gle{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Em(this._hostTNode,this._hostLView);if(lI(e)){const t=f7(e,this._hostLView),r=u7(e);return new jo(t[ee].data[r+8],t)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=nk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-q2}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function B6(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const f=t||{};a=f.index,r=f.injector,i=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}const c=o?e:new J6(m1(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const d=(o?l:this.parentInjector).get(zr,null);d&&(s=d)}const u=c.create(l,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[ee];if(function zae(n){return wr(n[dt])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const f=r[dt],d=new tk(f,f[L2],f[dt]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function jce(n,e,t,r){const i=q2+r,s=t.length;r>0&&(t[i-1][Mr]=e),r<s-q2?(e[Mr]=t[i],bI(t,q2+r,e)):(t.push(e),e[Mr]=null),e[dt]=t;const o=e[A6];null!==o&&t!==o&&function Wce(n,e){const t=n[Bo];e[k2]!==e[dt][dt][k2]&&(n[RH]=!0),null===t?n[Bo]=[e]:t.push(e)}(o,e);const a=e[Qr];null!==a&&a.insertView(n),e[Re]|=64}(i,r,o,s);const a=Ym(s,o),c=r[Be],l=y7(c,o[n7]);return null!==l&&function Uce(n,e,t,r,i,s){r[Gi]=i,r[L2]=e,K6(n,r,t,1,i,s)}(i,o[L2],c,r,l,a),e.attachToViewContainerRef(),bI(Kg(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=nk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Wm(this._lContainer,t);r&&(m7(Kg(this._lContainer),t),jI(r[ee],r))}detach(e){const t=this._adjustIndex(e,-1),r=Wm(this._lContainer,t);return r&&null!=m7(Kg(this._lContainer),t)?new X6(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function nk(n){return n[r7]}function Kg(n){return n[r7]||(n[r7]=[])}function rk(n,e){let t;const r=e[n.index];if(wr(r))t=r;else{let i;if(8&n.type)i=v2(r);else{const s=e[Be];i=s.createComment("");const o=Hn(n,e);J4(s,y7(s,o),i,function Qce(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=rA(r,e,i,n),I7(e,t)}return new tk(t,n,e)}class Yg{constructor(e){this.queryList=e,this.matches=null}clone(){return new Yg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qg{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Qg(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==ck(e,t).matches&&this.queries[t].setDirty()}}class ik{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Zg{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Zg(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Xg{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Xg(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,jle(t,s)),this.matchTNodeWithReadOption(e,t,p7(t,e,s,!1,!1))}else r===x1?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,p7(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===i1||i===lr||i===x1&&4&t.type)this.addMatch(t.index,-2);else{const s=p7(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function jle(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function qle(n,e,t,r){return-1===t?function Wle(n,e){return 11&n.type?na(n,e):4&n.type?Q7(n,e):null}(e,n):-2===t?function Kle(n,e,t){return t===i1?na(e,n):t===x1?Q7(e,n):t===lr?rk(e,n):void 0}(n,e,r):Z4(n,n[ee],t,e)}function sk(n,e,t,r){const i=e[Qr].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:qle(e,s[l],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function Jg(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=sk(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let f=q2;f<u.length;f++){const d=u[f];d[A6]===d[dt]&&Jg(d[ee],d,l,r)}if(null!==u[Bo]){const f=u[Bo];for(let d=0;d<f.length;d++){const h=f[d];Jg(h[ee],h,l,r)}}}}}return r}function a1(n){const e=P(),t=r1(),r=JH();_m(r+1);const i=ck(t,r);if(n.dirty&&function Sae(n){return 4==(4&n[Re])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Jg(t,e,r,[]):sk(t,e,i,r);n.reset(s,$6e),n.notifyOnChanges()}return!0}return!1}function G3(n,e,t){const r=r1();r.firstCreatePass&&(ak(r,new ik(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),ok(r,P(),e)}function A1(n,e,t,r){const i=r1();if(i.firstCreatePass){const s=_2();ak(i,new ik(e,t,r),s.index),function Qle(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}ok(i,P(),t)}function c1(){return function Yle(n,e){return n[Qr].queries[e].queryList}(P(),JH())}function ok(n,e,t){const r=new qg(4==(4&t));Xx(n,e,r,r.destroy),null===e[Qr]&&(e[Qr]=new Qg),e[Qr].queries.push(new Yg(r))}function ak(n,e,t){null===n.queries&&(n.queries=new Zg),n.queries.track(new Xg(e,t))}function ck(n,e){return n.queries.getByIndex(e)}function kt(n,e){return Q7(n,e)}function X7(...n){}const os=new te("Application Initializer");let J7=(()=>{class n{constructor(t){this.appInits=t,this.resolve=X7,this.reject=X7,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(n0(s))t.push(s);else if(xg(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(O(os,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g0=new te("AppId",{providedIn:"root",factory:function Ek(){return`${sv()}${sv()}${sv()}`}});function sv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tk=new te("Platform Initializer"),as=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nk=new te("AnimationModuleType");let g7e=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ln=new te("LocaleId",{providedIn:"root",factory:()=>Fe(Ln,_e.Optional|_e.SkipSelf)||function v7e(){return typeof $localize<"u"&&$localize.locale||wa}()});class y7e{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Dk=(()=>{class n{compileModuleSync(t){return new Gg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ki(Dn(t).declarations).reduce((o,a)=>{const c=m1(a);return c&&o.push(new J6(c)),o},[]);return new y7e(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M7e=(()=>Promise.resolve(0))();function ov(n){typeof Zone>"u"?M7e.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ce{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function w7e(){let n=F1.requestAnimationFrame,e=F1.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function E7e(n){const e=()=>{!function z7e(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(F1,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cv(n),n.isCheckStableRunning=!0,av(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return Ik(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),xk(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return Ik(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),xk(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,cv(n),av(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ce.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Ce.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,S7e,X7,X7);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const S7e={};function av(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ik(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xk(n){n._nesting--,av(n)}class T7e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Ak=new te(""),eu=new te("");let fv,lv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fv||(function N7e(n){fv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),ov(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ov(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(O(Ce),O(uv),O(eu))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),uv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return fv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zi=!1;let j3=null;const Lk=new te("AllowMultipleToken"),dv=new te("PlatformDestroyListeners"),kk=new te("appBootstrapListener");class Rk{constructor(e,t){this.name=e,this.token=t}}function Pk(n,e,t=[]){const r=`Platform: ${e}`,i=new te(r);return(s=[])=>{let o=hv();if(!o||o.injector.get(Lk,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function H7e(n){if(j3&&!j3.get(Lk,!1))throw new x(400,!1);j3=n;const e=n.get(Bk);(function Ok(n){const e=n.get(Tk,null);e&&e.forEach(t=>t())})(n)}(function Fk(n=[],e){return T1.create({name:e,providers:[{provide:ag,useValue:"platform"},{provide:dv,useValue:new Set([()=>j3=null])},...n]})}(a,r))}return function x7e(n){const e=hv();if(!e)throw new x(401,!1);return e}()}}function hv(){return j3?.get(Bk)??null}let Bk=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function $k(n,e){let t;return t="noop"===n?new T7e:("zone.js"===n?void 0:n)||new Ce(e),t}(r?.ngZone,function Uk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ce,useValue:i}];return i.run(()=>{const o=T1.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),c=a.injector.get(sa,null);if(!c)throw new x(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:u=>{c.handleError(u)}});a.onDestroy(()=>{tu(this._modules,a),l.unsubscribe()})}),function Gk(n,e,t){try{const r=t();return n0(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(c,i,()=>{const l=a.injector.get(J7);return l.runInitializers(),l.donePromise.then(()=>(_L(a.injector.get(Ln,wa)||wa),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=jk({},r);return function D7e(n,e,t){const r=new Gg(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Na);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new x(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(dv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(O(T1))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function jk(n,e){return Array.isArray(e)?e.reduce(jk,n):{...n,...e}}let Na=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Je(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Je(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),ov(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=SH(s,o.pipe(function joe(n={}){const{connector:e=(()=>new qe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,u=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},h=()=>{d(),o=c=void 0,u=f=!1},p=()=>{const m=o;h(),m?.unsubscribe()};return V1((m,g)=>{l++,!f&&!u&&d();const _=c=c??e();g.add(()=>{l--,0===l&&!f&&!u&&(a=Xp(p,i))}),_.subscribe(g),!o&&l>0&&(o=new O3({next:b=>_.next(b),error:b=>{f=!0,d(),a=Xp(h,t,b),_.error(b)},complete:()=>{u=!0,d(),a=Xp(h,r),_.complete()}}),It(m).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof Tx;if(!this._injector.get(J7).done){!i&&function Ro(n){const e=m1(n)||A2(n)||un(n);return null!==e&&e.standalone}(t);throw new x(405,Zi)}let o;o=i?t:this._injector.get(ta).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function V7e(n){return n.isBoundToModule}(o)?void 0:this._injector.get(za),l=o.create(T1.NULL,[],r||o.selector,a),u=l.location.nativeElement,f=l.injector.get(Ak,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),tu(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;tu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(kk,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>tu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(O(Ce),O(zr),O(sa))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let mn=(()=>{class n{}return n.__NG_ELEMENT_ID__=L7e,n})();function L7e(n){return function k7e(n,e,t){if(k6(n)&&!t){const r=fn(n.index,e);return new X6(r,r)}return 47&n.type?new X6(e[k2],e):null}(_2(),P(),16==(16&n))}class Qk{constructor(){}supports(e){return R7(e)}create(e){return new U7e(e)}}const B7e=(n,e)=>e;class U7e{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||B7e}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<Xk(r,i,s)?t:r,a=Xk(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!R7(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function S8e(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new $7e(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Zk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $7e{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G7e{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Zk{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new G7e,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xk(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Jk{constructor(){}supports(e){return e instanceof Map||Hg(e)}create(){return new j7e}}class j7e{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Hg(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new W7e(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class W7e{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eR(){return new iu([new Qk])}let iu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eR()),deps:[[n,new $6,new Ze]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new x(901,!1)}}return n.\u0275prov=$({token:n,providedIn:"root",factory:eR}),n})();function tR(){return new v0([new Jk])}let v0=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tR()),deps:[[n,new $6,new Ze]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new x(901,!1)}}return n.\u0275prov=$({token:n,providedIn:"root",factory:tR}),n})();const Y7e=Pk(null,"core",[]);let Q7e=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(O(Na))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();function Da(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function _v(n,e){const t=m1(n),r=e.elementInjector||N7();return new J6(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let yv=null;function Xi(){return yv}class J7e{}const G1=new te("DocumentToken");let Cv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function eue(){return O(nR)}()},providedIn:"platform"}),n})();const tue=new te("Location Initialized");let nR=(()=>{class n extends Cv{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xi().getBaseHref(this._doc)}onPopState(t){const r=Xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){rR()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){rR()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:function(){return function nue(){return new nR(O(G1))}()},providedIn:"platform"}),n})();function rR(){return!!window.history.pushState}function bv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function iR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ji(n){return n&&"?"!==n[0]?"?"+n:n}let ls=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return Fe(oR)},providedIn:"root"}),n})();const sR=new te("appBaseHref");let oR=(()=>{class n extends ls{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Fe(G1).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ji(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ji(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ji(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Cv),O(sR,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rue=(()=>{class n extends ls{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=bv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ji(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ji(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Cv),O(sR,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),Mv=(()=>{class n{constructor(t){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function oue(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(iR(aR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ji(r))}normalize(t){return n.stripTrailingSlash(function sue(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,aR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ji,n.joinWithSlash=bv,n.stripTrailingSlash=iR,n.\u0275fac=function(t){return new(t||n)(O(ls))},n.\u0275prov=$({token:n,factory:function(){return function iue(){return new Mv(O(ls))}()},providedIn:"root"}),n})();function aR(n){return n.replace(/\/index.html$/,"")}var gn=(()=>((gn=gn||{})[gn.Decimal=0]="Decimal",gn[gn.Percent=1]="Percent",gn[gn.Currency=2]="Currency",gn[gn.Scientific=3]="Scientific",gn))(),j1=(()=>((j1=j1||{})[j1.Format=0]="Format",j1[j1.Standalone=1]="Standalone",j1))(),Ie=(()=>((Ie=Ie||{})[Ie.Narrow=0]="Narrow",Ie[Ie.Abbreviated=1]="Abbreviated",Ie[Ie.Wide=2]="Wide",Ie[Ie.Short=3]="Short",Ie))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function lR(n,e,t){const r=Z2(n),s=fr([r[Z.DayPeriodsFormat],r[Z.DayPeriodsStandalone]],e);return fr(s,t)}function uR(n,e,t){const r=Z2(n),s=fr([r[Z.DaysFormat],r[Z.DaysStandalone]],e);return fr(s,t)}function wv(n,e,t){const r=Z2(n),s=fr([r[Z.MonthsFormat],r[Z.MonthsStandalone]],e);return fr(s,t)}function su(n,e){return fr(Z2(n)[Z.DateFormat],e)}function ou(n,e){return fr(Z2(n)[Z.TimeFormat],e)}function au(n,e){return fr(Z2(n)[Z.DateTimeFormat],e)}function ur(n,e){const t=Z2(n),r=t[Z.NumberSymbols][e];if(typeof r>"u"){if(e===me.CurrencyDecimal)return t[Z.NumberSymbols][me.Decimal];if(e===me.CurrencyGroup)return t[Z.NumberSymbols][me.Group]}return r}function fR(n){if(!n[Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function zv(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const gue=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_0={},vue=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),be=(()=>((be=be||{})[be.FullYear=0]="FullYear",be[be.Month=1]="Month",be[be.Date=2]="Date",be[be.Hours=3]="Hours",be[be.Minutes=4]="Minutes",be[be.Seconds=5]="Seconds",be[be.FractionalSeconds=6]="FractionalSeconds",be[be.Day=7]="Day",be))(),Oe=(()=>((Oe=Oe||{})[Oe.DayPeriods=0]="DayPeriods",Oe[Oe.Days=1]="Days",Oe[Oe.Months=2]="Months",Oe[Oe.Eras=3]="Eras",Oe))();function dR(n,e,t,r){let i=function Eue(n){if(mR(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return cu(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(gue))return function Tue(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,c,l),e}(r)}const e=new Date(n);if(!mR(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=e3(t,e)||e;let a,o=[];for(;e;){if(a=vue.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let c=i.getTimezoneOffset();r&&(c=pR(r,c),i=function zue(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Sue(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(pR(e,i)-i))}(i,r,!0));let l="";return o.forEach(u=>{const f=function wue(n){if(Tv[n])return Tv[n];let e;switch(n){case"G":case"GG":case"GGG":e=L1(Oe.Eras,Ie.Abbreviated);break;case"GGGG":e=L1(Oe.Eras,Ie.Wide);break;case"GGGGG":e=L1(Oe.Eras,Ie.Narrow);break;case"y":e=Ot(be.FullYear,1,0,!1,!0);break;case"yy":e=Ot(be.FullYear,2,0,!0,!0);break;case"yyy":e=Ot(be.FullYear,3,0,!1,!0);break;case"yyyy":e=Ot(be.FullYear,4,0,!1,!0);break;case"Y":e=du(1);break;case"YY":e=du(2,!0);break;case"YYY":e=du(3);break;case"YYYY":e=du(4);break;case"M":case"L":e=Ot(be.Month,1,1);break;case"MM":case"LL":e=Ot(be.Month,2,1);break;case"MMM":e=L1(Oe.Months,Ie.Abbreviated);break;case"MMMM":e=L1(Oe.Months,Ie.Wide);break;case"MMMMM":e=L1(Oe.Months,Ie.Narrow);break;case"LLL":e=L1(Oe.Months,Ie.Abbreviated,j1.Standalone);break;case"LLLL":e=L1(Oe.Months,Ie.Wide,j1.Standalone);break;case"LLLLL":e=L1(Oe.Months,Ie.Narrow,j1.Standalone);break;case"w":e=Ev(1);break;case"ww":e=Ev(2);break;case"W":e=Ev(1,!0);break;case"d":e=Ot(be.Date,1);break;case"dd":e=Ot(be.Date,2);break;case"c":case"cc":e=Ot(be.Day,1);break;case"ccc":e=L1(Oe.Days,Ie.Abbreviated,j1.Standalone);break;case"cccc":e=L1(Oe.Days,Ie.Wide,j1.Standalone);break;case"ccccc":e=L1(Oe.Days,Ie.Narrow,j1.Standalone);break;case"cccccc":e=L1(Oe.Days,Ie.Short,j1.Standalone);break;case"E":case"EE":case"EEE":e=L1(Oe.Days,Ie.Abbreviated);break;case"EEEE":e=L1(Oe.Days,Ie.Wide);break;case"EEEEE":e=L1(Oe.Days,Ie.Narrow);break;case"EEEEEE":e=L1(Oe.Days,Ie.Short);break;case"a":case"aa":case"aaa":e=L1(Oe.DayPeriods,Ie.Abbreviated);break;case"aaaa":e=L1(Oe.DayPeriods,Ie.Wide);break;case"aaaaa":e=L1(Oe.DayPeriods,Ie.Narrow);break;case"b":case"bb":case"bbb":e=L1(Oe.DayPeriods,Ie.Abbreviated,j1.Standalone,!0);break;case"bbbb":e=L1(Oe.DayPeriods,Ie.Wide,j1.Standalone,!0);break;case"bbbbb":e=L1(Oe.DayPeriods,Ie.Narrow,j1.Standalone,!0);break;case"B":case"BB":case"BBB":e=L1(Oe.DayPeriods,Ie.Abbreviated,j1.Format,!0);break;case"BBBB":e=L1(Oe.DayPeriods,Ie.Wide,j1.Format,!0);break;case"BBBBB":e=L1(Oe.DayPeriods,Ie.Narrow,j1.Format,!0);break;case"h":e=Ot(be.Hours,1,-12);break;case"hh":e=Ot(be.Hours,2,-12);break;case"H":e=Ot(be.Hours,1);break;case"HH":e=Ot(be.Hours,2);break;case"m":e=Ot(be.Minutes,1);break;case"mm":e=Ot(be.Minutes,2);break;case"s":e=Ot(be.Seconds,1);break;case"ss":e=Ot(be.Seconds,2);break;case"S":e=Ot(be.FractionalSeconds,1);break;case"SS":e=Ot(be.FractionalSeconds,2);break;case"SSS":e=Ot(be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=uu(qt.Short);break;case"ZZZZZ":e=uu(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=uu(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=uu(qt.Long);break;default:return null}return Tv[n]=e,e}(u);l+=f?f(i,t,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function cu(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function e3(n,e){const t=function aue(n){return Z2(n)[Z.LocaleId]}(n);if(_0[t]=_0[t]||{},_0[t][e])return _0[t][e];let r="";switch(e){case"shortDate":r=su(n,it.Short);break;case"mediumDate":r=su(n,it.Medium);break;case"longDate":r=su(n,it.Long);break;case"fullDate":r=su(n,it.Full);break;case"shortTime":r=ou(n,it.Short);break;case"mediumTime":r=ou(n,it.Medium);break;case"longTime":r=ou(n,it.Long);break;case"fullTime":r=ou(n,it.Full);break;case"short":const i=e3(n,"shortTime"),s=e3(n,"shortDate");r=lu(au(n,it.Short),[i,s]);break;case"medium":const o=e3(n,"mediumTime"),a=e3(n,"mediumDate");r=lu(au(n,it.Medium),[o,a]);break;case"long":const c=e3(n,"longTime"),l=e3(n,"longDate");r=lu(au(n,it.Long),[c,l]);break;case"full":const u=e3(n,"fullTime"),f=e3(n,"fullDate");r=lu(au(n,it.Full),[u,f])}return r&&(_0[t][e]=r),r}function lu(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Vr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Ot(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function yue(n,e){switch(n){case be.FullYear:return e.getFullYear();case be.Month:return e.getMonth();case be.Date:return e.getDate();case be.Hours:return e.getHours();case be.Minutes:return e.getMinutes();case be.Seconds:return e.getSeconds();case be.FractionalSeconds:return e.getMilliseconds();case be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===be.Hours)0===a&&-12===t&&(a=12);else if(n===be.FractionalSeconds)return function _ue(n,e){return Vr(n,3).substring(0,e)}(a,e);const c=ur(o,me.MinusSign);return Vr(a,e,c,r,i)}}function L1(n,e,t=j1.Format,r=!1){return function(i,s){return function Cue(n,e,t,r,i,s){switch(t){case Oe.Months:return wv(e,i,r)[n.getMonth()];case Oe.Days:return uR(e,i,r)[n.getDay()];case Oe.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const l=function fue(n){const e=Z2(n);return fR(e),(e[Z.ExtraData][2]||[]).map(r=>"string"==typeof r?zv(r):[zv(r[0]),zv(r[1])])}(e),u=function due(n,e,t){const r=Z2(n);fR(r);const s=fr([r[Z.ExtraData][0],r[Z.ExtraData][1]],e)||[];return fr(s,t)||[]}(e,i,r),f=l.findIndex(d=>{if(Array.isArray(d)){const[h,p]=d,m=o>=h.hours&&a>=h.minutes,g=o<p.hours||o===p.hours&&a<p.minutes;if(h.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(d.hours===o&&d.minutes===a)return!0;return!1});if(-1!==f)return u[f]}return lR(e,i,r)[o<12?0:1];case Oe.Eras:return function cue(n,e){return fr(Z2(n)[Z.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function uu(n){return function(e,t,r){const i=-1*r,s=ur(t,me.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+Vr(o,2,s)+Vr(Math.abs(i%60),2,s);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+Vr(o,1,s);case qt.Long:return"GMT"+(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const bue=0,fu=4;function hR(n){return cu(n.getFullYear(),n.getMonth(),n.getDate()+(fu-n.getDay()))}function Ev(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=hR(t),o=function Mue(n){const e=cu(n,bue,1).getDay();return cu(n,0,1+(e<=fu?fu:fu+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Vr(i,n,ur(r,me.MinusSign))}}function du(n,e=!1){return function(t,r){return Vr(hR(t).getFullYear(),n,ur(r,me.MinusSign),e)}}const Tv={};function pR(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function mR(n){return n instanceof Date&&!isNaN(n.valueOf())}const Nue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,gR=22,hu=".",y0="0",Due=";",Vue=",",Nv="#";function Hv(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const xv=/\s+/,yR=[];let CR=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=yR,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(xv):yR}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(xv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(xv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(C(iu),C(v0),C(i1),C(Q2))},n.\u0275dir=G({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Bue{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Bue(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),wR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{wR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(lr),C(x1),C(iu))},n.\u0275dir=G({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function wR(n,e){n.context.$implicit=e.item}let Kt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new $ue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){SR("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){SR("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(lr),C(x1))},n.\u0275dir=G({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $ue{constructor(){this.$implicit=null,this.ngIf=null}}function SR(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${H1(e)}'.`)}let si=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(C(lr))},n.\u0275dir=G({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[U1]}),n})();function Hr(n,e){return new x(2100,!1)}class Kue{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Yue{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Que=new Yue,Zue=new Kue;let ER=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(n0(t))return Que;if(SA(t))return Zue;throw Hr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(mn,16))},n.\u0275pipe=ln({name:"async",type:n,pure:!1,standalone:!0}),n})(),TR=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=ln({name:"json",type:n,pure:!1,standalone:!0}),n})(),DR=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function kv(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function xue(n,e,t){return function Dv(n,e,t,r,i,s,o=!1){let a="",c=!1;if(isFinite(n)){let l=function kue(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(hu))>-1&&(e=e.replace(hu,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===y0;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===y0;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>gR&&(r=r.splice(0,gR-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(l=function Lue(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const b=s.match(Nue);if(null===b)throw new Error(`${s} is not a valid digit info`);const y=b[1],T=b[3],A=b[5];null!=y&&(u=Hv(y)),null!=T&&(f=Hv(T)),null!=A?d=Hv(A):null!=T&&f>d&&(d=f)}!function Rue(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+n.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),d>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const m=l.exponent;let g=[];for(c=h.every(b=>!b);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?g=h.splice(p,h.length):(g=h,h=[0]);const _=[];for(h.length>=e.lgSize&&_.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)_.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),a=_.join(ur(t,r)),g.length&&(a+=ur(t,i)+g.join("")),m&&(a+=ur(t,me.Exponential)+"+"+m)}else a=ur(t,me.Infinity);return a=n<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function Vv(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Due),i=r[0],s=r[1],o=-1!==i.indexOf(hu)?i.split(hu):[i.substring(0,i.lastIndexOf(y0)+1),i.substring(i.lastIndexOf(y0)+1)],a=o[0],c=o[1]||"";t.posPre=a.substring(0,a.indexOf(Nv));for(let u=0;u<c.length;u++){const f=c.charAt(u);f===y0?t.minFrac=t.maxFrac=u+1:f===Nv?t.maxFrac=u+1:t.posSuf+=f}const l=a.split(Vue);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,f=s.indexOf(Nv);t.negPre=s.substring(0,f).replace(/'/g,""),t.negSuf=s.slice(f+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Sv(n,e){return Z2(n)[Z.NumberFormats][e]}(e,gn.Percent),ur(e,me.MinusSign)),e,me.Group,me.Decimal,t,!0).replace(new RegExp("%","g"),ur(e,me.PercentSign))}(function Rv(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw Hr()}}}return n.\u0275fac=function(t){return new(t||n)(C(Ln,16))},n.\u0275pipe=ln({name:"percent",type:n,pure:!0,standalone:!0}),n})();let Ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();const VR="browser";function Pv(n){return n===VR}let g9e=(()=>{class n{}return n.\u0275prov=$({token:n,providedIn:"root",factory:()=>new v9e(O(G1),window)}),n})();class v9e{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _9e(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=HR(this.window.history)||HR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function HR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class W9e extends J7e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uv extends W9e{static makeCurrent(){!function X7e(n){yv||(yv=n)}(new Uv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function q9e(){return b0=b0||document.querySelector("base"),b0?b0.getAttribute("href"):null}();return null==t?null:function K9e(n){gu=gu||document.createElement("a"),gu.setAttribute("href",n);const e=gu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){b0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Pue(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let gu,b0=null;const kR=new te("TRANSITION_ID"),Q9e=[{provide:os,useFactory:function Y9e(n,e,t){return()=>{t.get(J7).donePromise.then(()=>{const r=Xi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[kR,G1,T1],multi:!0}];let X9e=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const vu=new te("EventManagerPlugins");let _u=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(O(vu),O(Ce))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class RR{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Xi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let OR=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),M0=(()=>{class n extends OR{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const $v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gv=/%COMP%/g,BR=new te("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function UR(n,e){return e.flat(100).map(t=>t.replace(Gv,n))}function $R(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let yu=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new jv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof WR?i.applyToHost(t):i instanceof Wv&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(r.encapsulation){case br.Emulated:s=new WR(o,a,r,this.appId,c);break;case br.ShadowDom:return new sfe(o,a,t,r);default:s=new Wv(o,a,r,c)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(O(_u),O(M0),O(g0),O(BR))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class jv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($v[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(jR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=$v[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=$v[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dn.DashCase|dn.Important)?e.style.setProperty(t,r,i&dn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$R(r)):this.eventManager.addEventListener(e,t,$R(r))}}function jR(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class sfe extends jv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=UR(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wv extends jv{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=UR(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class WR extends Wv{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function nfe(n){return"_ngcontent-%COMP%".replace(Gv,n)}(o),this.hostAttr=function rfe(n){return"_nghost-%COMP%".replace(Gv,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ofe=(()=>{class n extends RR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const qR=["alt","control","meta","shift"],afe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cfe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let lfe=(()=>{class n extends RR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),qR.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=afe[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qR.forEach(o=>{o!==i&&(0,cfe[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const YR=[{provide:as,useValue:VR},{provide:Tk,useValue:function ufe(){Uv.makeCurrent()},multi:!0},{provide:G1,useFactory:function dfe(){return function i6e(n){Jm=n}(document),document},deps:[]}],hfe=Pk(Y7e,"browser",YR),QR=new te(""),ZR=[{provide:eu,useClass:class Z9e{addToWindow(e){F1.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},F1.getAllAngularTestabilities=()=>e.getAllTestabilities(),F1.getAllAngularRootElements=()=>e.getAllRootElements(),F1.frameworkStabilizers||(F1.frameworkStabilizers=[]),F1.frameworkStabilizers.push(r=>{const i=F1.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Xi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Ak,useClass:lv,deps:[Ce,uv,eu]},{provide:lv,useClass:lv,deps:[Ce,uv,eu]}],XR=[{provide:ag,useValue:"root"},{provide:sa,useFactory:function ffe(){return new sa},deps:[]},{provide:vu,useClass:ofe,multi:!0,deps:[G1,Ce,as]},{provide:vu,useClass:lfe,multi:!0,deps:[G1]},{provide:yu,useClass:yu,deps:[_u,M0,g0,BR]},{provide:ra,useExisting:yu},{provide:OR,useExisting:M0},{provide:M0,useClass:M0,deps:[G1]},{provide:_u,useClass:_u,deps:[vu,Ce]},{provide:class y9e{},useClass:X9e,deps:[]},[]];let JR=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g0,useValue:t.appId},{provide:kR,useExisting:g0},Q9e]}}}return n.\u0275fac=function(t){return new(t||n)(O(QR,12))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[...XR,...ZR],imports:[Ov,Q7e]}),n})(),Kv=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function mfe(){return new Kv(O(G1))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let nO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new(t||n):O(rO),r},providedIn:"root"}),n})(),rO=(()=>{class n extends nO{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case I1.NONE:return r;case I1.HTML:return Jr(r,"HTML")?xn(r):px(this._doc,String(r)).toString();case I1.STYLE:return Jr(r,"Style")?xn(r):r;case I1.SCRIPT:if(Jr(r,"Script"))return xn(r);throw new Error("unsafe value used in a script context");case I1.URL:return Jr(r,"URL")?xn(r):S7(String(r));case I1.RESOURCE_URL:if(Jr(r,"ResourceURL"))return xn(r);throw new Error(`unsafe value used in a resource URL context (see ${jl})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${jl})`)}}bypassSecurityTrustHtml(t){return function f6e(n){return new s6e(n)}(t)}bypassSecurityTrustStyle(t){return function d6e(n){return new o6e(n)}(t)}bypassSecurityTrustScript(t){return function h6e(n){return new a6e(n)}(t)}bypassSecurityTrustUrl(t){return function p6e(n){return new c6e(n)}(t)}bypassSecurityTrustResourceUrl(t){return function m6e(n){return new l6e(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function Cfe(n){return new rO(n.get(G1))}(O(T1)),r},providedIn:"root"}),n})();const{isArray:bfe}=Array,{getPrototypeOf:Mfe,prototype:wfe,keys:Sfe}=Object;function iO(n){if(1===n.length){const e=n[0];if(bfe(e))return{args:e,keys:null};if(function zfe(n){return n&&"object"==typeof n&&Mfe(n)===wfe}(e)){const t=Sfe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Efe}=Array;function Qv(n){return ge(e=>function Tfe(n,e){return Efe(e)?n(...e):n(e)}(n,e))}function sO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let oO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(Q2),C(i1))},n.\u0275dir=G({type:n}),n})(),us=(()=>{class n extends oO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=G({type:n,features:[g1]}),n})();const vn=new te("NgValueAccessor"),Vfe={provide:vn,useExisting:Se(()=>Cu),multi:!0},Ife=new te("CompositionEventMode");let Cu=(()=>{class n extends oO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hfe(){const n=Xi()?Xi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Q2),C(i1),C(Ife,8))},n.\u0275dir=G({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ne("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[b1([Vfe]),g1]}),n})();const xfe=!1;function q3(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const C2=new te("NgValidators"),K3=new te("NgAsyncValidators");function fO(n){return q3(n.value)?{required:!0}:null}function bu(n){return null}function vO(n){return null!=n}function _O(n){const e=n0(n)?At(n):n;if(xfe&&!xg(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new x(-1101,t)}return e}function yO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function CO(n,e){return e.map(t=>t(n))}function bO(n){return n.map(e=>function Lfe(n){return!n.validate}(e)?e:t=>e.validate(t))}function Zv(n){return null!=n?function MO(n){if(!n)return null;const e=n.filter(vO);return 0==e.length?null:function(t){return yO(CO(t,e))}}(bO(n)):null}function Xv(n){return null!=n?function wO(n){if(!n)return null;const e=n.filter(vO);return 0==e.length?null:function(t){return function Nfe(...n){const e=Ul(n),{args:t,keys:r}=iO(n),i=new Je(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let f=!1;It(t[u]).subscribe(C1(s,d=>{f||(f=!0,l--),a[u]=d},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?sO(r,a):a),s.complete())}))}});return e?i.pipe(Qv(e)):i}(CO(t,e).map(_O)).pipe(ge(yO))}}(bO(n)):null}function SO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jv(n){return n?Array.isArray(n)?n:[n]:[]}function Mu(n,e){return Array.isArray(n)?n.includes(e):n===e}function TO(n,e){const t=Jv(e);return Jv(n).forEach(i=>{Mu(t,i)||t.push(i)}),t}function NO(n,e){return Jv(e).filter(t=>!Mu(n,t))}class DO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class J2 extends DO{get formDirective(){return null}get path(){return null}}class Y3 extends DO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let HO=(()=>{class n extends VO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Y3,2))},n.\u0275dir=G({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g1]}),n})(),IO=(()=>{class n extends VO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(J2,10))},n.\u0275dir=G({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g1]}),n})();function xO(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const n_=!1,w0="VALID",Su="INVALID",Va="PENDING",S0="DISABLED";function r_(n){return(zu(n)?n.validators:n)||null}function i_(n,e){return(zu(e)?e.asyncValidators:n)||null}function zu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===w0}get invalid(){return this.status===Su}get pending(){return this.status==Va}get disabled(){return this.status===S0}get enabled(){return this.status!==S0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NO(e,this._rawAsyncValidators))}hasValidator(e){return Mu(this._rawValidators,e)}hasAsyncValidator(e){return Mu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Va,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=S0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=w0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w0||this.status===Va)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?S0:w0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Va,this._hasOwnPendingAsyncValidator=!0;const t=_O(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?S0:this.errors?Su:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Va)?Va:this._anyControlsHaveStatus(Su)?Su:w0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ufe(n){return Array.isArray(n)?Zv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $fe(n){return Array.isArray(n)?Xv(n):n||null}(this._rawAsyncValidators)}}class s_ extends kO{constructor(e,t,r){super(r_(t),i_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function LO(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new x(1002,n_?function Bfe(n,e){return`Must supply a value for form control ${xO(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function AO(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,n_?function Pfe(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new x(1001,n_?function Ffe(n,e){return`Cannot find form control ${xO(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const fs=new te("CallSetDisabledState",{providedIn:"root",factory:()=>z0}),z0="always";function E0(n,e,t=z0){o_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Wfe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&RO(n,e)})}(n,e),function Kfe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qfe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&RO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function jfe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Nu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function o_(n,e){const t=function zO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(SO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function EO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(SO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Nu(e._rawValidators,i),Nu(e._rawAsyncValidators,i)}function RO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Jfe={provide:J2,useExisting:Se(()=>Vu)},T0=(()=>Promise.resolve())();let Vu=(()=>{class n extends J2{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ae,this.form=new s_({},Zv(t),Xv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){T0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),E0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){T0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){T0.then(()=>{const r=this._findContainer(t.path),i=new s_({});(function OO(n,e){o_(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){T0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){T0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function PO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(C(C2,10),C(K3,10),C(fs,8))},n.\u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&ne("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b1([Jfe]),g1]}),n})();function FO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function BO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const UO=class extends kO{constructor(e=null,t,r){super(r_(t),i_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=BO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){BO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},nde={provide:Y3,useExisting:Se(()=>u_)},jO=(()=>Promise.resolve())();let u_=(()=>{class n extends Y3{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new UO,this._registered=!1,this.update=new ae,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function l_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Cu?t=s:function Zfe(n){return Object.getPrototypeOf(n.constructor)===us}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function c_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){E0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){jO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Da(r);jO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Eu(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(C(J2,9),C(C2,10),C(K3,10),C(vn,10),C(mn,8),C(fs,8))},n.\u0275dir=G({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b1([nde]),g1,U1]}),n})(),WO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const ide={provide:vn,useExisting:Se(()=>f_),multi:!0};let KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})(),sde=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:KO}),n})(),f_=(()=>{class n extends us{constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Fe(fs,{optional:!0})??z0}ngOnInit(){this._control=this._injector.get(Y3),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(C(Q2),C(i1),C(sde),C(T1))},n.\u0275dir=G({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&ne("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[b1([ide]),g1]}),n})();const d_=new te("NgModelWithFormControlWarning");let ds=(()=>{class n{constructor(){this._validator=bu}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,features:[U1]}),n})();const Cde={provide:C2,useExisting:Se(()=>Hu),multi:!0};let Hu=(()=>{class n extends ds{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Da,this.createValidator=t=>fO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=G({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Ye("required",r._enabled?"":null)},inputs:{required:"required"},features:[b1([Cde]),g1]}),n})();const wde={provide:C2,useExisting:Se(()=>__),multi:!0};let __=(()=>{class n extends ds{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function tP(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function pO(n){return e=>q3(e.value)||!function cO(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=G({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ye("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[b1([wde]),g1]}),n})(),lP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[KO]}),n})(),Tde=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fs,useValue:t.callSetDisabledState??z0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[lP]}),n})(),Nde=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:d_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:fs,useValue:t.callSetDisabledState??z0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[lP]}),n})();function he(...n){return At(n,N6(n))}class mt extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Iu=A3(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xu(...n){const e=N6(n),t=Ul(n),{args:r,keys:i}=iO(n);if(0===r.length)return At([],e);const s=new Je(function Dde(n,e,t=Cr){return r=>{uP(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)uP(e,()=>{const l=At(n[c],e);let u=!1;l.subscribe(C1(r,f=>{s[c]=f,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>sO(i,o):Cr));return t?s.pipe(Qv(t)):s}function uP(n,e,t){n?Fi(t,n,e):e()}function N0(...n){return function Vde(){return Lo(1)}()(At(n,N6(n)))}function fP(n){return new Je(e=>{It(n()).subscribe(e)})}function D0(n,e){const t=Ue(n)?n:()=>n,r=i=>i.error(t());return new Je(e?i=>e.schedule(r,0,i):r)}function y_(){return V1((n,e)=>{let t=null;n._refCount++;const r=C1(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dP extends Je{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,S6(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ht;const t=this.getSubject();e.add(this.source.subscribe(C1(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ht.EMPTY)}return e}refCount(){return y_()(this)}}function _n(n,e){return V1((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(C1(r,c=>{i?.unsubscribe();let l=0;const u=s++;It(n(c,u)).subscribe(i=C1(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function gt(n){return n<=0?()=>tr:V1((e,t)=>{let r=0;e.subscribe(C1(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function V0(...n){const e=N6(n);return V1((t,r)=>{(e?N0(n,t,e):N0(n,t)).subscribe(r)})}function zt(n,e){return V1((t,r)=>{let i=0;t.subscribe(C1(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Au(n){return V1((e,t)=>{let r=!1;e.subscribe(C1(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hP(n=Hde){return V1((e,t)=>{let r=!1;e.subscribe(C1(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Hde(){return new Iu}function Q3(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zt((i,s)=>n(i,s,r)):Cr,gt(1),t?Au(e):hP(()=>new Iu))}function hs(n,e){return Ue(e)?xt(n,e,1):xt(n,1)}function Yt(n,e,t){const r=Ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?V1((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(C1(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Cr}function Z3(n){return V1((e,t)=>{let s,r=null,i=!1;r=e.subscribe(C1(t,void 0,void 0,o=>{s=It(n(o,Z3(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function pP(n,e){return V1(function Ide(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(C1(o,u=>{const f=l++;c=a?n(c,u,f):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function C_(n){return n<=0?()=>tr:V1((e,t)=>{let r=[];e.subscribe(C1(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zt((i,s)=>n(i,s,r)):Cr,C_(1),t?Au(e):hP(()=>new Iu))}function b_(n){return V1((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ae="primary",H0=Symbol("RouteTitle");class Ade{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ha(n){return new Ade(n)}function Lde(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function oi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!vP(n[i],e[i]))return!1;return!0}function vP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _P(n){return Array.prototype.concat.apply([],n)}function yP(n){return n.length>0?n[n.length-1]:null}function b2(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function X3(n){return xg(n)?n:n0(n)?At(Promise.resolve(n)):he(n)}const Lu=!1,Rde={exact:function MP(n,e,t){if(!ps(n.segments,e.segments)||!ku(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!MP(n.children[r],e.children[r],t))return!1;return!0},subset:wP},CP={exact:function Ode(n,e){return oi(n,e)},subset:function Pde(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vP(n[t],e[t]))},ignored:()=>!0};function bP(n,e,t){return Rde[t.paths](n.root,e.root,t.matrixParams)&&CP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wP(n,e,t){return SP(n,e,e.segments,t)}function SP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ps(i,t)||e.hasChildren()||!ku(i,t,r))}if(n.segments.length===t.length){if(!ps(n.segments,t)||!ku(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!wP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ps(n.segments,i)&&ku(n.segments,i,r)&&n.children[Ae])&&SP(n.children[Ae],e,s,r)}}function ku(n,e,t){return e.every((r,i)=>CP[t](n[i].parameters,r.parameters))}class J3{constructor(e=new $e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ha(this.queryParams)),this._queryParamMap}toString(){return Ude.serialize(this)}}class $e{constructor(e,t){this.segments=e,this.children=t,this.parent=null,b2(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ru(this)}}class I0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ha(this.parameters)),this._parameterMap}toString(){return TP(this)}}function ps(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let x0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return new M_},providedIn:"root"}),n})();class M_{parse(e){const t=new Zde(e);return new J3(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${A0(e.root,!0)}`,r=function jde(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ou(t)}=${Ou(i)}`).join("&"):`${Ou(t)}=${Ou(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function $de(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ude=new M_;function Ru(n){return n.segments.map(e=>TP(e)).join("/")}function A0(n,e){if(!n.hasChildren())return Ru(n);if(e){const t=n.children[Ae]?A0(n.children[Ae],!1):"",r=[];return b2(n.children,(i,s)=>{s!==Ae&&r.push(`${s}:${A0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Bde(n,e){let t=[];return b2(n.children,(r,i)=>{i===Ae&&(t=t.concat(e(r,i)))}),b2(n.children,(r,i)=>{i!==Ae&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ae?[A0(n.children[Ae],!1)]:[`${i}:${A0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ae]?`${Ru(n)}/${t[0]}`:`${Ru(n)}/(${t.join("//")})`}}function zP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ou(n){return zP(n).replace(/%3B/gi,";")}function w_(n){return zP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(n){return decodeURIComponent(n)}function EP(n){return Pu(n.replace(/\+/g,"%20"))}function TP(n){return`${w_(n.path)}${function Gde(n){return Object.keys(n).map(e=>`;${w_(e)}=${w_(n[e])}`).join("")}(n.parameters)}`}const Wde=/^[^\/()?;=#]+/;function Fu(n){const e=n.match(Wde);return e?e[0]:""}const qde=/^[^=?&#]+/,Yde=/^[^&#]+/;class Zde{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ae]=new $e(e,t)),r}parseSegment(){const e=Fu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,Lu);return this.capture(e),new I0(Pu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Fu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Fu(this.remaining);i&&(r=i,this.capture(r))}e[Pu(t)]=Pu(r)}parseQueryParam(e){const t=function Kde(n){const e=n.match(qde);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Qde(n){const e=n.match(Yde);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=EP(t),s=EP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Fu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,Lu);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ae);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ae]:new $e([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,Lu)}}function S_(n){return n.segments.length>0?new $e([],{[Ae]:n}):n}function Bu(n){const e={};for(const r of Object.keys(n.children)){const s=Bu(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Xde(n){if(1===n.numberOfChildren&&n.children[Ae]){const e=n.children[Ae];return new $e(n.segments.concat(e.segments),e.children)}return n}(new $e(n.segments,e))}function ms(n){return n instanceof J3}const z_=!1;function Jde(n,e,t,r,i){if(0===t.length)return Ia(e.root,e.root,e.root,r,i);const s=function IP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new HP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return b2(s.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new HP(t,e,r)}(t);return s.toRoot()?Ia(e.root,e.root,new $e([],{}),r,i):function o(c){const l=function the(n,e,t,r){if(n.isAbsolute)return new xa(e.root,!0,0);if(-1===r)return new xa(t,t===e.root,0);return function xP(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,z_&&"Invalid number of '../'");i=r.segments.length}return new xa(r,!1,i-s)}(t,r+(L0(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,c),u=l.processChildren?Aa(l.segmentGroup,l.index,s.commands):E_(l.segmentGroup,l.index,s.commands);return Ia(e.root,l.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function L0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function k0(n){return"object"==typeof n&&null!=n&&n.outlets}function Ia(n,e,t,r,i){let o,s={};r&&b2(r,(c,l)=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:VP(n,e,t);const a=S_(Bu(o));return new J3(a,s,i)}function VP(n,e,t){const r={};return b2(n.children,(i,s)=>{r[s]=i===e?t:VP(i,e,t)}),new $e(n.segments,r)}class HP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&L0(r[0]))throw new x(4003,z_&&"Root segment cannot have matrix parameters");const i=r.find(k0);if(i&&i!==yP(r))throw new x(4004,z_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function E_(n,e,t){if(n||(n=new $e([],{})),0===n.segments.length&&n.hasChildren())return Aa(n,e,t);const r=function rhe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(k0(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!LP(c,l,o))return s;r+=2}else{if(!LP(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new $e(n.segments.slice(0,r.pathIndex),{});return s.children[Ae]=new $e(n.segments.slice(r.pathIndex),n.children),Aa(s,0,i)}return r.match&&0===i.length?new $e(n.segments,{}):r.match&&!n.hasChildren()?T_(n,e,t):r.match?Aa(n,0,i):T_(n,e,t)}function Aa(n,e,t){if(0===t.length)return new $e(n.segments,{});{const r=function nhe(n){return k0(n[0])?n[0].outlets:{[Ae]:n}}(t),i={};if(!r[Ae]&&n.children[Ae]&&1===n.numberOfChildren&&0===n.children[Ae].segments.length){const s=Aa(n.children[Ae],e,t);return new $e(n.segments,s.children)}return b2(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=E_(n.children[o],e,s))}),b2(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new $e(n.segments,i)}}function T_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(k0(s)){const c=ihe(s.outlets);return new $e(r,c)}if(0===i&&L0(t[0])){r.push(new I0(n.segments[e].path,AP(t[0]))),i++;continue}const o=k0(s)?s.outlets[Ae]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&L0(a)?(r.push(new I0(o,AP(a))),i+=2):(r.push(new I0(o,{})),i++)}return new $e(r,{})}function ihe(n){const e={};return b2(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=T_(new $e([],{}),0,t))}),e}function AP(n){const e={};return b2(n,(t,r)=>e[r]=`${t}`),e}function LP(n,e,t){return n==t.path&&oi(e,t.parameters)}const R0="imperative";class ai{constructor(e,t){this.id=e,this.url=t}}class N_ extends ai{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gs extends ai{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Uu extends ai{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $u extends ai{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class D_ extends ai{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class she extends ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ohe extends ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ahe extends ai{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class che extends ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lhe extends ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uhe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fhe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dhe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hhe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class phe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kP{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vhe=(()=>{class n{createUrlTree(t,r,i,s,o,a){return Jde(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),yhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(e){return vhe.\u0275fac(e)},providedIn:"root"}),n})();class OP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=V_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=V_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=H_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return H_(e,this._root).map(t=>t.value)}}function V_(n,e){if(n===e.value)return e;for(const t of e.children){const r=V_(n,t);if(r)return r}return null}function H_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=H_(n,t);if(r.length)return r.unshift(e),r}return[]}class t3{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function La(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class PP extends OP{constructor(e,t){super(e),this.snapshot=t,I_(this,e)}toString(){return this.snapshot.toString()}}function FP(n,e){const t=function Che(n,e){const o=new Gu([],{},{},"",{},Ae,e,null,n.root,-1,{});return new UP("",new t3(o,[]))}(n,e),r=new mt([new I0("",{})]),i=new mt({}),s=new mt({}),o=new mt({}),a=new mt(""),c=new vs(r,i,o,a,s,Ae,e,t.root);return c.snapshot=t.root,new PP(new t3(c,[]),t)}class vs{constructor(e,t,r,i,s,o,a,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ge(l=>l[H0]))??he(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>Ha(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>Ha(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function bhe(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gu{get title(){return this.data?.[H0]}constructor(e,t,r,i,s,o,a,c,l,u,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ha(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ha(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UP extends OP{constructor(e,t){super(t),this.url=e,I_(this,t)}toString(){return $P(this._root)}}function I_(n,e){e.value._routerState=n,e.children.forEach(t=>I_(n,t))}function $P(n){const e=n.children.length>0?` { ${n.children.map($P).join(", ")} } `:"";return`${n.value}${e}`}function x_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,oi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),oi(e.params,t.params)||n.params.next(t.params),function kde(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!oi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),oi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function A_(n,e){const t=oi(n.params,e.params)&&function Fde(n,e){return ps(n,e)&&n.every((t,r)=>oi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||A_(n.parent,e.parent))}function O0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function whe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return O0(n,r,i);return O0(n,r)})}(n,e,t);return new t3(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>O0(n,a)),o}}const r=function She(n){return new vs(new mt(n.url),new mt(n.params),new mt(n.queryParams),new mt(n.fragment),new mt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>O0(n,s));return new t3(r,i)}}const L_="ngNavigationCancelingError";function GP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function jP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[L_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function WP(n){return qP(n)&&ms(n.url)}function qP(n){return n&&n[L_]}class zhe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new P0,this.attachRef=null}}let P0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zhe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ju=!1;let k_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=Fe(P0),this.location=Fe(lr),this.changeDetector=Fe(mn),this.environmentInjector=Fe(zr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,ju);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,ju);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,ju);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,ju);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Ehe(t,a,i.injector);if(r&&function The(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,c)}else this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[U1]}),n})();class Ehe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vs?this.route:e===P0?this.childContexts:this.parent.get(e,t)}}let Wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["ng-component"]],standalone:!0,features:[Lt],decls:1,vars:0,template:function(t,r){1&t&&ce(0,"router-outlet")},dependencies:[k_],encapsulation:2}),n})();function KP(n,e){return n.providers&&!n._injector&&(n._injector=W7(n.providers,e,`Route: ${n.path}`)),n._injector??e}function O_(n){const e=n.children&&n.children.map(O_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ae&&(t.component=Wu),t}function dr(n){return n.outlet||Ae}function YP(n,e){const t=n.filter(r=>dr(r)===e);return t.push(...n.filter(r=>dr(r)!==e)),t}function F0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ihe{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),x_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=La(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),b2(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=La(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=La(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=La(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new kP(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hhe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(x_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),x_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=F0(i.snapshot),c=a?.get(ta)??null;o.attachRef=null,o.route=i,o.resolver=c,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class QP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qu{constructor(e,t){this.component=e,this.route=t}}function xhe(n,e,t){const r=n._root;return B0(r,e?e._root:null,t,[r.value])}function ka(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Xoe(n){return null!==Kl(n)}(n)?e.get(n):n:r}function B0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=La(e);return n.children.forEach(o=>{(function Lhe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function khe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ps(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ps(n.url,e.url)||!oi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!A_(n,e)||!oi(n.queryParams,e.queryParams);default:return!A_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new QP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),B0(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qu(a.outlet.component,o))}else o&&U0(e,a,i),i.canActivateChecks.push(new QP(r)),B0(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),b2(s,(o,a)=>U0(o,t.getContext(a),i)),i}function U0(n,e,t){const r=La(n),i=n.value;b2(r,(s,o)=>{U0(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new qu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $0(n){return"function"==typeof n}function P_(n){return n instanceof Iu||"EmptyError"===n?.name}const Ku=Symbol("INITIAL_VALUE");function Ra(){return _n(n=>xu(n.map(e=>e.pipe(gt(1),V0(Ku)))).pipe(ge(e=>{for(const t of e)if(!0!==t){if(t===Ku)return Ku;if(!1===t||t instanceof J3)return t}return!0}),zt(e=>e!==Ku),gt(1)))}function ZP(n){return function Ll(...n){return kl(n)}(Yt(e=>{if(ms(e))throw GP(0,e)}),ge(e=>!0===e))}const F_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XP(n,e,t,r,i){const s=B_(n,e,t);return s.matched?function Jhe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?he(i.map(o=>{const a=ka(o,n);return X3(function Uhe(n){return n&&$0(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),ZP()):he(!0)}(r=KP(e,r),e,t).pipe(ge(o=>!0===o?s:{...F_})):he(s)}function B_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...F_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Lde)(t,n,e);if(!i)return{...F_};const s={};b2(i.posParams,(a,c)=>{s[c]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Yu(n,e,t,r){if(t.length>0&&function npe(n,e,t){return t.some(r=>Qu(n,e,r)&&dr(r)!==Ae)}(n,t,r)){const s=new $e(e,function tpe(n,e,t,r){const i={};i[Ae]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&dr(s)!==Ae){const o=new $e([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[dr(s)]=o}return i}(n,e,r,new $e(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function rpe(n,e,t){return t.some(r=>Qu(n,e,r))}(n,t,r)){const s=new $e(n.segments,function epe(n,e,t,r,i){const s={};for(const o of r)if(Qu(n,t,o)&&!i[dr(o)]){const a=new $e([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[dr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new $e(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Qu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function JP(n,e,t,r){return!!(dr(n)===r||r!==Ae&&Qu(e,t,n))&&("**"===n.path||B_(e,n,t).matched)}function eF(n,e,t){return 0===e.length&&!n.children[t]}const Zu=!1;class Xu{constructor(e){this.segmentGroup=e||null}}class tF{constructor(e){this.urlTree=e}}function G0(n){return D0(new Xu(n))}function nF(n){return D0(new tF(n))}class ape{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Yu(this.urlTree.root,[],[],this.config).segmentGroup,t=new $e(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ae).pipe(ge(s=>this.createUrlTree(Bu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Z3(s=>{if(s instanceof tF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Xu?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ae).pipe(ge(i=>this.createUrlTree(Bu(i),e.queryParams,e.fragment))).pipe(Z3(i=>{throw i instanceof Xu?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,Zu)}createUrlTree(e,t,r){const i=S_(e);return new J3(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ge(s=>new $e([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return At(i).pipe(hs(s=>{const o=r.children[s],a=YP(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ge(c=>({segment:c,outlet:s})))}),pP((s,o)=>(s[o.outlet]=o.segment,s),{}),mP())}expandSegment(e,t,r,i,s,o){return At(r).pipe(hs(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Z3(l=>{if(l instanceof Xu)return he(null);throw l}))),Q3(a=>!!a),Z3((a,c)=>{if(P_(a))return eF(t,i,s)?he(new $e([],{})):G0(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return JP(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):G0(t):G0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nF(s):this.lineralizeSegments(r,s).pipe(xt(o=>{const a=new $e(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=B_(t,i,s);if(!a)return G0(t);const f=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?nF(f):this.lineralizeSegments(i,f).pipe(xt(d=>this.expandSegment(e,t,r,d.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=KP(r,e),r.loadChildren?(r._loadedRoutes?he({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ge(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new $e(i,{})))):he(new $e(i,{}))):XP(t,r,i,e).pipe(_n(({matched:o,consumedSegments:a,remainingSegments:c})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(xt(u=>{const f=u.injector??e,d=u.routes,{segmentGroup:h,slicedSegments:p}=Yu(t,a,c,d),m=new $e(h.segments,h.children);if(0===p.length&&m.hasChildren())return this.expandChildren(f,d,m).pipe(ge(y=>new $e(a,y)));if(0===d.length&&0===p.length)return he(new $e(a,{}));const g=dr(r)===s;return this.expandSegment(f,m,d,p,g?Ae:s,!0).pipe(ge(b=>new $e(a.concat(b.segments),b.children)))})):G0(t)))}getChildConfig(e,t,r){return t.children?he({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?he({routes:t._loadedRoutes,injector:t._loadedInjector}):function Xhe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?he(!0):he(i.map(o=>{const a=ka(o,n);return X3(function Ohe(n){return n&&$0(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),ZP())}(e,t,r).pipe(xt(i=>i?this.configLoader.loadChildren(e,t).pipe(Yt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function spe(n){return D0(jP(Zu,3))}())):he({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return he(r);if(i.numberOfChildren>1||!i.children[Ae])return e.redirectTo,D0(new x(4e3,Zu));i=i.children[Ae]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new J3(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return b2(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return b2(t.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new $e(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new x(4001,Zu);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class lpe{}class dpe{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Yu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ae).pipe(ge(t=>{if(null===t)return null;const r=new Gu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new t3(r,t),s=new UP(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=BP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return At(Object.keys(r.children)).pipe(hs(i=>{const s=r.children[i],o=YP(t,i);return this.processSegmentGroup(e,o,s,i)}),pP((i,s)=>i&&s?(i.push(...s),i):null),function xde(n,e=!1){return V1((t,r)=>{let i=0;t.subscribe(C1(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Au(null),mP(),ge(i=>{if(null===i)return null;const s=iF(i);return function hpe(n){n.sort((e,t)=>e.value.outlet===Ae?-1:t.value.outlet===Ae?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return At(t).pipe(hs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Q3(o=>!!o),Z3(o=>{if(P_(o))return eF(r,i,s)?he([]):he(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!JP(t,r,i,s))return he(null);let o;if("**"===t.path){const a=i.length>0?yP(i).parameters:{},c=oF(r)+i.length;o=he({snapshot:new Gu(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aF(t),dr(t),t.component??t._loadedComponent??null,t,sF(r),c,cF(t)),consumedSegments:[],remainingSegments:[]})}else o=XP(r,t,i,e).pipe(ge(({matched:a,consumedSegments:c,remainingSegments:l,parameters:u})=>{if(!a)return null;const f=oF(r)+c.length;return{snapshot:new Gu(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aF(t),dr(t),t.component??t._loadedComponent??null,t,sF(r),f,cF(t)),consumedSegments:c,remainingSegments:l}}));return o.pipe(_n(a=>{if(null===a)return he(null);const{snapshot:c,consumedSegments:l,remainingSegments:u}=a;e=t._injector??e;const f=t._loadedInjector??e,d=function ppe(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:h,slicedSegments:p}=Yu(r,l,u,d.filter(g=>void 0===g.redirectTo));if(0===p.length&&h.hasChildren())return this.processChildren(f,d,h).pipe(ge(g=>null===g?null:[new t3(c,g)]));if(0===d.length&&0===p.length)return he([new t3(c,[])]);const m=dr(t)===s;return this.processSegment(f,d,h,p,m?Ae:s).pipe(ge(g=>null===g?null:[new t3(c,g)]))}))}}function mpe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function iF(n){const e=[],t=new Set;for(const r of n){if(!mpe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=iF(r.children);e.push(new t3(r.value,i))}return e.filter(r=>!t.has(r))}function sF(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function oF(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function aF(n){return n.data||{}}function cF(n){return n.resolve||{}}function _pe(n,e){return xt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return he(t);let s=0;return At(i).pipe(hs(o=>function ype(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!lF(i)&&(s[H0]=i.title),function Cpe(n,e,t,r){const i=function bpe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return he({});const s={};return At(i).pipe(xt(o=>function Mpe(n,e,t,r){const i=F0(e)??r,s=ka(n,i);return X3(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Q3(),Yt(a=>{s[o]=a}))),C_(1),function gP(n){return ge(()=>n)}(s),Z3(o=>P_(o)?tr:D0(o)))}(s,n,e,r).pipe(ge(o=>(n._resolvedData=o,n.data=BP(n,t).resolve,i&&lF(i)&&(n.data[H0]=i.title),null)))}(o.route,r,n,e)),Yt(()=>s++),C_(1),xt(o=>s===i.length?he(t):tr))})}function lF(n){return"string"==typeof n.title||null===n.title}function U_(n){return _n(e=>{const t=n(e);return t?At(t).pipe(ge(()=>e)):he(e)})}const Oa=new te("ROUTES");let $_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Fe(Dk)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return he(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=X3(t.loadComponent()).pipe(ge(fF),Yt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),b_(()=>{this.componentLoaders.delete(t)})),i=new dP(r,()=>new qe).pipe(y_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ge(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l,u=!1;Array.isArray(a)?l=a:(c=a.create(t).injector,l=_P(c.get(Oa,[],_e.Self|_e.Optional)));return{routes:l.map(O_),injector:c}}),b_(()=>{this.childrenLoaders.delete(r)})),o=new dP(s,()=>new qe).pipe(y_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return X3(t()).pipe(ge(fF),xt(r=>r instanceof UL||Array.isArray(r)?he(r):At(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fF(n){return function wpe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let e9=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.configLoader=Fe($_),this.environmentInjector=Fe(zr),this.urlSerializer=Fe(x0),this.rootContexts=Fe(P0),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new fhe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new uhe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new mt({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:R0,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zt(r=>0!==r.id),ge(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),_n(r=>{let i=!1,s=!1;return he(r).pipe(Yt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_n(o=>{const a=t.browserUrlTree.toString(),c=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!c&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new $u(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),tr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return dF(o.source)&&(t.browserUrlTree=o.extractedUrl),he(o).pipe(_n(u=>{const f=this.transitions?.getValue();return this.events.next(new N_(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?tr:Promise.resolve(u)}),function cpe(n,e,t,r){return _n(i=>function ope(n,e,t,r,i){return new ape(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ge(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Yt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function vpe(n,e,t,r,i){return xt(s=>function fpe(n,e,t,r,i,s,o="emptyOnly"){return new dpe(n,e,t,r,i,o,s).recognize().pipe(_n(a=>null===a?function upe(n){return new Je(e=>e.error(n))}(new lpe):he(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ge(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Yt(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const d=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(d,u)}t.browserUrlTree=u.urlAfterRedirects}const f=new she(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:f,source:d,restoredState:h,extras:p}=o,m=new N_(u,this.urlSerializer.serialize(f),d,h);this.events.next(m);const g=FP(f,this.rootComponentType).snapshot;return he(r={...o,targetSnapshot:g,urlAfterRedirects:f,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new $u(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),tr}}),Yt(o=>{const a=new ohe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ge(o=>r={...o,guards:xhe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Ghe(n,e){return xt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?he({...t,guardsResult:!0}):function jhe(n,e,t,r){return At(n).pipe(xt(i=>function Zhe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?he(s.map(a=>{const c=F0(e)??i,l=ka(a,c);return X3(function Bhe(n){return n&&$0(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(Q3())})).pipe(Ra()):he(!0)}(i.component,i.route,t,e,r)),Q3(i=>!0!==i,!0))}(o,r,i,n).pipe(xt(a=>a&&function Rhe(n){return"boolean"==typeof n}(a)?function Whe(n,e,t,r){return At(e).pipe(hs(i=>N0(function Khe(n,e){return null!==n&&e&&e(new dhe(n)),he(!0)}(i.route.parent,r),function qhe(n,e){return null!==n&&e&&e(new phe(n)),he(!0)}(i.route,r),function Qhe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Ahe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>fP(()=>he(o.guards.map(c=>{const l=F0(o.node)??t,u=ka(c,l);return X3(function Fhe(n){return n&&$0(n.canActivateChild)}(u)?u.canActivateChild(r,n):l.runInContext(()=>u(r,n))).pipe(Q3())})).pipe(Ra())));return he(s).pipe(Ra())}(n,i.path,t),function Yhe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return he(!0);const i=r.map(s=>fP(()=>{const o=F0(e)??t,a=ka(s,o);return X3(function Phe(n){return n&&$0(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Q3())}));return he(i).pipe(Ra())}(n,i.route,t))),Q3(i=>!0!==i,!0))}(r,s,n,e):he(a)),ge(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Yt(o=>{if(r.guardsResult=o.guardsResult,ms(o.guardsResult))throw GP(0,o.guardsResult);const a=new ahe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),zt(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),U_(o=>{if(o.guards.canActivateChecks.length)return he(o).pipe(Yt(a=>{const c=new che(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),_n(a=>{let c=!1;return he(a).pipe(_pe(t.paramsInheritanceStrategy,this.environmentInjector),Yt({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Yt(a=>{const c=new lhe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),U_(o=>{const a=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Yt(u=>{c.component=u}),ge(()=>{})));for(const u of c.children)l.push(...a(u));return l};return xu(a(o.targetSnapshot.root)).pipe(Au(),gt(1))}),U_(()=>this.afterPreactivation()),ge(o=>{const a=function Mhe(n,e,t){const r=O0(n,e._root,t?t._root:void 0);return new PP(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Yt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ge(r=>(new Ihe(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),gt(1),Yt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new gs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),b_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Z3(o=>{if(s=!0,qP(o)){WP(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Uu(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),WP(o)){const c=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||dF(r.source)};t.scheduleNavigation(c,R0,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new D_(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(c){r.reject(c)}}return tr}))}))}cancelNavigationTransition(t,r,i){const s=new Uu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dF(n){return n!==R0}let hF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ae);return r}getResolvedTitleForRoute(t){return t.data[H0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return Fe(Spe)},providedIn:"root"}),n})(),Spe=(()=>{class n extends hF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(O(Kv))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return Fe(Tpe)},providedIn:"root"}),n})();class Epe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Tpe=(()=>{class n extends Epe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t9=new te("",{providedIn:"root",factory:()=>({})});let Dpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return Fe(Vpe)},providedIn:"root"}),n})(),Vpe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hpe(n){throw n}function Ipe(n,e,t){return e.parse("/")}const xpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ape={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let r2=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Fe(g7e),this.isNgZoneEnabled=!1,this.options=Fe(t9,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Hpe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ipe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Fe(Dpe),this.routeReuseStrategy=Fe(zpe),this.urlCreationStrategy=Fe(yhe),this.titleStrategy=Fe(hF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_P(Fe(Oa,{optional:!0})??[]),this.navigationTransitions=Fe(e9),this.urlSerializer=Fe(x0),this.location=Fe(Mv),this.isNgZoneEnabled=Fe(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new J3,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),R0,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(O_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ms(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,R0,null,r)}navigate(t,r={skipLocationChange:!1}){return function Lpe(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new x(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...xpe}:!1===r?{...Ape}:r,ms(t))return bP(this.currentUrlTree,t,i);const s=this.parseUrl(t);return bP(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l,u;return o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((f,d)=>{a=f,c=d}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n3=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new qe;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof gs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Da(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Da(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Da(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function vx(n,e,t){return function D6e(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?gx:ts}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(C(r2),C(vs),B3("tabindex"),C(Q2),C(i1),C(ls))},n.\u0275dir=G({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ne("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Ye("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[U1]}),n})();class pF{}let Ope=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(zt(t=>t instanceof gs),hs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=W7(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return At(i).pipe(Lo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):he(null);const s=i.pipe(xt(o=>null===o?he(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?At([s,this.loader.loadComponent(r)]).pipe(Lo()):s})}}return n.\u0275fac=function(t){return new(t||n)(O(r2),O(Dk),O(zr),O(pF),O($_))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j_=new te("");let mF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof N_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof RP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new RP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function Kx(){throw new Error("invalid")}()},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();var Rn=(()=>((Rn=Rn||{})[Rn.COMPLETE=0]="COMPLETE",Rn[Rn.FAILED=1]="FAILED",Rn[Rn.REDIRECTING=2]="REDIRECTING",Rn))();const Pa=!1;function e4(n,e){return{\u0275kind:n,\u0275providers:e}}const W_=new te("",{providedIn:"root",factory:()=>!1});function vF(){const n=Fe(T1);return e=>{const t=n.get(Na);if(e!==t.components[0])return;const r=n.get(r2),i=n.get(_F);1===n.get(q_)&&r.initialNavigation(),n.get(yF,null,_e.Optional)?.setUpPreloading(),n.get(j_,null,_e.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _F=new te(Pa?"bootstrap done indicator":"",{factory:()=>new qe}),q_=new te(Pa?"initial navigation":"",{providedIn:"root",factory:()=>1});function $pe(){let n=[];return n=Pa?[{provide:E7,multi:!0,useFactory:()=>{const e=Fe(r2);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function mhe(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],e4(1,n)}const yF=new te(Pa?"router preloader":"");function Gpe(n){return e4(0,[{provide:yF,useExisting:Ope},{provide:pF,useExisting:n}])}const j0=!1,CF=new te(j0?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),jpe=[Mv,{provide:x0,useClass:M_},r2,P0,{provide:vs,useFactory:function gF(n){return n.routerState.root},deps:[r2]},$_,j0?{provide:W_,useValue:!0}:[]];function Wpe(){return new Rk("Router",r2)}let bF=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jpe,j0&&r?.enableTracing?$pe().\u0275providers:[],{provide:Oa,multi:!0,useValue:t},{provide:CF,useFactory:Qpe,deps:[[r2,new Ze,new $6]]},{provide:t9,useValue:r||{}},r?.useHash?{provide:ls,useClass:rue}:{provide:ls,useClass:oR},{provide:j_,useFactory:()=>{const n=Fe(g9e),e=Fe(Ce),t=Fe(t9),r=Fe(e9),i=Fe(x0);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mF(i,r,n,e,t)}},r?.preloadingStrategy?Gpe(r.preloadingStrategy).\u0275providers:[],{provide:Rk,multi:!0,useFactory:Wpe},r?.initialNavigation?Zpe(r):[],[{provide:MF,useFactory:vF},{provide:kk,multi:!0,useExisting:MF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Oa,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(O(CF,8))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[Wu]}),n})();function Qpe(n){if(j0&&n)throw new x(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Zpe(n){return["disabled"===n.initialNavigation?e4(3,[{provide:os,multi:!0,useFactory:()=>{const e=Fe(r2);return()=>{e.setUpLocationChangeListener()}}},{provide:q_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?e4(2,[{provide:q_,useValue:0},{provide:os,multi:!0,deps:[T1],useFactory:e=>{const t=e.get(tue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(r2),s=e.get(_F);(function Ppe(n,e){n.events.pipe(zt(t=>t instanceof gs||t instanceof Uu||t instanceof D_||t instanceof $u),ge(t=>t instanceof gs||t instanceof $u?Rn.COMPLETE:t instanceof Uu&&(0===t.code||1===t.code)?Rn.REDIRECTING:Rn.FAILED),zt(t=>t!==Rn.REDIRECTING),gt(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(e9).afterPreactivation=()=>(r(!0),s.closed?he(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const MF=new te(j0?"Router Initializer":"");function N1(n){return V1((e,t)=>{It(n).subscribe(C1(t,()=>t.complete(),R3)),!t.closed&&e.subscribe(t)})}function wF(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){wF(s,r,i,o,a,"next",c)}function a(c){wF(s,r,i,o,a,"throw",c)}o(void 0)})}}const K_={now:()=>(K_.delegate||Date).now(),delegate:void 0};class Jpe extends qe{constructor(e=1/0,t=1/0,r=K_){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}class eme extends qe{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:r,_value:i,thrownError:s,isStopped:o,_isComplete:a}=this;t?e.error(s):(o||a)&&(r&&e.next(i),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(t),super.complete())}}function Y_(n){return zt((e,t)=>n<=t)}class nme{constructor(){}loadScript(e,t,r,i=null){if(typeof document<"u"&&!document.getElementById(e)){let s=document.createElement("script");s.async=!0,s.src=t,s.onload=r,i||(i=document.head),i.appendChild(s)}}}class W0{}const rme={oneTapEnabled:!0};let q0=(()=>{class n extends nme{constructor(t,r){super(),this.clientId=t,this.initOptions=r,this.changeUser=new ae,this._socialUser=new mt(null),this._accessToken=new mt(null),this._receivedAccessToken=new ae,this.initOptions={...rme,...this.initOptions},this._socialUser.pipe(Y_(1)).subscribe(this.changeUser),this._accessToken.pipe(Y_(1)).subscribe(this._receivedAccessToken)}initialize(t){return new Promise((r,i)=>{try{this.loadScript(n.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:s})=>{const o=this.createSocialUser(s);this._socialUser.next(o)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(zt(s=>null===s)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const s=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(o=>o).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:s,prompt:this.initOptions.prompt,callback:o=>{o.error?this._accessToken.error({code:o.error,description:o.error_description,uri:o.error_uri}):this._accessToken.next(o.access_token)}})}r()})}catch(s){i(s)}})}getLoginStatus(){return new Promise((t,r)=>{this._socialUser.value?t(this._socialUser.value):r(`No user is currently logged in with ${n.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,r)=>{google.accounts.id.revoke(this._socialUser.value.id,i=>{i.error?r(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,r)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe(gt(1)).subscribe(t)):r(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,r)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):r("No access token to revoke"):r("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var t=this;return v(function*(){google.accounts.id.disableAutoSelect(),t._socialUser.next(null)})()}createSocialUser(t){const r=new W0;r.idToken=t;const i=this.decodeJwt(t);return r.id=i.sub,r.name=i.name,r.email=i.email,r.photoUrl=i.picture,r.firstName=i.given_name,r.lastName=i.family_name,r}decodeJwt(t){const i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(i).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}}return n.PROVIDER_ID="GOOGLE",n})(),n9=(()=>{class n{get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}constructor(t,r,i){this._ngZone=r,this._injector=i,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new Jpe(1),this.initialized=!1,this._initState=new eme,t instanceof Promise?t.then(s=>{this.initialize(s)}):this.initialize(t)}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:r=console.error}=t;t.providers.forEach(i=>{this.providers.set(i.id,"prototype"in i.provider?this._injector.get(i.provider):i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const i=[];let s=!1;this.providers.forEach((o,a)=>{const c=o.getLoginStatus();i.push(c),c.then(l=>{this.setUser(l,a),s=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{s||(this._user=null,this._authState.next(null))})}this.providers.forEach((i,s)=>{(function tme(n){return!!n&&(n instanceof Je||Ue(n.lift)&&Ue(n.subscribe))})(i.changeUser)&&i.changeUser.subscribe(o=>{this._ngZone.run(()=>{this.setUser(o,s)})})})}).catch(i=>{r(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){var r=this;return v(function*(){const i=r.providers.get(t);if(!r.initialized)throw n.ERR_NOT_INITIALIZED;if(!i)throw n.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(i instanceof q0))throw n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield i.getAccessToken()})()}refreshAuthToken(t){return new Promise((r,i)=>{if(this.initialized){const s=this.providers.get(t);s?"function"!=typeof s.refreshToken?i(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):s.refreshToken().then(o=>{this.setUser(o,t),r()}).catch(o=>{i(o)}):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((r,i)=>{if(this.initialized)if(t!==q0.PROVIDER_ID)i(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const s=this.providers.get(t);s instanceof q0?s.revokeAccessToken().then(r).catch(i):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_INITIALIZED)})}signIn(t,r){return new Promise((i,s)=>{if(this.initialized){let o=this.providers.get(t);o?o.signIn(r).then(a=>{this.setUser(a,t),i(a)}).catch(a=>{s(a)}):s(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else s(n.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((r,i)=>{if(this.initialized)if(this._user){let o=this.providers.get(this._user.provider);o?o.signOut(t).then(()=>{r(),this.setUser(null)}).catch(a=>{i(a)}):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_LOGGED_IN);else i(n.ERR_NOT_INITIALIZED)})}setUser(t,r){t&&r&&(t.provider=r),this._user=t,this._authState.next(t)}}return n.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",n.ERR_NOT_LOGGED_IN="Not logged in",n.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",n.\u0275fac=function(t){return new(t||n)(O("SocialAuthServiceConfig"),O(Ce),O(T1))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ime=(()=>{class n{static initialize(t){return{ngModule:n,providers:[n9,{provide:"SocialAuthServiceConfig",useValue:t}]}}constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}}return n.\u0275fac=function(t){return new(t||n)(O(n,12))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[n9],imports:[Ov]}),n})(),sme=(()=>{class n{constructor(t,r){this.type="icon",this.size="medium",this.text="signin_with",this.shape="rectangular",this.theme="outline",this.logo_alignment="left",this.width="",this.locale="",r.initState.pipe(gt(1)).subscribe(()=>{Promise.resolve(this.width).then(i=>{i>"400"||i<"200"&&""!=i?Promise.reject("Please note .. max-width 400 , min-width 200 (https://developers.google.com/identity/gsi/web/tools/configurator)"):google.accounts.id.renderButton(t.nativeElement,{type:this.type,size:this.size,text:this.text,width:this.width,shape:this.shape,theme:this.theme,logo_alignment:this.logo_alignment,locale:this.locale})})})}}return n.\u0275fac=function(t){return new(t||n)(C(i1),C(n9))},n.\u0275dir=G({type:n,selectors:[["asl-google-signin-button"]],inputs:{type:"type",size:"size",text:"text",shape:"shape",theme:"theme",logo_alignment:"logo_alignment",width:"width",locale:"locale"}}),n})(),ome=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})(),Fa=(()=>{class n{constructor(t){this.router=t,this.destroyed$=new qe,this.forbiddenPaths=["/thesis-proposals","/research-interest"],this.authorized=["luigi gaioni","gianluca traversi","massimo manghisoni","valerio re","elisa riceputi","andrea galliani","paolo lazzaroni","luca ghislotti"];let r=!1;r=!!this.getCurrentUser().email,this.currentUserSubject=new mt(Object.assign(new W0,JSON.parse(localStorage.getItem("microlab-user")))),this.currentUser$=this.currentUserSubject.asObservable(),this.loggedSubject=new mt(!1),this.logged$=this.loggedSubject.asObservable(),this.loggedSubject.next(r)}getCurrentUser(){return Object.assign(new W0,JSON.parse(localStorage.getItem("microlab-user")||"{}"))}saveUserData(t){this.authorized.includes(t.name.toLowerCase())?(console.log(t.name+" authorized"),localStorage.setItem("microlab-user",JSON.stringify(t)),this.currentUserSubject.next(t),this.loggedSubject.next(!0)):(this.loggedSubject.next(!1),this.router.navigate(["/unauthorized"]))}signOut(){this.loggedSubject.next(!1),this.currentUserSubject.next(Object.assign(new W0,JSON.parse("{}"))),localStorage.removeItem("microlab-user"),this.forbiddenPaths.includes(this.router.url)&&this.router.navigate(["/work-in-progress"])}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(O(r2))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ame=["addListener","removeListener"],cme=["addEventListener","removeEventListener"],lme=["on","off"];function M2(n,e,t,r){if(Ue(t)&&(r=t,t=void 0),r)return M2(n,e,t).pipe(Qv(r));const[i,s]=function dme(n){return Ue(n.addEventListener)&&Ue(n.removeEventListener)}(n)?cme.map(o=>a=>n[o](e,a,t)):function ume(n){return Ue(n.addListener)&&Ue(n.removeListener)}(n)?ame.map(SF(n,e)):function fme(n){return Ue(n.on)&&Ue(n.off)}(n)?lme.map(SF(n,e)):[];if(!i&&Qp(n))return xt(o=>M2(o,e,t))(It(n));if(!i)throw new TypeError("Invalid event target");return new Je(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function SF(n,e){return t=>r=>n[t](e,r)}class hme extends Ht{constructor(e,t){super()}schedule(e,t=0){return this}}const r9={setInterval(n,e,...t){const{delegate:r}=r9;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=r9;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class zF extends hme{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return r9.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&r9.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,L3(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class K0{constructor(e,t=K0.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}K0.now=K_.now;class EF extends K0{constructor(e,t=K0.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Q_=new EF(zF),pme=Q_;function Z_(n=0,e,t=pme){let r=-1;return null!=e&&(MH(e)?t=e:r=e),new Je(i=>{let s=function mme(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const{isArray:gme}=Array;function TF(n){return 1===n.length&&gme(n[0])?n[0]:n}const DF=new Je(R3);function i9(...n){const e=Ul(n),t=TF(n);return t.length?new Je(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)It(t[o]).subscribe(C1(r,a=>{if(i[o].push(a),i.every(c=>c.length)){const c=i.map(l=>l.shift());r.next(e?e(...c):c),i.some((l,u)=>!l.length&&s[u])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):tr}function s9(n,e=Cr){return n=n??yme,V1((t,r)=>{let i,s=!0;t.subscribe(C1(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function yme(n,e){return n===e}function X_(...n){const e=Ul(n);return V1((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let c=0;c<i;c++)It(n[c]).subscribe(C1(r,l=>{s[c]=l,!a&&!o[c]&&(o[c]=!0,(a=o.every(Cr))&&(o=null))},R3));t.subscribe(C1(r,c=>{if(a){const l=[c,...s];r.next(e?e(...l):l)}}))})}function zge(n,e){}function Ege(n,e){if(1&n&&(M(0,"button",3),I(1),B(2,zge,0,0,"ng-template",4),w()),2&n){const t=e.$implicit;D("ngbPanelToggle",t),V(1),ii(" ",t.title," "),V(1),D("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function Tge(n,e){}function Nge(n,e){}function Dge(n,e){if(1&n){const t=v1();M(0,"div",8),ne("ngbRef",function(i){return Me(t),we(L().$implicit.panelDiv=i)}),M(1,"div",9),B(2,Nge,0,0,"ng-template",4),w()()}if(2&n){const t=L().$implicit;r0("id",t.id),Ye("aria-labelledby",t.id+"-header"),V(2),D("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const Vge=function(n,e){return{$implicit:n,opened:e}};function Hge(n,e){if(1&n&&(M(0,"div")(1,"div",5),B(2,Tge,0,0,"ng-template",6),w(),B(3,Dge,3,3,"div",7),w()),2&n){const t=e.$implicit,r=L(),i=$1(1);$3("accordion-item "+(t.cardClass||"")),V(1),$3("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),P7("id","",t.id,"-header"),V(1),D("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",d0(8,Vge,t,t.isOpen)),V(1),D("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}const Ige=["ngbAccordionBody",""];function xge(n,e){}function Age(n,e){if(1&n){const t=v1();M(0,"button",1),ne("click",function(){return Me(t),we(L().close())}),w()}}const u9=["*"];function Lge(n,e){if(1&n){const t=v1();M(0,"button",6),ne("click",function(){const s=Me(t).$implicit,o=L();return o.focus(),we(o.select(s.id,o.NgbSlideEventSource.INDICATOR))}),w()}if(2&n){const t=e.$implicit,r=L();ye("active",t.id===r.activeId),Ye("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function kge(n,e){}function Rge(n,e){if(1&n&&(M(0,"div",7)(1,"span",8),y2(2,9),w(),B(3,kge,0,0,"ng-template",10),w()),2&n){const t=e.$implicit,r=e.index,i=e.count;D("id","slide-"+t.id),V(2),Sa(r+1)(i),f0(2),V(1),D("ngTemplateOutlet",t.tplRef)}}function Oge(n,e){if(1&n){const t=v1();M(0,"button",11),ne("click",function(){return Me(t),we(L().arrowLeft())}),ce(1,"span",12),M(2,"span",8),y2(3,13),w()()}}function Pge(n,e){if(1&n){const t=v1();M(0,"button",14),ne("click",function(){return Me(t),we(L().arrowRight())}),ce(1,"span",15),M(2,"span",8),y2(3,16),w()()}}const Fge=["ngbDatepickerDayView",""],Bge=["month"],Uge=["year"];function $ge(n,e){if(1&n&&(M(0,"option",5),I(1),w()),2&n){const t=e.$implicit,r=L();D("value",t),Ye("aria-label",r.i18n.getMonthFullName(t,r.date.year)),V(1),P2(r.i18n.getMonthShortName(t,r.date.year))}}function Gge(n,e){if(1&n&&(M(0,"option",5),I(1),w()),2&n){const t=e.$implicit,r=L();D("value",t),V(1),P2(r.i18n.getYearNumerals(t))}}function jge(n,e){if(1&n){const t=v1();M(0,"ngb-datepicker-navigation-select",7),ne("select",function(i){return Me(t),we(L().select.emit(i))}),w()}if(2&n){const t=L();D("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function Wge(n,e){1&n&&ce(0,"div",0)}function qge(n,e){1&n&&ce(0,"div",0)}function Kge(n,e){if(1&n&&(B(0,Wge,1,0,"div",9),M(1,"div",10),I(2),w(),B(3,qge,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=L(2);D("ngIf",r>0),V(2),ii(" ",i.i18n.getMonthLabel(t.firstDate)," "),V(1),D("ngIf",r!==i.months.length-1)}}function Yge(n,e){1&n&&B(0,Kge,4,3,"ng-template",8),2&n&&D("ngForOf",L().months)}function Qge(n,e){if(1&n&&(M(0,"div",5),I(1),w()),2&n){const t=L(2);V(1),P2(t.i18n.getWeekLabel())}}function Zge(n,e){if(1&n&&(M(0,"div",6),I(1),w()),2&n){const t=e.$implicit;V(1),P2(t)}}function Xge(n,e){if(1&n&&(M(0,"div",2),B(1,Qge,2,1,"div",3),B(2,Zge,2,1,"div",4),w()),2&n){const t=L();V(1),D("ngIf",t.datepicker.showWeekNumbers),V(1),D("ngForOf",t.viewModel.weekdays)}}function Jge(n,e){if(1&n&&(M(0,"div",11),I(1),w()),2&n){const t=L(2).$implicit,r=L();V(1),P2(r.i18n.getWeekNumerals(t.number))}}function eve(n,e){}function tve(n,e){if(1&n&&B(0,eve,0,0,"ng-template",14),2&n){const t=L().$implicit;D("ngTemplateOutlet",L(3).datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function nve(n,e){if(1&n){const t=v1();M(0,"div",12),ne("click",function(i){const o=Me(t).$implicit;return L(3).doSelect(o),we(i.preventDefault())}),B(1,tve,1,2,"ng-template",13),w()}if(2&n){const t=e.$implicit;ye("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),D("tabindex",t.tabindex),Ye("aria-label",t.ariaLabel),V(1),D("ngIf",!t.hidden)}}function rve(n,e){if(1&n&&(M(0,"div",8),B(1,Jge,2,1,"div",9),B(2,nve,2,9,"div",10),w()),2&n){const t=L().$implicit,r=L();V(1),D("ngIf",r.datepicker.showWeekNumbers),V(1),D("ngForOf",t.days)}}function ive(n,e){1&n&&B(0,rve,3,2,"div",7),2&n&&D("ngIf",!e.$implicit.collapsed)}const sve=["defaultDayTemplate"],ove=["content"];function ave(n,e){if(1&n&&ce(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,s=e.disabled,o=e.focused;D("date",e.date)("currentMonth",r)("selected",i)("disabled",s)("focused",o)}}function cve(n,e){if(1&n&&(M(0,"div",12),I(1),w()),2&n){const t=L().$implicit,r=L(2);V(1),ii(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function lve(n,e){if(1&n&&(M(0,"div",9),B(1,cve,2,1,"div",10),ce(2,"ngb-datepicker-month",11),w()),2&n){const t=e.$implicit,r=L(2);V(1),D("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),V(1),D("month",t.firstDate)}}function uve(n,e){1&n&&B(0,lve,3,2,"div",8),2&n&&D("ngForOf",L().model.months)}function fve(n,e){if(1&n){const t=v1();M(0,"ngb-datepicker-navigation",13),ne("navigate",function(i){return Me(t),we(L().onNavigateEvent(i))})("select",function(i){return Me(t),we(L().onNavigateDateSelect(i))}),w()}if(2&n){const t=L();D("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function dve(n,e){}function hve(n,e){}const pve=["dialog"],mve=["ngbNavOutlet",""];function gve(n,e){}const vve=function(n){return{$implicit:n}};function _ve(n,e){if(1&n&&(M(0,"div",2),B(1,gve,0,0,"ng-template",3),w()),2&n){const t=L().$implicit,r=L();D("item",t)("nav",r.nav)("role",r.paneRole),V(1),D("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",q7(5,vve,t.active||r.isPanelTransitioning(t)))}}function yve(n,e){if(1&n&&B(0,_ve,2,7,"div",1),2&n){const t=e.$implicit,r=L();D("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function Cve(n,e){1&n&&(M(0,"span",9),y2(1,10),w())}function bve(n,e){1&n&&(M(0,"span",9),y2(1,11),w())}function Mve(n,e){1&n&&(M(0,"span",9),y2(1,12),w())}function wve(n,e){1&n&&(M(0,"span",9),y2(1,13),w())}function Sve(n,e){1&n&&I(0,"...")}function zve(n,e){1&n&&(M(0,"span",15),I(1,"(current)"),w())}function Eve(n,e){if(1&n&&(I(0),B(1,zve,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;ii(" ",t," "),V(1),D("ngIf",t===r)}}function Tve(n,e){}const Nve=function(n){return{disabled:!0,currentPage:n}};function Dve(n,e){if(1&n&&(M(0,"a",20),B(1,Tve,0,0,"ng-template",8),w()),2&n){const t=L(2).$implicit,r=L(),i=$1(9);V(1),D("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",q7(2,Nve,t))}}function Vve(n,e){}const Hve=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function Ive(n,e){if(1&n){const t=v1();M(0,"a",21),ne("click",function(i){Me(t);const s=L().$implicit;return L(2).selectPage(s),we(i.preventDefault())}),B(1,Vve,0,0,"ng-template",8),w()}if(2&n){const t=L().$implicit,r=L(),i=r.disabled,s=r.$implicit,o=L(),a=$1(11);Ye("tabindex",i?"-1":null)("aria-disabled",i?"true":null),V(1),D("ngTemplateOutlet",(null==o.tplNumber?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",Qi(4,Hve,i,t,s))}}function xve(n,e){if(1&n&&(M(0,"li",17),B(1,Dve,2,4,"a",18),B(2,Ive,2,8,"a",19),w()),2&n){const t=e.$implicit,r=L(),i=r.$implicit,s=r.disabled,o=L();ye("active",t===i)("disabled",o.isEllipsis(t)||s),Ye("aria-current",t===i?"page":null),V(1),D("ngIf",o.isEllipsis(t)),V(1),D("ngIf",!o.isEllipsis(t))}}function Ave(n,e){1&n&&B(0,xve,3,7,"li",16),2&n&&D("ngForOf",e.pages)}function Lve(n,e){}const ly=function(n,e){return{disabled:n,currentPage:e}};function kve(n,e){if(1&n){const t=v1();M(0,"li",17)(1,"a",22),ne("click",function(i){return Me(t),L().selectPage(1),we(i.preventDefault())}),B(2,Lve,0,0,"ng-template",8),w()()}if(2&n){const t=L(),r=$1(1);ye("disabled",t.previousDisabled()),V(1),Ye("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),V(1),D("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",d0(6,ly,t.previousDisabled(),t.page))}}function Rve(n,e){}const Ove=function(n){return{disabled:n}};function Pve(n,e){if(1&n){const t=v1();M(0,"li",17)(1,"a",23),ne("click",function(i){Me(t);const s=L();return s.selectPage(s.page-1),we(i.preventDefault())}),B(2,Rve,0,0,"ng-template",8),w()()}if(2&n){const t=L(),r=$1(3);ye("disabled",t.previousDisabled()),V(1),Ye("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),V(1),D("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",q7(6,Ove,t.previousDisabled()))}}function Fve(n,e){}function Bve(n,e){}function Uve(n,e){if(1&n){const t=v1();M(0,"li",17)(1,"a",24),ne("click",function(i){Me(t);const s=L();return s.selectPage(s.page+1),we(i.preventDefault())}),B(2,Bve,0,0,"ng-template",8),w()()}if(2&n){const t=L(),r=$1(5);ye("disabled",t.nextDisabled()),V(1),Ye("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),V(1),D("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",d0(6,ly,t.nextDisabled(),t.page))}}function $ve(n,e){}function Gve(n,e){if(1&n){const t=v1();M(0,"li",17)(1,"a",25),ne("click",function(i){Me(t);const s=L();return s.selectPage(s.pageCount),we(i.preventDefault())}),B(2,$ve,0,0,"ng-template",8),w()()}if(2&n){const t=L(),r=$1(7);ye("disabled",t.nextDisabled()),V(1),Ye("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),V(1),D("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",d0(6,ly,t.nextDisabled(),t.page))}}const jve=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function Kve(n,e){if(1&n&&(M(0,"span"),y2(1,1),K7(2,"percent"),w()),2&n){const t=L();V(2),Sa(Y7(2,1,t.getValue()/t.max)),f0(1)}}function Yve(n,e){1&n&&I(0),2&n&&P2(100===e.fill?"\u2605":"\u2606")}function Qve(n,e){}function Zve(n,e){if(1&n){const t=v1();M(0,"span",2),I(1),w(),M(2,"span",3),ne("mouseenter",function(){const s=Me(t).index;return we(L().enter(s+1))})("click",function(){const s=Me(t).index;return we(L().handleClick(s+1))}),B(3,Qve,0,0,"ng-template",4),w()}if(2&n){const t=e.index,r=L(),i=$1(1);V(1),ii("(",t<r.nextRate?"*":" ",")"),V(1),ba("cursor",r.isInteractive()?"pointer":"default"),V(1),D("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function Xve(n,e){if(1&n){const t=v1();M(0,"button",11),ne("click",function(){Me(t);const i=L();return we(i.changeHour(i.hourStep))}),ce(1,"span",12),M(2,"span",13),y2(3,14),w()()}if(2&n){const t=L();ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function Jve(n,e){if(1&n){const t=v1();M(0,"button",11),ne("click",function(){Me(t);const i=L();return we(i.changeHour(-i.hourStep))}),ce(1,"span",15),M(2,"span",13),y2(3,16),w()()}if(2&n){const t=L();ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function e_e(n,e){if(1&n){const t=v1();M(0,"button",11),ne("click",function(){Me(t);const i=L();return we(i.changeMinute(i.minuteStep))}),ce(1,"span",12),M(2,"span",13),y2(3,17),w()()}if(2&n){const t=L();ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function t_e(n,e){if(1&n){const t=v1();M(0,"button",11),ne("click",function(){Me(t);const i=L();return we(i.changeMinute(-i.minuteStep))}),ce(1,"span",15),M(2,"span",13),y2(3,18),w()()}if(2&n){const t=L();ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function n_e(n,e){1&n&&(M(0,"div",5),I(1,":"),w())}function r_e(n,e){if(1&n){const t=v1();M(0,"button",11),ne("click",function(){Me(t);const i=L(2);return we(i.changeSecond(i.secondStep))}),ce(1,"span",12),M(2,"span",13),y2(3,21),w()()}if(2&n){const t=L(2);ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function i_e(n,e){if(1&n){const t=v1();M(0,"button",11),ne("click",function(){Me(t);const i=L(2);return we(i.changeSecond(-i.secondStep))}),ce(1,"span",15),M(2,"span",13),y2(3,22),w()()}if(2&n){const t=L(2);ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function s_e(n,e){if(1&n){const t=v1();M(0,"div",19),B(1,r_e,4,7,"button",3),M(2,"input",20),ne("change",function(i){return Me(t),we(L().updateSecond(i.target.value))})("blur",function(){return Me(t),we(L().handleBlur())})("input",function(i){return Me(t),we(L().formatInput(i.target))})("keydown.ArrowUp",function(i){Me(t);const s=L();return s.changeSecond(s.secondStep),we(i.preventDefault())})("keydown.ArrowDown",function(i){Me(t);const s=L();return s.changeSecond(-s.secondStep),we(i.preventDefault())}),w(),B(3,i_e,4,7,"button",3),w()}if(2&n){const t=L();V(1),D("ngIf",t.spinners),V(1),ye("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),D("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),V(1),D("ngIf",t.spinners)}}function o_e(n,e){1&n&&ce(0,"div",5)}function a_e(n,e){if(1&n&&(ar(0),y2(1,27),cr()),2&n){const t=L(2);V(1),Sa(t.i18n.getAfternoonPeriod()),f0(1)}}function c_e(n,e){1&n&&y2(0,28),2&n&&(Sa(L(2).i18n.getMorningPeriod()),f0(0))}function l_e(n,e){if(1&n){const t=v1();M(0,"div",23)(1,"button",24),ne("click",function(){return Me(t),we(L().toggleMeridian())}),B(2,a_e,2,1,"ng-container",25),B(3,c_e,1,1,"ng-template",null,26,kt),w()()}if(2&n){const t=$1(4),r=L();V(1),ye("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),D("disabled",r.disabled),V(1),D("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function u_e(n,e){if(1&n&&(M(0,"strong",3),I(1),w()),2&n){const t=L();V(1),P2(t.header)}}function f_e(n,e){}function d_e(n,e){if(1&n){const t=v1();M(0,"div",4),B(1,f_e,0,0,"ng-template",5),M(2,"button",6),ne("click",function(){return Me(t),we(L().hide())}),w()()}if(2&n){const t=L(),r=$1(1);V(1),D("ngTemplateOutlet",t.contentHeaderTpl||r)}}function h_e(n,e){if(1&n&&(M(0,"span"),I(1),w()),2&n){const t=L().$implicit;$3(L().highlightClass),V(1),P2(t)}}function p_e(n,e){1&n&&I(0),2&n&&P2(L().$implicit)}function m_e(n,e){if(1&n&&(B(0,h_e,2,3,"span",1),B(1,p_e,1,1,"ng-template",null,2,kt)),2&n){const t=e.odd,r=$1(2);D("ngIf",t)("ngIfElse",r)}}function w2(n){return parseInt(`${n}`,10)}function qF(n){return null!=n?`${n}`:""}function f9(n,e,t=0){return Math.max(Math.min(n,e),t)}function ja(n){return"string"==typeof n}function vt(n){return!isNaN(w2(n))}function st(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Cs(n){return null!=n}function Wa(n){return vt(n)?`0${n}`.slice(-2):""}function YF(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function qa(n){return(n||document.body).getBoundingClientRect()}function QF(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const ZF={animation:!0,transitionTimerDelayMs:5},M_e=()=>{},{transitionTimerDelayMs:w_e}=ZF,t8=new Map,Qt=(n,e,t,r)=>{let i=r.context||{};const s=t8.get(e);if(s)switch(r.runningTransition){case"continue":return tr;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),t8.delete(e)}const o=t(e,r.animation,i)||M_e;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),he(void 0).pipe(function C_e(n){return e=>new Je(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new qe,c=new qe,l=a.pipe(function _me(...n){return e=>N0(e,he(...n))}(!0));t8.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const u=function b_e(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const f=M2(e,"transitionend").pipe(N1(l),zt(({target:h})=>h===e));(function NF(...n){return 1===(n=TF(n)).length?It(n[0]):new Je(function vme(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(It(n[r]).subscribe(C1(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(Z_(u+w_e).pipe(N1(l)),f,c).pipe(N1(l)).subscribe(()=>{t8.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},uy=(n,e,t)=>{let{direction:r,maxSize:i,dimension:s}=t;const{classList:o}=n;function a(){o.add("collapse"),"show"===r?o.add("show"):o.remove("show")}if(e)return i||(i=function z_e(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,s),t.maxSize=i,n.style[s]="show"!==r?i:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),qa(n),o.add("collapsing")),n.style[s]="show"===r?i:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let bs=(()=>{class n{constructor(){this.animation=ZF.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XF=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E_e=0,fy=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),JF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),eB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),dy=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+E_e++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new ae,this.hidden=new ae}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(A1(i,JF,4),A1(i,fy,4),A1(i,eB,4)),2&t){let s;a1(s=c1())&&(r.titleTpls=s),a1(s=c1())&&(r.headerTpls=s),a1(s=c1())&&(r.contentTpls=s)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),T_e=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new ae}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(C(i1))},n.\u0275dir=G({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),tB=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(C(Se(()=>hy)),C(dy,9))},n.\u0275dir=G({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&ne("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(pn("disabled",r.panel.disabled),Ye("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),ye("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),hy=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new ae,this.shown=new ae,this.hidden=new ae,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){ja(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(gt(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,Qt(this._ngZone,r,uy,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&Qt(this._ngZone,r.panelDiv,uy,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:s}=r;r.isOpen?(r.shown.emit(),this.shown.emit(s)):(r.hidden.emit(),this.hidden.emit(s))})})}}return n.\u0275fac=function(t){return new(t||n)(C(XF),C(Ce),C(mn))},n.\u0275cmp=n1({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&A1(i,dy,4),2&t){let s;a1(s=c1())&&(r.panels=s)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&Ye("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[Lt],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(B(0,Ege,3,3,"ng-template",0,1,kt),B(2,Hge,4,11,"ng-template",2)),2&t&&(V(2),D("ngForOf",r.panels))},dependencies:[kn,si,tB,T_e,fy,Kt],encapsulation:2}),n})(),N_e=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nB=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ae,this.shown=new ae,this.hidden=new ae,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return Qt(this._zone,this._element.nativeElement,uy,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(C(i1),C(N_e),C(Ce))},n.\u0275dir=G({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&ye("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),D_e=0,rB=(()=>{class n{constructor(t){this._item=t}template(){return!1===this._item.destroyOnHide||this._item.animatingBodyCollapse?this._bodyTpl:null}}return n.\u0275fac=function(t){return new(t||n)(C(Se(()=>Ms)))},n.\u0275cmp=n1({type:n,selectors:[["","ngbAccordionBody",""]],contentQueries:function(t,r,i){if(1&t&&A1(i,x1,7),2&t){let s;a1(s=c1())&&(r._bodyTpl=s.first)}},hostVars:2,hostBindings:function(t,r){2&t&&ye("accordion-body",!0)},standalone:!0,features:[Lt],attrs:Ige,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&B(0,xge,0,0,"ng-template",0),2&t&&D("ngTemplateOutlet",r.template())},dependencies:[si],encapsulation:2}),n})(),iB=(()=>{class n{constructor(t,r){this.item=t,this.ngbCollapse=r}}return n.\u0275fac=function(t){return new(t||n)(C(Se(()=>Ms)),C(nB))},n.\u0275dir=G({type:n,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(t,r){2&t&&(pn("id",r.item.collapseId),Ye("aria-labelledby",r.item.toggleId),ye("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[e0([nB])]}),n})(),Ms=(()=>{class n{constructor(t,r){this._accordion=t,this._cd=r,this._subscriptions=[],this._collapsed=!0,this._id="ngb-accordion-item-"+D_e++,this.animatingBodyCollapse=!1,this.destroyOnHide=this._accordion.destroyOnHide,this.disabled=!1,this.shown=new ae,this.hidden=new ae}set id(t){ja(t)&&""!==t&&(this._id=t)}set collapsed(t){this.collapsed!==t&&(this._collapsed=t,this._cd.markForCheck(),this._collapsed||(this.animatingBodyCollapse=!0,this._cd.detectChanges()),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=t)}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}ngAfterContentInit(){const{ngbCollapse:t}=this._collapse;t.animation=!1,t.collapsed=this.collapsed,t.animation=this._accordion.animation,this._subscriptions.push(t.hidden.subscribe(()=>{this.animatingBodyCollapse=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),t.shown.subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)}))}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}toggle(){this.collapsed=!this.collapsed}}return n.\u0275fac=function(t){return new(t||n)(C(Se(()=>py)),C(mn))},n.\u0275dir=G({type:n,selectors:[["","ngbAccordionItem",""]],contentQueries:function(t,r,i){if(1&t&&A1(i,iB,7),2&t){let s;a1(s=c1())&&(r._collapse=s.first)}},hostVars:3,hostBindings:function(t,r){2&t&&(pn("id",r.id),ye("accordion-item",!0))},inputs:{id:["ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0}),n})(),py=(()=>{class n{constructor(t){this.destroyOnHide=!0,this.shown=new ae,this.hidden=new ae,this.animation=t.animation,this.closeOthers=t.closeOthers}toggle(t){const r=this._getItem(t);if(r){const i=r.collapsed;this._items.forEach(s=>{s===r?s.toggle():this.closeOthers&&i&&(s.collapsed=!0)})}}expand(t){const r=this._getItem(t);r&&this._items.forEach(i=>{i===r?r.collapsed=!1:this.closeOthers&&(i.collapsed=!0)})}expandAll(){this.closeOthers?this._items.find(t=>!t.collapsed)||(this._items.get(0).collapsed=!1):this._items.forEach(t=>{t.collapsed=!1})}collapse(t){const r=this._getItem(t);r&&(r.collapsed=!0)}collapseAll(){this._items.forEach(t=>t.collapsed=!0)}isExpanded(t){const r=this._getItem(t);return!!r&&!r.collapsed}_getItem(t){return this._items.find(r=>r.id===t)}}return n.\u0275fac=function(t){return new(t||n)(C(XF))},n.\u0275dir=G({type:n,selectors:[["","ngbAccordion",""]],contentQueries:function(t,r,i){if(1&t&&A1(i,Ms,4),2&t){let s;a1(s=c1())&&(r._items=s)}},hostVars:2,hostBindings:function(t,r){2&t&&ye("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[hy,rB]}),n})();const I_e=({classList:n})=>{n.remove("show")};let x_e=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A_e=(()=>{class n{constructor(t,r,i,s){this._renderer=r,this._element=i,this._zone=s,this.closed=new ae,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Qt(this._zone,this._element.nativeElement,I_e,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(C(x_e),C(Q2),C(i1),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&ye("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[U1,Lt],ngContentSelectors:u9,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(_a(),ya(0),B(1,Age,1,0,"button",0)),2&t&&(V(1),D("ngIf",r.dismissible))},dependencies:[Kt],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),aB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[A_e]}),n})();var n4=(()=>{return(n=n4||(n4={})).START="start",n.END="end",n4;var n})();const cB=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),n8=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},d9=n=>{n8(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},L_e=(n,e,{direction:t})=>{const{classList:r}=n;return e?(cB(n)?n8(r):(r.add("carousel-item-"+(t===n4.START?"next":"prev")),qa(n),r.add("carousel-item-"+t)),()=>{d9(r),r.add("active")}):(n8(r),d9(r),void r.add("active"))},k_e=(n,e,{direction:t})=>{const{classList:r}=n;return e?(cB(n)?n8(r):r.add("carousel-item-"+t),()=>{d9(r),r.remove("active")}):(n8(r),d9(r),void r.remove("active"))};let R_e=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O_e=0,lB=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+O_e++,this.slid=new ae}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),uB=(()=>{class n{constructor(t,r,i,s,o){this._platformId=r,this._ngZone=i,this._cd=s,this._container=o,this.NgbSlideEventSource=ui,this._destroy$=new qe,this._interval$=new mt(0),this._mouseHover$=new mt(!1),this._focused$=new mt(!1),this._pauseOnHover$=new mt(!1),this._pauseOnFocus$=new mt(!1),this._pause$=new mt(!1),this._wrap$=new mt(!1),this.slide=new ae,this.slid=new ae,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(ui.ARROW_LEFT)}arrowRight(){this.focus(),this.next(ui.ARROW_RIGHT)}ngAfterContentInit(){Pv(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=xu([this.slide.pipe(ge(r=>r.current),V0(this.activeId)),this._wrap$,this.slides.changes.pipe(V0(null))]).pipe(ge(([r,i])=>{const s=this.slides.toArray(),o=this._getSlideIdxById(r);return i?s.length>1:o<s.length-1}),s9());xu([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe(ge(([r,i,s,o,a,c,l])=>r||i&&s||o&&a||!l?0:c),s9(),_n(r=>r>0?Z_(r,r):DF),N1(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(ui.TIMER)))}),this.slides.changes.pipe(N1(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{t8.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(gt(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),n4.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),n4.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const s=this._transitionIds;if(s&&(s[0]!==t||s[1]!==this.activeId))return;let o=this._getSlideById(t);if(o&&o.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:o.id,direction:r,paused:this._pause$.value,source:i});const a={animation:this.animation,runningTransition:"stop",context:{direction:r}},c=[],l=this._getSlideById(this.activeId);if(l){const h=Qt(this._ngZone,this._getSlideElement(l.id),k_e,a);h.subscribe(()=>{l.slid.emit({isShown:!1,direction:r,source:i})}),c.push(h)}const u=this.activeId;this.activeId=o.id;const f=this._getSlideById(this.activeId),d=Qt(this._ngZone,this._getSlideElement(o.id),L_e,a);d.subscribe(()=>{f?.slid.emit({isShown:!0,direction:r,source:i})}),c.push(d),i9(...c).pipe(gt(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:u,current:o.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?n4.END:n4.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(R_e),C(as),C(Ce),C(mn),C(i1))},n.\u0275cmp=n1({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&A1(i,lB,4),2&t){let s;a1(s=c1())&&(r.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&ne("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(Ye("aria-activedescendant","slide-"+r.activeId),ba("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[Lt],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(M(0,"div",0),B(1,Lge,1,5,"button",1),w(),M(2,"div",2),B(3,Rge,4,4,"div",3),w(),B(4,Oge,4,0,"button",4),B(5,Pge,4,0,"button",5)),2&t&&(ye("visually-hidden",!r.showNavigationIndicators),V(1),D("ngForOf",r.slides),V(2),D("ngForOf",r.slides),V(1),D("ngIf",r.showNavigationArrows),V(1),D("ngIf",r.showNavigationArrows))},dependencies:[kn,si,Kt],encapsulation:2,changeDetection:0}),n})();var ui=(()=>{return(n=ui||(ui={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",ui;var n})();let fB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[uB]}),n})(),dB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();class Zt{constructor(e,t,r){this.year=st(e)?e:null,this.month=st(t)?t:null,this.day=st(r)?r:null}static from(e){return e instanceof Zt?e:e?new Zt(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function Ka(n,e){return!function P_e(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function hB(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function h9(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function my(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:s}=e;return!(null==n||i||s&&s(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function pB(n){return new Zt(n.getFullYear(),n.getMonth()+1,n.getDate())}function p9(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let m9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function K_e(){return new Y_e}()},providedIn:"root"}),n})(),Y_e=(()=>{class n extends m9{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let s=p9(t),o=!0,a=s.getMonth();switch(r){case"y":s.setFullYear(s.getFullYear()+i);break;case"m":a+=i,s.setMonth(a),a%=12,a<0&&(a+=12);break;case"d":s.setDate(s.getDate()+i),o=!1;break;default:return t}return o&&s.getMonth()!==a&&s.setDate(0),pB(s)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=p9(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const o=p9(t[(11-r)%7]);o.setDate(o.getDate()+4-(o.getDay()||7));const a=o.getTime();return o.setMonth(0),o.setDate(1),Math.floor(Math.round((a-o.getTime())/864e5)/7)+1}getToday(){return pB(new Date)}isValid(t){if(!(t&&st(t.year)&&st(t.month)&&st(t.day)&&0!==t.year))return!1;const r=p9(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function Q_e(n){return new Z_e(n)}(O(Ln)),r},providedIn:"root"}),n})(),Z_e=(()=>{class n extends ws{constructor(t){super(),this._locale=t,this._monthsShort=wv(t,j1.Standalone,Ie.Abbreviated),this._monthsFull=wv(t,j1.Standalone,Ie.Wide)}getWeekdayLabel(t,r){const i=uR(this._locale,j1.Standalone,void 0===r?Ie.Short:r);return i.map((o,a)=>i[(a+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return dR(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(O(Ln))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),gy=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(st(i=w2(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(st(i=w2(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const s=this.toValidDate(i,null);if(Ka(this._state.maxDate,s))return{maxDate:s}},minDate:i=>{const s=this.toValidDate(i,null);if(Ka(this._state.minDate,s))return{minDate:s}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const s=!0===i||!1===i?Ie.Short:i,o=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==s||this._state.weekdaysVisible!==o)return{weekdayWidth:s,weekdaysVisible:o}}},this._model$=new qe,this._dateSelect$=new qe,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ie.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(zt(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(zt(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,s)=>({...i,...s}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&Ka(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){my(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||hB(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(Ka(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&my(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Zt.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:s,focusDate:o,focusVisible:a,disabled:c,outsideDays:l}=t;t.months.forEach(u=>{u.weeks.forEach(f=>{f.days.forEach(d=>{o&&(d.context.focused=o.equals(d.date)&&a),d.tabindex=!c&&o&&d.date.equals(o)&&o.month===u.number?0:-1,!0===c&&(d.context.disabled=!0),void 0!==s&&(d.context.selected=null!==s&&s.equals(d.date)),u.number!==d.date.month&&(d.hidden="hidden"===l||"collapsed"===l||i>1&&d.date.after(r[0].firstDate)&&d.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function F_e(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=h9(r.focusDate,r.minDate,r.maxDate),r.firstDate=h9(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=h9(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=h9(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const o=function j_e(n,e,t,r,i){const{displayMonths:s,months:o}=t,a=o.splice(0,o.length);return Array.from({length:s},(l,u)=>{const f=Object.assign(n.getNext(e,"m",u),{day:1});if(o[u]=null,!i){const d=a.findIndex(h=>h.firstDate.equals(f));-1!==d&&(o[u]=a.splice(d,1)[0])}return f}).forEach((l,u)=>{null===o[u]&&(o[u]=function W_e(n,e,t,r,i={}){const{dayTemplateData:s,minDate:o,maxDate:a,firstDayOfWeek:c,markDisabled:l,outsideDays:u,weekdayWidth:f,weekdaysVisible:d}=t,h=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function q_e(n,e,t){const r=n.getDaysPerWeek(),i=new Zt(e.year,e.month,1),s=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+s-t)%r)}(n,e,c),d||(i.weekdays.length=0);for(let p=0;p<n.getWeeksPerMonth();p++){let m=i.weeks[p];m||(m=i.weeks[p]={number:0,days:[],collapsed:!0});const g=m.days;for(let _=0;_<n.getDaysPerWeek();_++){0===p&&d&&(i.weekdays[_]=r.getWeekdayLabel(n.getWeekday(e),f));const b=new Zt(e.year,e.month,e.day),y=n.getNext(b),T=r.getDayAriaLabel(b);let A=!!(o&&b.before(o)||a&&b.after(a));!A&&l&&(A=l(b,{month:i.number,year:i.year}));let k=b.equals(h),J=s?s(b,{month:i.number,year:i.year}):void 0;null===i.firstDate&&b.month===i.number&&(i.firstDate=b),b.month===i.number&&y.month!==i.number&&(i.lastDate=b);let de=g[_];de||(de=g[_]={}),de.date=b,de.context=Object.assign(de.context||{},{$implicit:b,date:b,data:J,currentMonth:i.number,currentYear:i.year,disabled:A,focused:!1,selected:!1,today:k}),de.tabindex=-1,de.ariaLabel=T,de.hidden=!1,e=y}m.number=n.getWeekNumber(g.map(_=>_.date),c),m.collapsed="collapsed"===u&&g[0].date.month!==i.number&&g[g.length-1].date.month!==i.number}return i}(n,l,t,r,a.shift()||{}))}),o}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=o,r.firstDate=o[0].firstDate,r.lastDate=o[o.length-1].lastDate,"selectedDate"in t&&!my(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const a=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,c=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||a)&&(r.selectBoxes.years=function U_e(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,s=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,o=Array(s);for(let a=0;a<s;a++)o[a]=r+a;return o}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||a)&&(r.selectBoxes.months=function B_e(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const s=i.findIndex(o=>o===t.month);i=i.slice(s)}if(r&&e.year===r.year){const s=i.findIndex(o=>o===r.month);i=i.slice(0,s+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(c||a||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function G_e(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function $_e(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(O(m9),O(ws))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();var Ya=(()=>{return(n=Ya||(Ya={}))[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",Ya;var n})();let X_e=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(C(ws))},n.\u0275cmp=n1({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&ye("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[Lt],attrs:Fge,decls:1,vars:1,template:function(t,r){1&t&&I(0),2&t&&P2(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),J_e=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new ae,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Zt(this.date.year,w2(t),1))}changeYear(t){this.select.emit(new Zt(w2(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(C(ws),C(Q2))},n.\u0275cmp=n1({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(G3(Bge,7,i1),G3(Uge,7,i1)),2&t){let i;a1(i=c1())&&(r.monthSelect=i.first),a1(i=c1())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[Lt],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(M(0,"select",0,1),ne("change",function(s){return r.changeMonth(s.target.value)}),B(2,$ge,2,3,"option",2),w(),M(3,"select",3,4),ne("change",function(s){return r.changeYear(s.target.value)}),B(5,Gge,2,2,"option",2),w()),2&t&&(D("disabled",r.disabled),V(2),D("ngForOf",r.months),V(1),D("disabled",r.disabled),V(2),D("ngForOf",r.years))},dependencies:[kn],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),eye=(()=>{class n{constructor(t){this.i18n=t,this.navigation=Ya,this.months=[],this.navigate=new ae,this.select=new ae}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(C(ws))},n.\u0275cmp=n1({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[Lt],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(M(0,"div",0)(1,"button",1),ne("click",function(s){return r.onClickPrev(s)}),ce(2,"span",2),w()(),B(3,jge,1,4,"ngb-datepicker-navigation-select",3),B(4,Yge,1,1,null,4),M(5,"div",5)(6,"button",6),ne("click",function(s){return r.onClickNext(s)}),ce(7,"span",2),w()()),2&t&&(V(1),D("disabled",r.prevDisabled),V(2),D("ngIf",r.showSelect),V(1),D("ngIf",!r.showSelect),V(2),D("disabled",r.nextDisabled))},dependencies:[Kt,kn,J_e],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var e1=(()=>{return(n=e1||(e1={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",e1;var n})();let tye=(()=>{class n{processKey(t,r){const{state:i,calendar:s}=r;switch(t.which){case e1.PageUp:r.focusDate(s.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case e1.PageDown:r.focusDate(s.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case e1.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case e1.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case e1.ArrowLeft:r.focusDate(s.getPrev(i.focusedDate,"d",1));break;case e1.ArrowUp:r.focusDate(s.getPrev(i.focusedDate,"d",s.getDaysPerWeek()));break;case e1.ArrowRight:r.focusDate(s.getNext(i.focusedDate,"d",1));break;case e1.ArrowDown:r.focusDate(s.getNext(i.focusedDate,"d",s.getDaysPerWeek()));break;case e1.Enter:case e1.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vy=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ie.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function nye(){return new rye}()},providedIn:"root"}),n})(),rye=(()=>{class n extends _y{fromModel(t){return t&&st(t.year)&&st(t.month)&&st(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&st(t.year)&&st(t.month)&&st(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),mB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),yy=(()=>{class n{constructor(t,r,i,s){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=s}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(C(ws),C(Se(()=>g9)),C(tye),C(gy))},n.\u0275cmp=n1({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&ne("keydown",function(s){return r.onKeyDown(s)})},inputs:{month:"month"},standalone:!0,features:[Lt],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(B(0,Xge,3,2,"div",0),B(1,ive,1,1,"ng-template",1)),2&t&&(D("ngIf",r.viewModel.weekdays.length>0),V(1),D("ngForOf",r.viewModel.weeks))},dependencies:[Kt,kn,si],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),g9=(()=>{class n{constructor(t,r,i,s,o,a,c,l){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=a,this._ngbDateAdapter=c,this._ngZone=l,this._controlValue=null,this._destroyed$=new qe,this._publicState={},this.navigate=new ae,this.dateSelect=new ae,this.onChange=u=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(u=>this[u]=s[u]),t.dateSelect$.pipe(N1(this._destroyed$)).subscribe(u=>{this.dateSelect.emit(u)}),t.model$.pipe(N1(this._destroyed$)).subscribe(u=>{const f=u.firstDate,d=this.model?this.model.firstDate:null;this._publicState={maxDate:u.maxDate,minDate:u.minDate,firstDate:u.firstDate,lastDate:u.lastDate,focusedDate:u.focusDate,months:u.months.map(_=>_.firstDate)};let h=!1;if(!f.equals(d)&&(this.navigate.emit({current:d?{year:d.year,month:d.month}:null,next:{year:f.year,month:f.month},preventDefault:()=>h=!0}),h&&null!==d))return void this._service.open(d);const p=u.selectedDate,m=u.focusDate,g=this.model?this.model.focusDate:null;this.model=u,Ka(p,this._controlValue)&&(this._controlValue=p,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(p))),Ka(m,g)&&g&&u.focusVisible&&this.focus(),o.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Zt.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(gt(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Zt.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=M2(this._contentEl.nativeElement,"focusin"),r=M2(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;SH(t,r).pipe(zt(({target:s,relatedTarget:o})=>!(YF(s,"ngb-dp-day")&&YF(o,"ngb-dp-day")&&i.contains(s)&&i.contains(o))),N1(this._destroyed$)).subscribe(({type:s})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===s})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:s}=t.startDate;hB(s,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case Ya.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Ya.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Zt.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(C(gy),C(m9),C(ws),C(vy),C(mn),C(i1),C(_y),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&A1(i,mB,7),2&t){let s;a1(s=c1())&&(r.contentTemplate=s.first)}},viewQuery:function(t,r){if(1&t&&(G3(sve,7),G3(ove,7)),2&t){let i;a1(i=c1())&&(r._defaultDayTemplate=i.first),a1(i=c1())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&ye("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[b1([{provide:vn,useExisting:Se(()=>n),multi:!0},gy]),U1,Lt],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(B(0,ave,1,5,"ng-template",null,0,kt),B(2,uve,1,1,"ng-template",null,1,kt),M(4,"div",2),B(5,fve,1,7,"ngb-datepicker-navigation",3),w(),M(6,"div",4,5),B(8,dve,0,0,"ng-template",6),w(),B(9,hve,0,0,"ng-template",6)),2&t){const i=$1(3);V(5),D("ngIf","none"!==r.navigation),V(1),ye("ngb-dp-months",!r.contentTemplate),V(2),D("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),V(1),D("ngTemplateOutlet",r.footerTemplate)}},dependencies:[Kt,kn,si,X_e,yy,eye],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const _B=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function yB(n){const e=Array.from(n.querySelectorAll(_B)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let IB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[g9,yy]}),n})(),wy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),LB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();class Es{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Nye=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(gt(1)).subscribe(()=>{Qt(this._zone,this._el.nativeElement,(t,r)=>{r&&qa(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qt(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(C(i1),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&($3("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ye("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Lt],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class kB{close(e){}dismiss(e){}}class Dye{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new qe,this._dismissed=new qe,this._hidden=new qe,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(N1(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(N1(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function KF(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():he(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),i9(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var s8=(()=>{return(n=s8||(s8={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",s8;var n})();let Vye=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new qe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ae,this.shown=new qe,this.hidden=new qe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ja(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(gt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=i9(Qt(this._zone,t,()=>t.classList.remove("show"),r),Qt(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};i9(Qt(this._zone,this._elRef.nativeElement,(s,o)=>{o&&qa(s),s.classList.add("show")},t),Qt(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{M2(t,"keydown").pipe(N1(this._closed$),zt(i=>i.which===e1.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(s8.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;M2(this._dialogEl.nativeElement,"mousedown").pipe(N1(this._closed$),Yt(()=>r=!1),_n(()=>M2(t,"mouseup").pipe(N1(this._closed$),gt(1))),zt(({target:i})=>t===i)).subscribe(()=>{r=!0}),M2(t,"click").pipe(N1(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(s8.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=yB(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Qt(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(C(G1),C(i1),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&G3(pve,7),2&t){let i;a1(i=c1())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(Ye("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),$3("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ye("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Lt],ngContentSelectors:u9,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(_a(),M(0,"div",0,1)(2,"div",2),ya(3),w()()),2&t&&$3("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Hye=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iye=(()=>{class n{constructor(t,r,i,s,o,a,c){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new qe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new ae,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=M2(e,"focusin").pipe(N1(t),ge(s=>s.target));M2(e,"keydown").pipe(N1(t),zt(s=>s.which===e1.Tab),X_(i)).subscribe(([s,o])=>{const[a,c]=yB(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&M2(e,"click").pipe(N1(t),X_(i),ge(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:Cs(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new kB,c=(t=i.injector||t).get(zr,null)||this._environmentInjector,l=this._getContentRef(t,c,r,a,i);let u=!1!==i.backdrop?this._attachBackdrop(s):void 0,f=this._attachWindowComponent(s,l.nodes),d=new Dye(f,l,u,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.hidden.pipe(gt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=h=>{d.close(h)},a.dismiss=h=>{d.dismiss(h)},this._applyWindowOptions(f.instance,i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),u&&u.instance&&(this._applyBackdropOptions(u.instance,i),u.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=_v(Nye,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=_v(Vye,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Cs(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Cs(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,s,o){return i?i instanceof x1?this._createFromTemplateRef(i,s):ja(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new Es([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new Es([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Es([[r]])}_createFromComponent(t,r,i,s,o){const c=_v(i,{environmentInjector:r,elementInjector:T1.create({providers:[{provide:kB,useValue:s}],parent:t})}),l=c.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Es([[l]],c.hostView,c)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(O(Na),O(T1),O(zr),O(G1),O(Hye),O(ra),O(Ce))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xye=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aye=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(O(T1),O(Iye),O(xye))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[Aye]}),n})();const Fye=({classList:n})=>(n.remove("show"),()=>n.remove("active")),Bye=(n,e)=>{e&&qa(n),n.classList.add("show")};let Sy=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(i1))},n.\u0275dir=G({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(pn("id",r.item.panelDomId),Ye("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),ye("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),BB=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(N1(this.nav.destroy$),V0(this._activePane?.item||null),s9(),Y_(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Qt(this._ngZone,this._activePane.elRef.nativeElement,Fye,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Qt(this._ngZone,this._activePane.elRef.nativeElement,Bye,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(C(mn),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&G3(Sy,5),2&t){let i;a1(i=c1())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&ye("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[Lt],attrs:mve,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&B(0,yve,1,1,"ng-template",0),2&t&&D("ngForOf",r.nav.items)},dependencies:[Sy,kn,Kt,si],encapsulation:2,changeDetection:0}),n})(),UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[BB]}),n})(),Uye=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$B=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),GB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),jB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),WB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),qB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),KB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),YB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),QB=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new ae(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=f9(t,this.pageCount,1),this.page!==r&&vt(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),vt(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(C(Uye))},n.\u0275cmp=n1({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(A1(i,$B,5),A1(i,GB,5),A1(i,jB,5),A1(i,WB,5),A1(i,qB,5),A1(i,KB,5),A1(i,YB,5)),2&t){let s;a1(s=c1())&&(r.tplEllipsis=s.first),a1(s=c1())&&(r.tplFirst=s.first),a1(s=c1())&&(r.tplLast=s.first),a1(s=c1())&&(r.tplNext=s.first),a1(s=c1())&&(r.tplNumber=s.first),a1(s=c1())&&(r.tplPrevious=s.first),a1(s=c1())&&(r.tplPages=s.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[U1,Lt],decls:20,vars:12,consts:function(){let e,t,r,i,s,o,a,c;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,s=$localize`:@@ngb.pagination.first-aria:First`,o=$localize`:@@ngb.pagination.previous-aria:Previous`,a=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(B(0,Cve,2,0,"ng-template",null,0,kt),B(2,bve,2,0,"ng-template",null,1,kt),B(4,Mve,2,0,"ng-template",null,2,kt),B(6,wve,2,0,"ng-template",null,3,kt),B(8,Sve,1,0,"ng-template",null,4,kt),B(10,Eve,2,2,"ng-template",null,5,kt),B(12,Ave,1,1,"ng-template",null,6,kt),M(14,"ul"),B(15,kve,3,9,"li",7),B(16,Pve,3,8,"li",7),B(17,Fve,0,0,"ng-template",8),B(18,Uve,3,9,"li",7),B(19,Gve,3,9,"li",7),w()),2&t){const i=$1(13);V(14),$3("pagination"+(r.size?" pagination-"+r.size:"")),V(1),D("ngIf",r.boundaryLinks),V(1),D("ngIf",r.directionLinks),V(1),D("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",Qi(8,jve,r.page,r.pages,r.disabled)),V(1),D("ngIf",r.directionLinks),V(1),D("ngIf",r.boundaryLinks)}},dependencies:[Kt,kn,si],encapsulation:2,changeDetection:0}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[QB]}),n})(),JB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})(),Kye=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yye=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!vt(t)||t<=0?100:t}get max(){return this._max}getValue(){return f9(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(C(Kye))},n.\u0275cmp=n1({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(Ye("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),ba("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[Lt],ngContentSelectors:u9,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(_a(),M(0,"div"),B(1,Kve,3,3,"span",0),ya(2),w()),2&t&&(iL("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),ba("width",r.getPercentValue(),"%"),ye("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),V(1),D("ngIf",r.showValue))},dependencies:[Kt,DR],encapsulation:2,changeDetection:0}),n})(),eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[Yye]}),n})(),Qye=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zye=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new ae,this.leave=new ae,this.rateChange=new ae(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(t,r){return`${t} out of ${r}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case e1.ArrowDown:case e1.ArrowLeft:this.update(this.rate-1);break;case e1.ArrowUp:case e1.ArrowRight:this.update(this.rate+1);break;case e1.Home:this.update(0);break;case e1.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=f9(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*f9(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(C(Qye),C(mn))},n.\u0275cmp=n1({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&A1(i,x1,5),2&t){let s;a1(s=c1())&&(r.starTemplateFromContent=s.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&ne("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)})("mouseleave",function(){return r.reset()}),2&t&&(pn("tabindex",r.disabled?-1:r.tabindex),Ye("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText(r.nextRate,r.max))("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[b1([{provide:vn,useExisting:Se(()=>n),multi:!0}]),U1,Lt],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(B(0,Yve,1,1,"ng-template",null,0,kt),B(2,Zve,4,5,"ng-template",1)),2&t&&(V(2),D("ngForOf",r.contexts))},dependencies:[kn,si],encapsulation:2,changeDetection:0}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[Zye]}),n})();class nU{constructor(e,t,r){this.hour=w2(e),this.minute=w2(t),this.second=w2(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=vt(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){vt(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){vt(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return vt(this.hour)&&vt(this.minute)&&(!e||vt(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Xye=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function Jye(){return new eCe}()},providedIn:"root"}),n})(),eCe=(()=>{class n extends rU{fromModel(t){return t&&st(t.hour)&&st(t.minute)?{hour:t.hour,minute:t.minute,second:st(t.second)?t.second:null}:null}toModel(t){return t&&st(t.hour)&&st(t.minute)?{hour:t.hour,minute:t.minute,second:st(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),iU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function tCe(n){return new nCe(n)}(O(Ln)),r},providedIn:"root"}),n})(),nCe=(()=>{class n extends iU{constructor(t){super(),this._periods=lR(t,j1.Standalone,Ie.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(O(Ln))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const rCe=/[^0-9]/g;let iCe=(()=>{class n{constructor(t,r,i,s){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=s,this.onChange=o=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=st(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=st(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=st(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new nU(r.hour,r.minute,r.second):new nU,!this.seconds&&(!r||!vt(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=w2(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(w2(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(w2(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(rCe,"")}formatHour(t){return vt(t)?Wa(this.meridian?t%12==0?12:t%12:t%24):Wa(NaN)}formatMinSec(t){return Wa(vt(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!vt(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(C(Xye),C(rU),C(mn),C(iU))},n.\u0275cmp=n1({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[b1([{provide:vn,useExisting:Se(()=>n),multi:!0}]),U1,Lt],decls:16,vars:25,consts:function(){let e,t,r,i,s,o,a,c,l,u,f,d,h,p;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,s=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,o=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,a=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,c=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,l=$localize`:@@ngb.timepicker.SS:SS`,u=$localize`:@@ngb.timepicker.seconds:Seconds`,f=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,d=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,h=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,p=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],s,[1,"chevron","ngb-tp-chevron","bottom"],o,a,c,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",l,"aria-label",u,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],f,d,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],h,p]},template:function(t,r){1&t&&(M(0,"fieldset",0)(1,"div",1)(2,"div",2),B(3,Xve,4,7,"button",3),M(4,"input",4),ne("change",function(s){return r.updateHour(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeHour(r.hourStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeHour(-r.hourStep),s.preventDefault()}),w(),B(5,Jve,4,7,"button",3),w(),M(6,"div",5),I(7,":"),w(),M(8,"div",6),B(9,e_e,4,7,"button",3),M(10,"input",7),ne("change",function(s){return r.updateMinute(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeMinute(r.minuteStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeMinute(-r.minuteStep),s.preventDefault()}),w(),B(11,t_e,4,7,"button",3),w(),B(12,n_e,2,0,"div",8),B(13,s_e,4,9,"div",9),B(14,o_e,1,0,"div",8),B(15,l_e,5,9,"div",10),w()()),2&t&&(ye("disabled",r.disabled),D("disabled",r.disabled),V(3),D("ngIf",r.spinners),V(1),ye("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),D("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),V(1),D("ngIf",r.spinners),V(4),D("ngIf",r.spinners),V(1),ye("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),D("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),V(1),D("ngIf",r.spinners),V(1),D("ngIf",r.seconds),V(1),D("ngIf",r.seconds),V(1),D("ngIf",r.meridian),V(1),D("ngIf",r.meridian))},dependencies:[Kt],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),sU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[iCe]}),n})();const sCe=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),qa(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},oCe=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let aCe=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),lCe=(()=>{class n{constructor(t,r,i,s){this.ariaLive=t,this._zone=i,this._element=s,this.contentHeaderTpl=null,this.shown=new ae,this.hidden=new ae,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(gt(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Qt(this._zone,this._element.nativeElement,oCe,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Qt(this._zone,this._element.nativeElement,sCe,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(B3("aria-live"),C(aCe),C(Ce),C(i1))},n.\u0275cmp=n1({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&A1(i,cCe,7,x1),2&t){let s;a1(s=c1())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(Ye("aria-live",r.ariaLive),ye("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[U1,Lt],ngContentSelectors:u9,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(_a(),B(0,u_e,2,1,"ng-template",null,0,kt),B(2,d_e,3,1,"ng-template",1),M(3,"div",2),ya(4),w()),2&t&&(V(2),D("ngIf",r.contentHeaderTpl||r.header))},dependencies:[Kt,si],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),oU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[lCe]}),n})(),aU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})(),uCe=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=qF(this.result),i=Array.isArray(this.term)?this.term:[this.term],s=l=>this.accentSensitive?l:QF(l),o=i.map(l=>function __e(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(qF(l)))).filter(l=>l),a=this.accentSensitive?r:QF(r),c=o.length?a.split(new RegExp(`(${o.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=c;else{let l=0;this.parts=c.map(u=>r.substring(l,l+=u.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[U1,Lt],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&B(0,m_e,3,2,"ng-template",0),2&t&&D("ngForOf",r.parts)},dependencies:[Kt,kn],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new te("live announcer delay",{providedIn:"root",factory:function fCe(){return 100}});let cU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[uCe]}),n})(),lU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();const dCe=[oB,aB,fB,dB,IB,LB,RB,UB,lU,ZB,JB,eU,tU,sU,oU,aU,cU];let hCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[dCe,oB,aB,fB,dB,IB,LB,RB,UB,lU,ZB,JB,eU,tU,sU,oU,aU,cU]}),n})(),pCe=(()=>{class n{constructor(){this.personInfo={}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-person-card"]],inputs:{personInfo:"personInfo"},decls:11,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-7","image-col","text-center","px-lg-40"],[1,"people-link",3,"href"],["width","200px",1,"person-image","person-image-fluid",3,"src"],[1,"col","d-none","d-md-block","des-col"],[1,"person-name"],[1,"person-role"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"a",3)(4,"img",4),w(),M(5,"div",5)(6,"p",6),I(7),w(),M(8,"p",7),I(9),w(),ce(10,"br"),w()()()),2&t&&(V(3),r0("href",r.personInfo.page_link,ts),V(1),r0("src",r.personInfo.image_link,ts),V(3),P2(r.personInfo.fullname),V(2),P2(r.personInfo.role))},styles:[".person-image[_ngcontent-%COMP%]{border-radius:50%}.image-col[_ngcontent-%COMP%]{padding-left:10px;background-color:#7fff00}.person-name[_ngcontent-%COMP%]{margin-top:60px;font-size:25px}.person-role[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.des-col[_ngcontent-%COMP%]{background-color:#deb887}"]}),n})();const mCe=["carousel"];function gCe(n,e){1&n&&ce(0,"app-person-card",5),2&n&&D("personInfo",L().$implicit)}function vCe(n,e){1&n&&B(0,gCe,1,1,"ng-template",4)}function _Ce(n,e){if(1&n){const t=v1();M(0,"ngb-carousel",1,2),ne("slide",function(i){return Me(t),we(L().onSlide(i))}),B(2,vCe,1,0,null,3),w()}if(2&n){const t=L();D("interval",3e3)("pauseOnHover",t.pauseOnHover)("pauseOnFocus",t.pauseOnFocus),V(2),D("ngForOf",t.people)}}let yCe=(()=>{class n{constructor(){this.paused=!1,this.unpauseOnArrow=!1,this.pauseOnIndicator=!1,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.people=[]}togglePaused(){this.paused?this.carousel.cycle():this.carousel.pause(),this.paused=!this.paused}onSlide(t){this.unpauseOnArrow&&t.paused&&(t.source===ui.ARROW_LEFT||t.source===ui.ARROW_RIGHT)&&this.togglePaused(),this.pauseOnIndicator&&!t.paused&&t.source===ui.INDICATOR&&this.togglePaused()}ngOnInit(){this.people=[{fullname:"Valerio Re",role:"Full Professor",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/18-11-2020/valeriore.jpg?itok=QA8gZjWv",page_link:"https://didattica-rubrica.unibg.it/ugov/person/2126"},{fullname:"Massimo Manghisoni",role:"Full Professor",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/18-11-2020/massimomanghisoni.jpg?itok=cY6M3PJn",page_link:"https://didattica-rubrica.unibg.it/ugov/person/3863"},{fullname:"Gianluca Traversi",role:"Associate Professor",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/17-11-2020/gianlucatraversi_0.jpg?itok=LEpJx9I8",page_link:"https://didattica-rubrica.unibg.it/ugov/person/2025"},{fullname:"Luigi Gaioni",role:"Associate Professor",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/27-01-2022/gaioni_2022_0.png?itok=xwGf3W-p",page_link:"https://didattica-rubrica.unibg.it/ugov/person/1912"},{fullname:"Elisa Riceputi",role:"Research Fellow",image_link:"https://media.licdn.com/dms/image/C5603AQG7MriSe0NcvQ/profile-displayphoto-shrink_800_800/0/1517027392938?e=2147483647&v=beta&t=HKbO3u5lWMJL1u-W95hDYh2gGz-V1ZB_1IU4ZI7n12k",page_link:"https://didattica-rubrica.unibg.it/ugov/person/23631"},{fullname:"Paolo Lazzaroni",role:"Ph.D. Student",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/17-11-2020/photo_face_0.jpg?itok=Ub6ffGMR",page_link:"https://didattica-rubrica.unibg.it/ugov/person/52719"},{fullname:"Andrea Galliani",role:"Ph.D. Student",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/27-10-2022/1653337271785.jpg?itok=JvdMnetv",page_link:"https://didattica-rubrica.unibg.it/ugov/person/109144"},{fullname:"Luca Ghislotti",role:"Ph.D. Student",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/26-10-2022/immagine_luca.jpg?itok=cto1xkFT",page_link:"https://didattica-rubrica.unibg.it/ugov/person/135728"},{fullname:"Stefano Sanvito",role:"Ph.D. Student",image_link:"https://media.licdn.com/dms/image/D4E03AQEGDZdGY_YK-A/profile-displayphoto-shrink_800_800/0/1629919271919?e=2147483647&v=beta&t=tSad18xPWPOFZet-git9Ts83_yGb38xkmGBvqrujg_U",page_link:"https://didattica-rubrica.unibg.it/ugov/person/127647"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-people-carousel"]],viewQuery:function(t,r){if(1&t&&G3(mCe,7),2&t){let i;a1(i=c1())&&(r.carousel=i.first)}},decls:1,vars:1,consts:[[3,"interval","pauseOnHover","pauseOnFocus","slide",4,"ngIf"],[3,"interval","pauseOnHover","pauseOnFocus","slide"],["carousel",""],[4,"ngFor","ngForOf"],["class","ng_template","ngbSlide",""],[3,"personInfo"]],template:function(t,r){1&t&&B(0,_Ce,3,4,"ngb-carousel",0),2&t&&D("ngIf",r.people)},dependencies:[kn,Kt,uB,lB,pCe],styles:[".picsum-img-wrapper[_ngcontent-%COMP%], .people_image[_ngcontent-%COMP%]{border-radius:50%}.picsum-img-wrapper[_ngcontent-%COMP%]{margin-bottom:50px}.ng_template[_ngcontent-%COMP%]{width:200px;height:200px}"]}),n})();function CCe(n,e){1&n&&(ar(0),M(1,"div",17)(2,"h1",7),I(3," Who we are "),w(),ce(4,"app-people-carousel",18),w(),ce(5,"div",19),cr())}let bCe=(()=>{class n{constructor(t){this.userSession=t,this.isLogged=!1,this.destroyed$=new qe}ngOnInit(){this.userSession.loggedSubject.pipe(N1(this.destroyed$)).subscribe(t=>{this.isLogged=t})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(C(Fa))},n.\u0275cmp=n1({type:n,selectors:[["app-home"]],decls:37,vars:1,consts:[["data-ride","carousel",1,"carousel","slide","carousel-top","mb-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/carousel/silicon_banner.webp","alt","First slide",1,"d-block","w-100"],[1,"container"],[1,"row","justify-content-between"],[1,"col","col-12","col-sm-12","col-md-4","text-container","px-lg-5","mb-5"],[1,"text-center","border-bottom","border-primary","border-custom","fs-3","pb-3"],[1,"text-center"],["src","assets/icons/HEP.png","width","200","alt","hep","loading","lazy",1,"img-fluid","float-center"],[1,"fs-6","text-center","my-4"],["type","button","routerLink","/research-interest","fragment","HEP",1,"btn","btn-outline-primary","btn-custom"],["src","assets/icons/cmos.png","width","200","alt","cmos","loading","lazy",1,"img-fluid","float-center"],["type","button","routerLink","/research-interest","fragment","CMOS",1,"btn","btn-outline-primary","btn-custom"],["src","assets/icons/sensors.png","width","200","alt","sensors","loading","lazy",1,"img-fluid","float-center"],["type","button","routerLink","/research-interest","fragment","IoT",1,"btn","btn-outline-primary","btn-custom"],[4,"ngIf"],[1,"row","d-flex","justify-content-center","people-container"],[1,"people-carousel"],[1,"mb-3"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),w()()(),M(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),I(8," High Energy Physics "),w(),M(9,"div",8),ce(10,"img",9),w(),M(11,"p",10),I(12," Mixed-signal, low-noise front-end IC design for accelerators, x-FELs and astroparticle physics. "),w(),M(13,"div",8)(14,"button",11),I(15,"Read more"),w()()(),M(16,"div",6)(17,"h1",7),I(18," CMOS characterization "),w(),M(19,"div",8),ce(20,"img",12),w(),M(21,"p",10),I(22," CMOS technology nodes characterizations, noise evaluation and radiation effect analysis. "),w(),M(23,"div",8)(24,"button",13),I(25,"Read more"),w()()(),M(26,"div",6)(27,"h1",7),I(28," Wearable sensors and IoT "),w(),M(29,"div",8),ce(30,"img",14),w(),M(31,"p",10),I(32," Affordable, precise and efficient solutions for wearable sensors and IoT networks. "),w(),M(33,"div",8)(34,"button",15),I(35,"Read more"),w()()()(),B(36,CCe,6,0,"ng-container",16),w()),2&t&&(V(36),D("ngIf",r.isLogged))},dependencies:[Kt,n3,yCe],styles:[".carousel-top[_ngcontent-%COMP%]{margin-top:-5px}.carousel-item-white[_ngcontent-%COMP%]{padding:10px;position:absolute;height:100%;width:100%;z-index:1;background-color:#fff6}.people-container[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:60px;width:80%;background-color:#7fffd4}.people-carousel[_ngcontent-%COMP%]{margin-top:20px}"]}),n})(),MCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-research-interest"]],decls:116,vars:0,consts:[["data-ride","carousel",1,"carousel","slide","carousel-top","mb-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/carousel/silicon_banner.webp","alt","First slide",1,"d-block","w-100","carousel-item-crop"],[1,"container","fs-6"],["id","IoT",1,"row","justify-content-start"],[1,"col","col-12"],[1,"border-bottom","border-primary","border-custom","fs-3","pb-3","mt-5"],[1,"row","justify-content-between"],[1,"col","col-12","col-md-4","text-center"],["src","assets/img/ECG_modified.png","width","70%","alt","gaps module","loading","lazy",1,"img-fluid"],[1,"col","col-12","col-md-8"],[1,"text-start","text-container","mb-5"],["href","https://www.radar-cns.org/"],["id","HEP",1,"row","justify-content-start"],[1,"col","col-12","col-md-4","order-md-1"],["src","assets/img/GAPS_module.png","alt","gaps module","loading","lazy",1,"img-fluid"],["href","https://rd53.web.cern.ch/"],["href","https://home.cern/"],["href","https://cms.cern/"],["href","https://gaps1.astro.ucla.edu/gaps/"],["href","https://www.nasa.gov/"],["href","https://www.asi.it/en/"],["href","https://global.jaxa.jp/"],["href","https://home.infn.it/en/"],["href","https://photon-science.desy.de/research/technical_groups/detectors/projects/dssc/index_eng.html"],["href","https://www.xfel.eu/"],["href","https://www.desy.de/"],["href","https://www.polimi.it/en"],["href","https://www.uni-heidelberg.de/en"],["href","https://aida2020.web.cern.ch/aida2020/"],["id","CMOS",1,"row","justify-content-start"],[1,"col","col-12","col-md-4","mb-5"],["src","assets/img/noise_manghi.png","alt","gaps module","loading","lazy",1,"img-fluid"],["href",""]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),w()()(),M(4,"div",4)(5,"p"),I(6," Microlab (\u03bcLab) laboratory interest spans different research fields: "),w(),M(7,"div",5)(8,"div",6)(9,"h1",7),I(10,"Wearable sensors and IoT"),w()()(),M(11,"div",8)(12,"div",9),ce(13,"img",10),w(),M(14,"div",11)(15,"div",12)(16,"p"),I(17," From industry to everyday life, the current trend is to collect valuable information with zero impact, low cost and for long spans of time. The Internet of Things (IoT) is the most famous paradigm to make this idea work: a network of smart sensors connected to the Internet that gather data, forward them to accumulators that can exploit them and find useful patterns and information starting from them. "),w(),M(18,"p"),I(19," Microlab has been working extensively on different wearable and IoT platforms applied to multiple fields with a common target: miniaturization and long battery life. The areas of application, and fields of interest, of such systems are unbound: from orientation and motion tracking system for industry to dynamic ECG system, dehydration monitoring platforms and beam diagnostic architecture for medical applications. The expertise of the group spans from the hardware, namely components, PCB design and integration, to the firmware and data analysis. Different miniaturised platforms have been developed, tested and applied to use cases with a great success. "),w(),M(20,"p"),I(21," Some of the platfroms Microlab has been developing are: "),w(),M(22,"ul")(23,"li"),I(24,"Orientation and motion tracking systems for general purposes application (motion reconstruction, patient rehabilitation, etc.)."),w(),M(25,"li"),I(26,"ECG and PPG platforms for medical applications."),w(),M(27,"li"),I(28,"Color sensing platforms interfacing with smart textiles for vital parameters and dehydration monitoring for professional sportspeople."),w(),M(29,"li"),I(30,"Beamline monitoring system for particle therapy, a new kind of radiotherapy that limits the collateral damage due to tumour removal methods."),w()(),M(31,"p"),I(32," In this field, the laboratory has been involved in the European Union Horizon 2020 programme with the "),M(33,"a",13),I(34,"RADAR-CNS"),w(),I(35," project to develop new methods of keeping track of the most important parameters to monitor diseases such as depression, Parkinson, epilepsy, multiple sclerosis and so on "),w()()()(),M(36,"div",14)(37,"div",6)(38,"h1",7),I(39,"High Energy Physics"),w()()(),M(40,"div",8)(41,"div",15),ce(42,"img",16),w(),M(43,"div",11)(44,"div",12)(45,"p"),I(46," Microlab has developed several custom low-noise front-end circuits for radiation detector readout in different national and international collaboration frames. The technologies used by the laboratory are varied, but CMOS is the usual choice when it comes to integrated circuits for the experience the group holds on the process. "),w(),M(47,"p"),I(48," The group has been developing mixed-signal circuits in CMOS technologies from the 180 nm down to the 28 nm node to readout both pixellated and striped detectors. The target of the typical application is very low noise detection of target particles, together with low power specification and compact area for high level of integration and spatial resolution. The group has also experience on design of I/O blocks and band-gap references. There is also expertise with 3D integration technologies to produce multilayer analog-digital integrated circuits. "),w(),M(49,"p"),I(50," Some of the project Microlab has been working on are: "),w(),M(51,"ul")(52,"li")(53,"a",17),I(54,"RD53"),w(),I(55,", in collaboration with "),M(56,"a",18),I(57,"CERN"),w(),I(58,", in the frame of the "),M(59,"a",19),I(60,"CMS"),w(),I(61," experiment."),w(),M(62,"li")(63,"a",20),I(64,"GAPS"),w(),I(65,", a "),M(66,"a",21),I(67,"NASA"),w(),I(68,"/"),M(69,"a",22),I(70,"ASI"),w(),I(71,"/"),M(72,"a",23),I(73,"JAXA"),w(),I(74,"/"),M(75,"a",24),I(76,"INFN"),w(),I(77," founded project in collaboration with different universities and institute across the world."),w(),M(78,"li")(79,"a",25),I(80,"DSSC"),w(),I(81,", in collaboration with "),M(82,"a",26),I(83,"European XFEL"),w(),I(84,", "),M(85,"a",27),I(86,"DESY"),w(),I(87,", "),M(88,"a",28),I(89,"Politecnico di Milano"),w(),I(90," and "),M(91,"a",29),I(92,"Heidelberg University"),w(),I(93,"."),w(),M(94,"li")(95,"a",30),I(96,"AIDA2020"),w(),I(97,", an European Union founded project in the frame of Horizon 2020 Research and Innovation programme."),w()()()()(),M(98,"div",31)(99,"div",6)(100,"h1",7),I(101,"CMOS characterization"),w()()(),M(102,"div",8)(103,"div",32),ce(104,"img",33),w(),M(105,"div",11)(106,"div",12)(107,"p"),I(108," CMOS technologies are widely used for the design and development of mixed-signal circuits. They enable a high level of integration and high fault tolerance in a hard radiation scenario. The continuous scaling of the technology nodes calls for thorough studies on their analog performance, in particular noise ones. "),w(),M(109,"p"),I(110," In this field, the group developed an accurate noise model that accounts for secondary effects of scaled CMOS technologies, such as short channel effects and parasitic effects from gate and substrate resistances. The model has been validated across different CMOS technology nodes and with commercial and custom-developed electronics. Moreover, radiation hardness studies in different technologies have been pursued with a focus on noise and analog performance in general, as such characteristic is of paramount importance in spatial, x-ray imaging and high energy physics experiments. "),w(),M(111,"p"),I(112," The work has been mainly carried out in collaboration with "),M(113,"a",34),I(114,"Universit\xe0 di Pavia"),w(),I(115,". "),w()()()()())}}),n})(),wCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-work-in-progress"]],decls:16,vars:0,consts:[[1,"container","mt-5"],[1,"row","justify-content-between"],[1,"col","col-12","col-sm-12","col-md-5","text-container","px-lg-5","align-self-center"],[1,"overlap","mt-5"],[1,"bee-sketch","red"],[1,"bee-sketch","blue"],[1,"col","col-12","col-sm-12","col-md-7","text-container","px-lg-5","align-self-center"],["routerLink","/home"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"div",4)(5,"div",5),w()(),M(6,"div",6)(7,"h1"),I(8," It seems you got lost "),M(9,"small"),I(10,"or maybe this section is not available yet... "),ce(11,"br")(12,"br"),I(13," return to "),M(14,"a",7),I(15,"Home"),w()()()()()())},dependencies:[n3],styles:['@import"https://fonts.googleapis.com/css?family=Cabin+Sketch";h1[_ngcontent-%COMP%]{font-family:Cabin Sketch,cursive;font-size:3em;text-align:center;opacity:.8;order:1}h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%]{color:#133066;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{color:#0096ff;text-decoration:none;font-weight:700}.overlap[_ngcontent-%COMP%]{position:relative;min-width:100%;min-height:400px;margin:0;overflow:visible;order:2}.bee-sketch[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0}.red[_ngcontent-%COMP%]{background:url(red-1.ab311a0bf6866a74.png) no-repeat center center;opacity:.4;animation:_ngcontent-%COMP%_red 3s linear infinite,opacityRed 5s linear alternate infinite;background-size:68%}.blue[_ngcontent-%COMP%]{background:url(blue-1.971f849feb826841.png) no-repeat center center;opacity:1;animation:_ngcontent-%COMP%_blue 3s linear infinite,opacityBlue 5s linear alternate infinite;background-size:68%}@media only screen and (min-width: 780px){h1[_ngcontent-%COMP%]{text-align:right;order:2;padding-top:4em}}@keyframes _ngcontent-%COMP%_blue{0%{background-image:url(blue-1.971f849feb826841.png)}9.09%{background-image:url(blue-2.6f016075db487a57.png)}27.27%{background-image:url(blue-3.8aaf400342899bfa.png)}36.36%{background-image:url(blue-4.59e599ec02f8347e.png)}45.45%{background-image:url(blue-5.eb9657ca1cf6bd87.png)}54.54%{background-image:url(blue-6.1844a04eccdbc0e1.png)}63.63%{background-image:url(blue-7.56c3c831fdba15fa.png)}72.72%{background-image:url(blue-8.f5d6fe11301bc7db.png)}81.81%{background-image:url(blue-9.7657d1d567e07f97.png)}to{background-image:url(blue-1.971f849feb826841.png)}}@keyframes _ngcontent-%COMP%_red{0%{background-image:url(red-1.ab311a0bf6866a74.png)}9.09%{background-image:url(red-2.b680f6274ff09ba5.png)}27.27%{background-image:url(red-3.caa7e9219c993522.png)}36.36%{background-image:url(red-4.104ace21dd190b36.png)}45.45%{background-image:url(red-5.c9f4d17221470256.png)}54.54%{background-image:url(red-6.5e9304efe6654cd0.png)}63.63%{background-image:url(red-7.c1423458a4a77193.png)}72.72%{background-image:url(red-8.18e91cd8d0fa70e8.png)}81.81%{background-image:url(red-9.7af2632c611bc092.png)}to{background-image:url(red-1.ab311a0bf6866a74.png)}}@keyframes _ngcontent-%COMP%_opacityBlue{0%{opacity:0}25%{opacity:.5}75%{opacity:1}to{opacity:1}}@keyframes _ngcontent-%COMP%_opacityRed{0%{opacity:1}25%{opacity:1}75%{opacity:.3}to{opacity:.3}}']}),n})();const zy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},q=function(n,e){if(!n)throw Xa(e)},Xa=function(n){return new Error("Firebase Database ("+zy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)},uU=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},S9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let d=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(d=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[d],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==f)throw new zCe;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zCe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fU=function(n){const e=uU(n);return S9.encodeByteArray(e,!0)},z9=function(n){return fU(n).replace(/\./g,"")},E9=function(n){try{return S9.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ECe(n){return dU(void 0,n)}function dU(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!TCe(t)||(n[t]=dU(n[t],e[t]));return n}function TCe(n){return"__proto__"!==n}const T9=()=>{try{return function NCe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&E9(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},hU=n=>{var e,t;return null===(t=null===(e=T9())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},N9=n=>{const e=hU(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ICe=()=>{var n;return null===(n=T9())||void 0===n?void 0:n.config},pU=n=>{var e;return null===(e=T9())||void 0===e?void 0:e[`_${n}`]};class Ja{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Ey(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[z9(JSON.stringify({alg:"none",type:"JWT"})),z9(JSON.stringify(o)),""].join(".")}function s2(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ty(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s2())}function Ny(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function gU(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function i3(){return!0===zy.NODE_CLIENT||!0===zy.NODE_ADMIN}function r4(){try{return"object"==typeof indexedDB}catch{return!1}}function ec(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function D9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lr.prototype.create)}}class Lr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function LCe(n,e){return n.replace(kCe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Bn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const kCe=/\{\$([^}]+)}/g;function a8(n){return JSON.parse(n)}function S2(n){return JSON.stringify(n)}const V9=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=a8(E9(s[0])||""),t=a8(E9(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function s3(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function tc(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Dy(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function H9(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function c8(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(vU(s)&&vU(o)){if(!c8(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vU(n){return null!==n&&"object"==typeof n}function l8(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class PCe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let f=0;f<16;f++)r[f]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let f=0;f<16;f++)r[f]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=4294967295&(d<<1|d>>>31)}let l,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let f=0;f<80;f++){f<40?f<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):f<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);const d=(i<<5|i>>>27)+l+c+u+r[f]&4294967295;c=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class BCe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function UCe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Vy),void 0===i.error&&(i.error=Vy),void 0===i.complete&&(i.complete=Vy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vy(){}const x9=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e},GCe=1e3,jCe=2,WCe=144e5,qCe=.5;function Hy(n,e=GCe,t=jCe){const r=e*Math.pow(t,n),i=Math.round(qCe*r*(Math.random()-.5)*2);return Math.min(WCe,r+i)}function u1(n){return n&&n._delegate?n._delegate:n}class Pt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ts="[DEFAULT]";class YCe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ja;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ZCe(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ts?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class XCe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YCe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Iy=[];var Qe=(()=>{return(n=Qe||(Qe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Qe;var n})();const _U={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},JCe=Qe.INFO,ebe={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},tbe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=ebe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class i4{constructor(e){this.name=e,this._logLevel=JCe,this._logHandler=tbe,this._userLogHandler=null,Iy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const nbe=(n,e)=>e.some(t=>n instanceof t);let yU,CU;const bU=new WeakMap,xy=new WeakMap,MU=new WeakMap,Ay=new WeakMap,Ly=new WeakMap;let ky={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return xy.get(n);if("objectStoreNames"===e)return n.objectStoreNames||MU.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return o3(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function lbe(n){return"function"==typeof n?function cbe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ibe(){return CU||(CU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ry(this),e),o3(bU.get(this))}:function(...e){return o3(n.apply(Ry(this),e))}:function(e,...t){const r=n.call(Ry(this),e,...t);return MU.set(r,e.sort?e.sort():[e]),o3(r)}}(n):(n instanceof IDBTransaction&&function obe(n){if(xy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});xy.set(n,e)}(n),nbe(n,function rbe(){return yU||(yU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ky):n)}function o3(n){if(n instanceof IDBRequest)return function sbe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(o3(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&bU.set(t,n)}).catch(()=>{}),Ly.set(e,n),e}(n);if(Ay.has(n))return Ay.get(n);const e=lbe(n);return e!==n&&(Ay.set(n,e),Ly.set(e,n)),e}const Ry=n=>Ly.get(n);function A9(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=o3(o);return r&&o.addEventListener("upgradeneeded",c=>{r(o3(o.result),c.oldVersion,c.newVersion,o3(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Oy(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),o3(t).then(()=>{})}const ube=["get","getKey","getAll","getAllKeys","count"],fbe=["put","add","delete","clear"],Py=new Map;function wU(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Py.get(e))return Py.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=fbe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ube.includes(t))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Py.set(e,s),s}!function abe(n){ky=n(ky)}(n=>({...n,get:(e,t,r)=>wU(e,t)||n.get(e,t,r),has:(e,t)=>!!wU(e,t)||n.has(e,t)}));class dbe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function hbe(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Fy="@firebase/app",Ns=new i4("@firebase/app"),L9="[DEFAULT]",Pbe={[Fy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ds=new Map,k9=new Map;function Fbe(n,e){try{n.container.addComponent(e)}catch(t){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xt(n){const e=n.name;if(k9.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;k9.set(e,n);for(const t of Ds.values())Fbe(t,n);return!0}function yn(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const a3=new Lr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ube{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw a3.create("app-deleted",{appName:this._name})}}const c3="9.21.0";function zU(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:L9,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw a3.create("bad-app-name",{appName:String(i)});if(t||(t=ICe()),!t)throw a3.create("no-options");const s=Ds.get(i);if(s){if(c8(t,s.options)&&c8(r,s.config))return s;throw a3.create("duplicate-app",{appName:i})}const o=new XCe(i);for(const c of k9.values())o.addComponent(c);const a=new Ube(t,r,o);return Ds.set(i,a),a}function fi(n=L9){const e=Ds.get(n);if(!e&&n===L9)return zU();if(!e)throw a3.create("no-app",{appName:n});return e}function EU(){return Array.from(Ds.values())}function Ge(n,e,t){var r;let i=null!==(r=Pbe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ns.warn(a.join(" "))}Xt(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $be="firebase-heartbeat-database",Gbe=1,u8="firebase-heartbeat-store";let Uy=null;function TU(){return Uy||(Uy=A9($be,Gbe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(u8)}}).catch(n=>{throw a3.create("idb-open",{originalErrorMessage:n.message})})),Uy}function $y(){return($y=v(function*(n){try{return(yield TU()).transaction(u8).objectStore(u8).get(DU(n))}catch(e){if(e instanceof Bn)Ns.warn(e.message);else{const t=a3.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(t.message)}}})).apply(this,arguments)}function NU(n,e){return Gy.apply(this,arguments)}function Gy(){return(Gy=v(function*(n,e){try{const r=(yield TU()).transaction(u8,"readwrite");return yield r.objectStore(u8).put(e,DU(n)),r.done}catch(t){if(t instanceof Bn)Ns.warn(t.message);else{const r=a3.create("idb-set",{originalErrorMessage:t?.message});Ns.warn(r.message)}}})).apply(this,arguments)}function DU(n){return`${n.name}!${n.options.appId}`}class Kbe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qbe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=VU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=VU(),{heartbeatsToSend:r,unsentEntries:i}=function Ybe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),HU(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),HU(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=z9(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function VU(){return(new Date).toISOString().substring(0,10)}class Qbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!r4()&&ec().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function jbe(n){return $y.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return NU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return NU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function HU(n){return z9(JSON.stringify({version:2,heartbeats:n})).length}!function Zbe(n){Xt(new Pt("platform-logger",e=>new dbe(e),"PRIVATE")),Xt(new Pt("heartbeat",e=>new Kbe(e),"PRIVATE")),Ge(Fy,"0.9.9",n),Ge(Fy,"0.9.9","esm2017"),Ge("fire-js","")}(""),Ge("firebase","9.21.0","app");const IU="@firebase/installations",jy="0.6.4",xU=1e4,AU=`w:${jy}`,LU="FIS_v2",eMe="https://firebaseinstallations.googleapis.com/v1",tMe=36e5,l3=new Lr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kU(n){return n instanceof Bn&&n.code.includes("request-failed")}function Wy({projectId:n}){return`${eMe}/projects/${n}/installations`}function RU(n){return{token:n.token,requestStatus:2,expiresIn:sMe(n.expiresIn),creationTime:Date.now()}}function qy(n,e){return Ky.apply(this,arguments)}function Ky(){return(Ky=v(function*(n,e){const r=(yield e.json()).error;return l3.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function OU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Yy(n){return Qy.apply(this,arguments)}function Qy(){return(Qy=v(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function sMe(n){return Number(n.replace("s","000"))}function Zy(){return(Zy=v(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Wy(n),i=OU(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:LU,appId:n.appId,sdkVersion:AU})},c=yield Yy(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:RU(l.authToken)}}throw yield qy("Create Installation",c)})).apply(this,arguments)}function FU(n){return new Promise(e=>{setTimeout(e,n)})}const lMe=/^[cdef][\w-]{21}$/,Xy="";function uMe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function fMe(n){return function cMe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return lMe.test(t)?t:Xy}catch{return Xy}}function nc(n){return`${n.appName}!${n.appId}`}const rc=new Map;function BU(n,e){const t=nc(n);UU(t,e),function pMe(n,e){const t=function $U(){return!Vs&&"BroadcastChannel"in self&&(Vs=new BroadcastChannel("[Firebase] FID Change"),Vs.onmessage=n=>{UU(n.data.key,n.data.fid)}),Vs}();t&&t.postMessage({key:n,fid:e}),function GU(){0===rc.size&&Vs&&(Vs.close(),Vs=null)}()}(t,e)}function UU(n,e){const t=rc.get(n);if(t)for(const r of t)r(e)}let Vs=null;const mMe="firebase-installations-database",gMe=1,Hs="firebase-installations-store";let Jy=null;function eC(){return Jy||(Jy=A9(mMe,gMe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Hs)}})),Jy}function R9(n,e){return tC.apply(this,arguments)}function tC(){return(tC=v(function*(n,e){const t=nc(n),i=(yield eC()).transaction(Hs,"readwrite"),s=i.objectStore(Hs),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&BU(n,e.fid),e})).apply(this,arguments)}function nC(n){return rC.apply(this,arguments)}function rC(){return(rC=v(function*(n){const e=nc(n),r=(yield eC()).transaction(Hs,"readwrite");yield r.objectStore(Hs).delete(e),yield r.done})).apply(this,arguments)}function f8(n,e){return iC.apply(this,arguments)}function iC(){return(iC=v(function*(n,e){const t=nc(n),i=(yield eC()).transaction(Hs,"readwrite"),s=i.objectStore(Hs),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&BU(n,a.fid),a})).apply(this,arguments)}function sC(n){return oC.apply(this,arguments)}function oC(){return oC=v(function*(n){let e;const t=yield f8(n.appConfig,r=>{const i=function vMe(n){return WU(n||{fid:uMe(),registrationStatus:0})}(r),s=function _Me(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(l3.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function yMe(n,e){return aC.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:CMe(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Xy?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),oC.apply(this,arguments)}function aC(){return aC=v(function*(n,e){try{const t=yield function aMe(n,e){return Zy.apply(this,arguments)}(n,e);return R9(n.appConfig,t)}catch(t){throw kU(t)&&409===t.customData.serverCode?yield nC(n.appConfig):yield R9(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),aC.apply(this,arguments)}function CMe(n){return cC.apply(this,arguments)}function cC(){return(cC=v(function*(n){let e=yield jU(n.appConfig);for(;1===e.registrationStatus;)yield FU(100),e=yield jU(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield sC(n);return r||t}return e})).apply(this,arguments)}function jU(n){return f8(n,e=>{if(!e)throw l3.create("installation-not-found");return WU(e)})}function WU(n){return function bMe(n){return 1===n.registrationStatus&&n.registrationTime+xU<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function lC(){return(lC=v(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function wMe(n,{fid:e}){return`${Wy(n)}/${e}/authTokens:generate`}(n,t),i=function PU(n,{refreshToken:e}){const t=OU(n);return t.append("Authorization",function oMe(n){return`${LU} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:AU,appId:n.appId}})},c=yield Yy(()=>fetch(r,a));if(c.ok)return RU(yield c.json());throw yield qy("Generate Auth Token",c)})).apply(this,arguments)}function uC(n){return fC.apply(this,arguments)}function fC(){return fC=v(function*(n,e=!1){let t;const r=yield f8(n.appConfig,s=>{if(!KU(s))throw l3.create("not-registered");const o=s.authToken;if(!e&&function EMe(n){return 2===n.requestStatus&&!function TMe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+tMe}(n)}(o))return s;if(1===o.requestStatus)return t=function SMe(n,e){return dC.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw l3.create("app-offline");const a=function NMe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function zMe(n,e){return hC.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),fC.apply(this,arguments)}function dC(){return(dC=v(function*(n,e){let t=yield qU(n.appConfig);for(;1===t.authToken.requestStatus;)yield FU(100),t=yield qU(n.appConfig);const r=t.authToken;return 0===r.requestStatus?uC(n,e):r})).apply(this,arguments)}function qU(n){return f8(n,e=>{if(!KU(e))throw l3.create("not-registered");return function DMe(n){return 1===n.requestStatus&&n.requestTime+xU<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function hC(){return hC=v(function*(n,e){try{const t=yield function MMe(n,e){return lC.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield R9(n.appConfig,r),t}catch(t){if(!kU(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield R9(n.appConfig,r)}else yield nC(n.appConfig);throw t}}),hC.apply(this,arguments)}function KU(n){return void 0!==n&&2===n.registrationStatus}function pC(){return(pC=v(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield sC(e);return r?r.catch(console.error):uC(e).catch(console.error),t.fid})).apply(this,arguments)}function mC(){return mC=v(function*(n,e=!1){const t=n;return yield function IMe(n){return gC.apply(this,arguments)}(t),(yield uC(t,e)).token}),mC.apply(this,arguments)}function gC(){return(gC=v(function*(n){const{registrationPromise:e}=yield sC(n);e&&(yield e)})).apply(this,arguments)}function yC(n){return l3.create("missing-app-config-values",{valueName:n})}const YU="installations",RMe=n=>{const e=n.getProvider("app").getImmediate(),t=function LMe(n){if(!n||!n.options)throw yC("App Configuration");if(!n.name)throw yC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw yC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:yn(e,"heartbeat"),_delete:()=>Promise.resolve()}},OMe=n=>{const t=yn(n.getProvider("app").getImmediate(),YU).getImmediate();return{getId:()=>function VMe(n){return pC.apply(this,arguments)}(t),getToken:i=>function HMe(n){return mC.apply(this,arguments)}(t,i)}};(function PMe(){Xt(new Pt(YU,RMe,"PUBLIC")),Xt(new Pt("installations-internal",OMe,"PRIVATE"))})(),Ge(IU,jy),Ge(IU,jy,"esm2017");const CC="@firebase/remote-config",ZU="remote-config",Cn=new Lr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function WMe(n=fi()){return yn(n=u1(n),ZU).getImmediate()}class ZMe{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function XMe(n=navigator){return n.languages&&n.languages[0]||n.language}class JMe{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:XMe()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),f=new Promise((_,b)=>{e.signal.addEventListener(()=>{const y=new Error("The operation was aborted.");y.name="AbortError",b(y)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(_){let b="fetch-client-network";throw"AbortError"===_?.name&&(b="fetch-timeout"),Cn.create(b,{originalErrorMessage:_?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let m,g;if(200===d.status){let _;try{_=yield d.json()}catch(b){throw Cn.create("fetch-client-parse",{originalErrorMessage:b?.message})}m=_.entries,g=_.state}if("INSTANCE_STATE_UNSPECIFIED"===g?h=500:"NO_CHANGE"===g?h=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==h&&200!==h)throw Cn.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:m}})()}}class nwe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return v(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return v(function*(){yield function ewe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function twe(n){if(!(n instanceof Bn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Hy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class swe{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function P9(n,e){const t=n.target.error||void 0;return Cn.create(e,{originalErrorMessage:t&&t?.message})}const Is="app_namespace_store";class lwe{constructor(e,t,r,i=function cwe(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(P9(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Is,{keyPath:"compositeKey"})}}catch(t){e(Cn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Is],"readonly").objectStore(Is),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(P9(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(Cn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([Is],"readwrite").objectStore(Is),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=f=>{o(P9(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Cn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Is],"readwrite").objectStore(Is),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(P9(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Cn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class uwe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function dwe(){return zC.apply(this,arguments)}function zC(){return(zC=v(function*(){if(!r4())return!1;try{return yield ec()}catch{return!1}})).apply(this,arguments)}!function fwe(){Xt(new Pt(ZU,function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cn.create("registration-window");if(!r4())throw Cn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Cn.create("registration-project-id");if(!o)throw Cn.create("registration-api-key");if(!a)throw Cn.create("registration-app-id");const c=new lwe(a,r.name,t=t||"firebase"),l=new uwe(c),u=new i4(CC);u.logLevel=Qe.ERROR;const f=new JMe(i,c3,t,s,o,a),d=new nwe(f,c),h=new ZMe(d,c,l,u),p=new swe(r,h,l,c,u);return function KMe(n){const e=u1(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ge(CC,"0.4.4"),Ge(CC,"0.4.4","esm2017")}();const hwe="/firebase-messaging-sw.js",pwe="/firebase-cloud-messaging-push-scope",JU="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mwe="https://fcmregistrations.googleapis.com/v1",e$="google.c.a.c_id",gwe="google.c.a.c_l",vwe="google.c.a.ts",_we="google.c.a.e";var ic=(()=>{return(n=ic||(ic={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ic;var n})();function u3(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ywe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const EC="fcm_token_details_db",Cwe=5,t$="fcm_token_object_Store";function TC(){return TC=v(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(EC))return null;let e=null;return(yield A9(EC,Cwe,{upgrade:(r=v(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(t$))return;const l=a.objectStore(t$),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(c=f.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:u3(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:u3(f.auth),p256dh:u3(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:u3(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:u3(f.auth),p256dh:u3(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:u3(f.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield Oy(EC),yield Oy("fcm_vapid_details_db"),yield Oy("undefined"),function Mwe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),TC.apply(this,arguments)}const wwe="firebase-messaging-database",Swe=1,xs="firebase-messaging-store";let NC=null;function DC(){return NC||(NC=A9(wwe,Swe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(xs)}})),NC}function n$(n){return VC.apply(this,arguments)}function VC(){return VC=v(function*(n){const e=AC(n),r=yield(yield DC()).transaction(xs).objectStore(xs).get(e);if(r)return r;{const i=yield function bwe(n){return TC.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield HC(n,i),i}}),VC.apply(this,arguments)}function HC(n,e){return IC.apply(this,arguments)}function IC(){return(IC=v(function*(n,e){const t=AC(n),i=(yield DC()).transaction(xs,"readwrite");return yield i.objectStore(xs).put(e,t),yield i.done,e})).apply(this,arguments)}function xC(){return(xC=v(function*(n){const e=AC(n),r=(yield DC()).transaction(xs,"readwrite");yield r.objectStore(xs).delete(e),yield r.done})).apply(this,arguments)}function AC({appConfig:n}){return n.appId}const z2=new Lr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Twe(n,e){return LC.apply(this,arguments)}function LC(){return(LC=v(function*(n,e){const t=yield PC(n),r=i$(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(OC(n.appConfig),i)).json()}catch(o){throw z2.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw z2.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw z2.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function kC(){return(kC=v(function*(n,e){const t=yield PC(n),r=i$(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${OC(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw z2.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw z2.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw z2.create("token-update-no-token");return s.token})).apply(this,arguments)}function r$(n,e){return RC.apply(this,arguments)}function RC(){return(RC=v(function*(n,e){const r={method:"DELETE",headers:yield PC(n)};try{const s=yield(yield fetch(`${OC(n.appConfig)}/${e}`,r)).json();if(s.error)throw z2.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw z2.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function OC({projectId:n}){return`${mwe}/projects/${n}/registrations`}function PC(n){return FC.apply(this,arguments)}function FC(){return(FC=v(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function i$({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==JU&&(i.web.applicationPubKey=r),i}const Dwe=6048e5;function BC(){return BC=v(function*(n){const e=yield function Iwe(n,e){return jC.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:u3(e.getKey("auth")),p256dh:u3(e.getKey("p256dh"))},r=yield n$(n.firebaseDependencies);if(r){if(function xwe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Dwe?function Hwe(n,e){return $C.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield r$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return o$(n.firebaseDependencies,t)}return o$(n.firebaseDependencies,t)}),BC.apply(this,arguments)}function UC(){return UC=v(function*(n){const e=yield n$(n.firebaseDependencies);e&&(yield r$(n.firebaseDependencies,e.token),yield function zwe(n){return xC.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),UC.apply(this,arguments)}function $C(){return $C=v(function*(n,e){try{const t=yield function Nwe(n,e){return kC.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield HC(n.firebaseDependencies,r),t}catch(t){throw yield function s$(n){return UC.apply(this,arguments)}(n),t}}),$C.apply(this,arguments)}function o$(n,e){return GC.apply(this,arguments)}function GC(){return(GC=v(function*(n,e){const r={token:yield Twe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield HC(n,r),r.token})).apply(this,arguments)}function jC(){return(jC=v(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ywe(e)})})).apply(this,arguments)}function a$(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Awe(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Lwe(n,e){e.data&&(n.data=e.data)}(e,n),function kwe(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function c$(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function WC(n){return z2.create("missing-app-config-values",{valueName:n})}c$("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),c$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pwe{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Owe(n){if(!n||!n.options)throw WC("App Configuration Object");if(!n.name)throw WC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw WC(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function l$(n){return qC.apply(this,arguments)}function qC(){return(qC=v(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(hwe,{scope:pwe}),n.swRegistration.update().catch(()=>{})}catch(e){throw z2.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function KC(){return(KC=v(function*(n,e){if(!e&&!n.swRegistration&&(yield l$(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw z2.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function YC(){return(YC=v(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=JU)})).apply(this,arguments)}function QC(){return QC=v(function*(n,e){if(!navigator)throw z2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw z2.create("permission-blocked");return yield function Bwe(n,e){return YC.apply(this,arguments)}(n,e?.vapidKey),yield function Fwe(n,e){return KC.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Vwe(n){return BC.apply(this,arguments)}(n)}),QC.apply(this,arguments)}function ZC(){return(ZC=v(function*(n,e,t){const r=function $we(n){switch(n){case ic.NOTIFICATION_CLICKED:return"notification_open";case ic.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[e$],message_name:t[gwe],message_time:t[vwe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function XC(){return XC=v(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ic.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(a$(t)):n.onMessageHandler.next(a$(t)));const r=t.data;(function Rwe(n){return"object"==typeof n&&!!n&&e$ in n})(r)&&"1"===r[_we]&&(yield function Uwe(n,e,t){return ZC.apply(this,arguments)}(n,t.messageType,r))}),XC.apply(this,arguments)}const f$="@firebase/messaging",jwe=n=>{const e=new Pwe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Gwe(n,e){return XC.apply(this,arguments)}(e,t)),e},Wwe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function u$(n,e){return QC.apply(this,arguments)}(e,r)}};function h$(){return JC.apply(this,arguments)}function JC(){return(JC=v(function*(){try{yield ec()}catch{return!1}return typeof window<"u"&&r4()&&D9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Qwe(n=fi()){return h$().then(e=>{if(!e)throw z2.create("unsupported-browser")},e=>{throw z2.create("indexed-db-unsupported")}),yn(u1(n),"messaging").getImmediate()}!function qwe(){Xt(new Pt("messaging",jwe,"PUBLIC")),Xt(new Pt("messaging-internal",Wwe,"PRIVATE")),Ge(f$,"0.12.4"),Ge(f$,"0.12.4","esm2017")}();const F9="analytics",Zwe="firebase_id",Xwe="origin",Jwe=6e4,eSe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nb="https://www.googletagmanager.com/gtag/js",o2=new i4("@firebase/analytics"),en=new Lr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nSe(n){if(!n.startsWith(nb)){const e=en.create("invalid-gtag-resource",{gtagURL:n});return o2.warn(e.message),""}return n}function p$(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function rb(){return(rb=v(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield p$(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){o2.error(a)}n("config",i,s)})).apply(this,arguments)}function ib(){return(ib=v(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield p$(t);for(const c of o){const l=a.find(f=>f.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){o2.error(s)}})).apply(this,arguments)}const fSe=30,m$=new class hSe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pSe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function sb(){return(sb=v(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:pSe(r)},s=eSe.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw en.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function ob(){return(ob=v(function*(n,e=m$,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw en.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw en.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ySe;return setTimeout(v(function*(){a.abort()}),void 0!==t?t:Jwe),g$({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function g$(n,e,t){return ab.apply(this,arguments)}function ab(){return ab=v(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=m$){var s;const{appId:o,measurementId:a}=n;try{yield function vSe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(en.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return o2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function mSe(n){return sb.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function _Se(n){if(!(n instanceof Bn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return o2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?Hy(t,i.intervalMillis,fSe):Hy(t,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,f),o2.debug(`Calling attemptFetch again in ${u} millis`),g$(n,f,r,i)}}),ab.apply(this,arguments)}class ySe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let cb,mb;function lb(){return(lb=v(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function fb(){return(fb=v(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function gb(){return(gb=v(function*(){if(!r4())return o2.warn(en.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ec()}catch(n){return o2.warn(en.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function vb(){return vb=v(function*(n,e,t,r,i,s,o){var a;const c=function gSe(n){return ob.apply(this,arguments)}(n);c.then(h=>{t[h.measurementId]=h.appId,n.options.measurementId&&h.measurementId!==n.options.measurementId&&o2.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>o2.error(h)),e.push(c);const l=function ESe(){return gb.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([c,l]);(function uSe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(nb)&&t.src.includes(n))return t;return null})(s)||function iSe(n,e){const t=function rSe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:nSe}),r=document.createElement("script"),i=`${nb}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),mb&&(i("consent","default",mb),function v$(n){mb=n}(void 0)),i("js",new Date);const d=null!==(a=o?.config)&&void 0!==a?a:{};return d[Xwe]="firebase",d.update=!0,null!=f&&(d[Zwe]=f),i("config",u.measurementId,d),cb&&(i("set",cb),function _$(n){cb=n}(void 0)),u.measurementId}),vb.apply(this,arguments)}class NSe{constructor(e){this.app=e}_delete(){return delete di[this.app.options.appId],Promise.resolve()}}let di={},y$=[];const C$={};let M$,hi,B9="dataLayer",b$="gtag",_b=!1;function VSe(n,e,t){!function DSe(){const n=[];if(Ny()&&n.push("This is a browser extension environment."),D9()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=en.create("invalid-analytics-context",{errorInfo:e});o2.warn(t.message)}}();const r=n.options.appId;if(!r)throw en.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw en.create("no-api-key");o2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=di[r])throw en.create("already-exists",{id:r});if(!_b){!function sSe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(B9);const{wrappedGtag:s,gtagCore:o}=function lSe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function cSe(n,e,t,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function aSe(n,e,t,r,i){return ib.apply(this,arguments)}(n,e,t,c,l)}else if("config"===o){const[c,l]=a;yield function oSe(n,e,t,r,i,s){return rb.apply(this,arguments)}(n,e,t,r,c,l)}else if("consent"===o){const[c]=a;n("consent","update",c)}else if("get"===o){const[c,l,u]=a;n("get",c,l,u)}else if("set"===o){const[c]=a;n("set",c)}else n(o,...a)}catch(c){o2.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(di,y$,C$,B9,b$);hi=s,M$=o,_b=!0}return di[r]=function TSe(n,e,t,r,i,s,o){return vb.apply(this,arguments)}(n,y$,C$,e,M$,B9,t),new NSe(n)}function HSe(n=fi()){const e=yn(n=u1(n),F9);return e.isInitialized()?e.getImmediate():function ISe(n,e={}){const t=yn(n,F9);if(t.isInitialized()){const i=t.getImmediate();if(c8(e,t.getOptions()))return i;throw en.create("already-initialized")}return t.initialize({options:e})}(n)}function xSe(){return yb.apply(this,arguments)}function yb(){return(yb=v(function*(){if(Ny()||!D9()||!r4())return!1;try{return yield ec()}catch{return!1}})).apply(this,arguments)}function ASe(n,e,t){n=u1(n),function MSe(n,e,t,r){return fb.apply(this,arguments)}(hi,di[n.app.options.appId],e,t).catch(r=>o2.error(r))}function w$(n,e,t,r){n=u1(n),function CSe(n,e,t,r,i){return lb.apply(this,arguments)}(hi,di[n.app.options.appId],e,t,r).catch(i=>o2.error(i))}const S$="@firebase/analytics";!function LSe(){Xt(new Pt(F9,(e,{options:t})=>VSe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Xt(new Pt("analytics-internal",function n(e){try{const t=e.getProvider(F9).getImmediate();return{logEvent:(r,i,s)=>w$(t,r,i,s)}}catch(t){throw en.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ge(S$,"0.10.0"),Ge(S$,"0.10.0","esm2017")}();const OSe=new class RSe extends EF{}(class kSe extends zF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Un=new ia("7.5.0"),bb="__angularfire_symbol__analyticsIsSupportedValue",Mb="__angularfire_symbol__analyticsIsSupported",wb="__angularfire_symbol__remoteConfigIsSupportedValue",Sb="__angularfire_symbol__remoteConfigIsSupported",zb="__angularfire_symbol__messagingIsSupportedValue",Eb="__angularfire_symbol__messagingIsSupported";globalThis[Mb]||(globalThis[Mb]=xSe().then(n=>globalThis[bb]=n).catch(()=>globalThis[bb]=!1)),globalThis[Eb]||(globalThis[Eb]=h$().then(n=>globalThis[zb]=n).catch(()=>globalThis[zb]=!1)),globalThis[Sb]||(globalThis[Sb]=dwe().then(n=>globalThis[wb]=n).catch(()=>globalThis[wb]=!1));const Tb=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,U9={async:()=>globalThis[Eb],sync:()=>{const n=globalThis[zb];if(void 0===n)throw new Error(Tb("Messaging"));return n}},$9={async:()=>globalThis[Sb],sync:()=>{const n=globalThis[wb];if(void 0===n)throw new Error(Tb("RemoteConfig"));return n}},G9={async:()=>globalThis[Mb],sync:()=>{const n=globalThis[bb];if(void 0===n)throw new Error(Tb("Analytics"));return n}};function pi(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const mi=(n,e)=>{const t=e?[e]:EU(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function sc(){}class E${constructor(e,t=OSe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class PSe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)),t.pipe(Yt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gi=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new E$(Zone.current)),this.insideAngular=t.run(()=>new E$(Zone.current,Q_)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(O(Ce))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function As(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ls(n){return As().ngZone.run(()=>n())}function BSe(n){return As(),function USe(n){return function(t){return(t=t.lift(new PSe(n.ngZone))).pipe(Gl(n.outsideAngular),$l(n.insideAngular))}}(As())(n)}const $Se=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ls(()=>n.apply(void 0,r))},X1=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Ls(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)))),r[s]=$Se(r[s],t));const i=function FSe(n){return As().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Je){const s=As();return i.pipe(Gl(s.outsideAngular),$l(s.insideAngular))}return Ls(()=>i)}return i instanceof Je?i.pipe(BSe):i instanceof Promise?Ls(()=>new Promise((s,o)=>i.then(a=>Ls(()=>s(a)),a=>Ls(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ls(()=>i)};class $n{constructor(e){return e}}class vi{constructor(){return EU()}}const Nb=new te("angularfire2._apps"),jSe={provide:$n,useFactory:function GSe(n){return n&&1===n.length?n[0]:new $n(fi())},deps:[[new Ze,Nb]]},WSe={provide:vi,deps:[[new Ze,Nb]]};function qSe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $n(r)}}let KSe=(()=>{class n{constructor(t){Ge("angularfire",Un.full,"core"),Ge("angularfire",Un.full,"app"),Ge("angular",Dx.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(O(as))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[jSe,WSe]}),n})();function YSe(n,...e){return{ngModule:KSe,providers:[{provide:Nb,useFactory:qSe(n),multi:!0,deps:[Ce,T1,gi,...e]}]}}const QSe=X1(zU,!0),Db=new Map,T$={activated:!1,tokenObservers:[]},ZSe={initialized:!1,enabled:!1};function _t(n){return Db.get(n)||Object.assign({},T$)}function j9(){return ZSe}const Vb="https://content-firebaseappcheck.googleapis.com/v1",tze="exchangeDebugToken",N$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rze{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return v(function*(){t.stop();try{t.pending=new Ja,yield function ize(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ja,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const E2=new Lr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function K9(n,e){return xb.apply(this,arguments)}function xb(){return(xb=v(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(f){throw E2.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==o.status)throw E2.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(f){throw E2.create("fetch-parse-error",{originalErrorMessage:f?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw E2.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}const cze="firebase-app-check-database",lze=1,d8="firebase-app-check-store";let Y9=null;function I$(n,e){return Ab.apply(this,arguments)}function Ab(){return(Ab=v(function*(n,e){const r=(yield function H$(){return Y9||(Y9=new Promise((n,e)=>{try{const t=indexedDB.open(cze,lze);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(E2.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(d8,{keyPath:"compositeKey"})}}catch(t){e(E2.create("storage-open",{originalErrorMessage:t?.message}))}}),Y9)}()).transaction(d8,"readwrite"),s=r.objectStore(d8).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(E2.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const h8=new i4("@firebase/app-check");function Rb(n,e){return r4()?function fze(n,e){return I$(function A$(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{h8.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Fb(){return Bb.apply(this,arguments)}function Bb(){return(Bb=v(function*(){const n=j9();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vze={error:"UNKNOWN_ERROR"};function _ze(n){return S9.encodeString(JSON.stringify(n),!1)}function Q9(n){return Ub.apply(this,arguments)}function Ub(){return(Ub=v(function*(n,e=!1){const t=n.app;!function Hb(n){if(!_t(n).activated)throw E2.create("use-before-activation",{appName:n.name})}(t);const r=_t(t);let s,i=r.token;if(i&&!oc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(oc(c)?i=c:yield Rb(t,void 0))}if(!e&&i&&oc(i))return{token:i.token};let a,o=!1;if(function Pb(){return j9().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=K9(function D$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Vb}/projects/${t}/apps/${r}:${tze}?key=${i}`,body:{debug_token:e}}}(t,yield Fb()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield Rb(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield _t(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?h8.warn(c.message):h8.error(c),s=c}return i?s?a=oc(i)?{token:i.token,internalError:s}:R$(s):(a={token:i.token},r.token=i,yield Rb(t,i)):a=R$(s),o&&function k$(n,e){const t=_t(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function jb(n,e){const t=_t(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function L$(n){const{app:e}=n,t=_t(e);let r=t.tokenRefresher;r||(r=function Cze(n){const{app:e}=n;return new rze(v(function*(){let r;if(r=_t(e).token?yield Q9(n,!0):yield Q9(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=_t(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},N$.RETRIAL_MIN_WAIT,N$.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function oc(n){return n.expireTimeMillis-Date.now()>0}function R$(n){return{token:_ze(vze),error:n}}class bze{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_t(this.app);for(const t of e)jb(this.app,t.next);return Promise.resolve()}}const j$="app-check-internal";!function Lze(){Xt(new Pt("app-check",n=>function Mze(n,e){return new bze(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(j$).initialize()})),Xt(new Pt(j$,n=>function wze(n){return{getToken:e=>Q9(n,e),addTokenListener:e=>function Gb(n,e,t,r){const{app:i}=n,s=_t(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&oc(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),L$(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>L$(n))}(n,"INTERNAL",e),removeTokenListener:e=>jb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ge("@firebase/app-check","0.7.0")}();class ac{constructor(){return mi("app-check")}}typeof window<"u"&&window;const Fze=function q$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},K$=new Lr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),X9=new i4("@firebase/auth");function J9(n,...e){X9.logLevel<=Qe.ERROR&&X9.error(`Auth (${c3}): ${n}`,...e)}function bn(n,...e){throw Qb(n,...e)}function _i(n,...e){return Qb(n,...e)}function Qb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return K$.create(n,...e)}function j(n,e,...t){if(!n)throw Qb(e,...t)}function yi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw J9(e),new Error(e)}function s4(n,e){n||yi(e)}function p8(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Q$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class m8{constructor(e,t){this.shortDelay=e,this.longDelay=t,s4(t>e,"Short delay should be less than long delay!"),this.isMobile=Ty()||gU()}get(){return function Uze(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Zb(){return"http:"===Q$()||"https:"===Q$()}()||Ny()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xb(n,e){s4(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Z${static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jze=new m8(3e4,6e4);function ot(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function yt(n,e,t,r){return Jb.apply(this,arguments)}function Jb(){return(Jb=v(function*(n,e,t,r,i={}){return X$(n,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=l8(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),Z$.fetch()(J$(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function X$(n,e,t){return eM.apply(this,arguments)}function eM(){return(eM=v(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Gze),e);try{const i=new Wze(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw g8(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw g8(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw g8(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw g8(n,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function Y$(n,e,t){const r=Object.assign(Object.assign({},Fze()),{[e]:t});return new Lr("auth","Firebase",r).create(e,{appName:n.name})}(n,u,l);bn(n,u)}}catch(i){if(i instanceof Bn)throw i;bn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function f3(n,e,t,r){return tM.apply(this,arguments)}function tM(){return(tM=v(function*(n,e,t,r,i={}){const s=yield yt(n,e,t,r,i);return"mfaPendingCredential"in s&&bn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function J$(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Xb(n.config,i):`${n.config.apiScheme}://${i}`}class Wze{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),jze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function g8(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=_i(n,e,r);return i.customData._tokenResponse=t,i}function nM(){return(nM=v(function*(n,e){return yt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function iM(){return(iM=v(function*(n,e){return yt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function v8(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function sM(){return(sM=v(function*(n,e=!1){const t=u1(n),r=yield t.getIdToken(e),i=ef(r);j(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:v8(oM(i.auth_time)),issuedAtTime:v8(oM(i.iat)),expirationTime:v8(oM(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function oM(n){return 1e3*Number(n)}function ef(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return J9("JWT malformed, contained fewer than 3 sections"),null;try{const i=E9(t);return i?JSON.parse(i):(J9("Failed to decode base64 JWT payload"),null)}catch(i){return J9("Caught error parsing JWT payload as JSON",i?.toString()),null}}function d3(n,e){return aM.apply(this,arguments)}function aM(){return(aM=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Bn&&function Xze({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Jze{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class eG{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=v8(this.lastLoginAt),this.creationTime=v8(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _8(n){return cM.apply(this,arguments)}function cM(){return cM=v(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield d3(n,function Yze(n,e){return iM.apply(this,arguments)}(t,{idToken:r}));j(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function nEe(n){return n.map(e=>{var{providerId:t}=e,r=Kp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function tEe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eG(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,f)}),cM.apply(this,arguments)}function lM(){return(lM=v(function*(n){const e=u1(n);yield _8(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function uM(){return(uM=v(function*(n,e){const t=yield X$(n,{},v(function*(){const r=l8({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=J$(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Z$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class y8{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Zze(n){const e=ef(n);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return v(function*(){return j(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function rEe(n,e){return uM.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new y8;return r&&(j("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(j("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(j("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new y8,this.toJSON())}_performRefresh(){return yi("not implemented")}}function o4(n,e){j("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eG(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const r=yield d3(t,t.stsTokenManager.getToken(t.auth,e));return j(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Qze(n){return sM.apply(this,arguments)}(this,e)}reload(){return function eEe(n){return lM.apply(this,arguments)}(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield _8(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const t=yield e.getIdToken();return yield d3(e,function qze(n,e){return nM.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;const f=null!==(r=t.displayName)&&void 0!==r?r:void 0,d=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:T,isAnonymous:A,providerData:k,stsTokenManager:J}=t;j(y&&J,e,"internal-error");const de=y8.fromJSON(this.name,J);j("string"==typeof y,e,"internal-error"),o4(f,e.name),o4(d,e.name),j("boolean"==typeof T,e,"internal-error"),j("boolean"==typeof A,e,"internal-error"),o4(h,e.name),o4(p,e.name),o4(m,e.name),o4(g,e.name),o4(_,e.name),o4(b,e.name);const Ee=new ks({uid:y,auth:e,email:d,emailVerified:T,displayName:f,isAnonymous:A,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:de,createdAt:_,lastLoginAt:b});return k&&Array.isArray(k)&&(Ee.providerData=k.map(l1=>Object.assign({},l1))),g&&(Ee._redirectEventId=g),Ee}static _fromIdTokenResponse(e,t,r=!1){return v(function*(){const i=new y8;i.updateFromServerResponse(t);const s=new ks({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _8(s),s})()}}const tG=new Map;function h3(n){s4(n instanceof Function,"Expected a class definition");let e=tG.get(n);return e?(s4(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tG.set(n,e),e)}const nG=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,r){var i=this;return v(function*(){i.storage[t]=r})()}_get(t){var r=this;return v(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return v(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function tf(n,e,t){return`firebase:${n}:${e}:${t}`}class lc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tf(this.userKey,i.apiKey,s),this.fullPersistenceKey=tf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ks._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(function*(){if(!t.length)return new lc(h3(nG),e,r);const i=(yield Promise.all(t.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||h3(nG);const o=tf(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(o);if(u){const f=ks._fromJSON(e,u);l!==s&&(a=f),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new lc(s,e,r)):new lc(s,e,r)})()}}function rG(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cG(e))return"Blackberry";if(lG(e))return"Webos";if(fM(e))return"Safari";if((e.includes("chrome/")||sG(e))&&!e.includes("edge/"))return"Chrome";if(aG(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function iG(n=s2()){return/firefox\//i.test(n)}function fM(n=s2()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sG(n=s2()){return/crios\//i.test(n)}function oG(n=s2()){return/iemobile/i.test(n)}function aG(n=s2()){return/android/i.test(n)}function cG(n=s2()){return/blackberry/i.test(n)}function lG(n=s2()){return/webos/i.test(n)}function nf(n=s2()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uG(n=s2()){return nf(n)||aG(n)||lG(n)||cG(n)||/windows phone/i.test(n)||oG(n)}function fG(n,e=[]){let t;switch(n){case"Browser":t=rG(s2());break;case"Worker":t=`${rG(s2())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${c3}/${r}`}function dG(n,e){return hM.apply(this,arguments)}function hM(){return(hM=v(function*(n,e){return yt(n,"GET","/v2/recaptchaConfig",ot(n,e))})).apply(this,arguments)}function pG(n){return void 0!==n&&void 0!==n.enterprise}class mG{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function pM(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=_i("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function cEe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function gG(n){return`__${n}${Math.floor(1e6*Math.random())}`}const fEe="NO_RECAPTCHA";class vG{constructor(e){this.type="recaptcha-enterprise",this.auth=a2(e)}verify(e="verify",t=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){dG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new mG(f);return null==a.tenantId?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;pG(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c(fEe)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!t&&pG(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));pM("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}class dEe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class hEe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _G(this),this.idTokenSubscription=new _G(this),this.beforeStateQueue=new dEe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=h3(t)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield lc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return j(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield _8(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $ze(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){const r=e?u1(e):null;return r&&j(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return v(function*(){if(!r._deleted)return e&&j(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(v(function*(){yield t.assertedPersistence.setPersistence(h3(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const t=yield dG(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new mG(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new vG(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const r=e&&h3(e)||t._popupRedirectResolver;j(r,t,"argument-error"),t.redirectPersistenceManager=yield lc.create(t,[h3(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var r,i;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Bze(n,...e){X9.logLevel<=Qe.WARN&&X9.warn(`Auth (${c3}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function a2(n){return u1(n)}class _G{constructor(e){this.auth=e,this.observer=null,this.addObserver=function FCe(n,e){const t=new BCe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yG(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CG(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class yEe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,t){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}function p3(n,e){return HM.apply(this,arguments)}function HM(){return(HM=v(function*(n,e){return f3(n,"POST","/v1/accounts:signInWithIdp",ot(n,e))})).apply(this,arguments)}class c4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xEe extends c4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(function*(){const s=yield ks._fromIdTokenResponse(e,r,i),o=SG(r);return new pr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=SG(r);return new pr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function SG(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class lf extends Bn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new lf(e,t,r,i)}}function zG(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?lf._fromErrorAndOperation(n,s,e,r):s})}function FM(n,e){return BM.apply(this,arguments)}function BM(){return(BM=v(function*(n,e,t=!1){const r=yield d3(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return pr._forOperation(n,"link",r)})).apply(this,arguments)}function TG(n,e){return $M.apply(this,arguments)}function $M(){return($M=v(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield d3(n,zG(r,i,e,n),t);j(s.idToken,r,"internal-error");const o=ef(s.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(n.uid===a,r,"user-mismatch"),pr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&bn(r,"user-mismatch"),s}})).apply(this,arguments)}function NG(n,e){return GM.apply(this,arguments)}function GM(){return(GM=v(function*(n,e,t=!1){const r="signIn",i=yield zG(n,r,e),s=yield pr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const ff="__sak";class VG{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rTe=(()=>{class n extends VG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function eTe(){const n=s2();return fM(n)||nf(n)}()&&function oEe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uG(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function sEe(){return function xCe(){const n=s2();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),HG=(()=>{class n extends VG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let sTe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return v(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var f=v(function*(d){return d(i.origin,a)});return function(d){return f.apply(this,arguments)}}()),u=yield function iTe(n){return Promise.all(n.map(function(){var e=v(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Cw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class oTe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=Cw("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ft(){return window}function bw(){return typeof Ft().WorkerGlobalScope<"u"&&"function"==typeof Ft().importScripts}function Mw(){return(Mw=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const IG="firebaseLocalStorageDb",fTe=1,df="firebaseLocalStorage",xG="fbase_key";class w8{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hf(n,e){return n.transaction([df],e?"readwrite":"readonly").objectStore(df)}function ww(){const n=indexedDB.open(IG,fTe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(df,{keyPath:xG})}catch(i){t(i)}}),n.addEventListener("success",v(function*(){const r=n.result;r.objectStoreNames.contains(df)?e(r):(r.close(),yield function dTe(){const n=indexedDB.deleteDatabase(IG);return new w8(n).toPromise()}(),e(yield ww()))}))})}function AG(n,e,t){return Sw.apply(this,arguments)}function Sw(){return(Sw=v(function*(n,e,t){const r=hf(n,!0).put({[xG]:e,value:t});return new w8(r).toPromise()})).apply(this,arguments)}function zw(){return(zw=v(function*(n,e){const t=hf(n,!1).get(e),r=yield new w8(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function LG(n,e){const t=hf(n,!0).delete(e);return new w8(t).toPromise()}const gTe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return v(function*(){return t.db||(t.db=yield ww()),t.db})()}_withRetries(t){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return v(function*(){return bw()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return v(function*(){t.receiver=sTe._getInstance(function uTe(){return bw()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return v(function*(){var r,i;if(t.activeServiceWorker=yield function cTe(){return Mw.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new oTe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function lTe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const t=yield ww();return yield AG(t,ff,"1"),yield LG(t,ff),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return v(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>AG(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return v(function*(){const i=yield r._withRetries(s=>function hTe(n,e){return zw.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>LG(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return v(function*(){const r=yield t._withRetries(o=>{const a=hf(o,!1).getAll();return new w8(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();gG("rcb"),new m8(3e4,6e4);class Aw extends yEe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return p3(e,this._buildIdpRequest())}_linkToIdToken(e,t){return p3(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return p3(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ITe(n){return NG(n.auth,new Aw(n),n.bypassAuthState)}function xTe(n){const{auth:e,user:t}=n;return j(t,e,"internal-error"),TG(t,new Aw(n),n.bypassAuthState)}function ATe(n){return Lw.apply(this,arguments)}function Lw(){return(Lw=v(function*(n){const{auth:e,user:t}=n;return j(t,e,"internal-error"),FM(t,new Aw(n),n.bypassAuthState)})).apply(this,arguments)}class LTe{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ITe;case"linkViaPopup":case"linkViaRedirect":return ATe;case"reauthViaPopup":case"reauthViaRedirect":return xTe;default:bn(this.auth,"internal-error")}}resolve(e){s4(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){s4(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new m8(2e3,1e4);const kTe="pendingRedirect",S8=new Map;class RTe extends LTe{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return v(function*(){let r=S8.get(t.auth._key());if(!r){try{const s=(yield function OTe(n,e){return Fw.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}S8.set(t.auth._key(),r)}return t.bypassAuthState||S8.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function Fw(){return(Fw=v(function*(n,e){const t=function OG(n){return tf(kTe,n.config.apiKey,n.name)}(e),r=function RG(n){return h3(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function PTe(n,e){S8.set(n._key(),e)}function PG(n,e){return qw.apply(this,arguments)}function qw(){return(qw=v(function*(n,e,t=!1){const r=a2(n),i=function Os(n,e){return e?h3(e):(j(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new RTe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class GTe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function jTe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UG(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!UG(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(_i(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(BG(e))}saveEventToCache(e){this.cachedEventUids.add(BG(e)),this.lastProcessedEventTime=Date.now()}}function BG(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UG({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Yw(){return(Yw=v(function*(n,e={}){return yt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const qTe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KTe=/^https?/;function Qw(){return Qw=v(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function WTe(n){return Yw.apply(this,arguments)}(n);for(const t of e)try{if(QTe(t))return}catch{}bn(n,"unauthorized-domain")}),Qw.apply(this,arguments)}function QTe(n){const e=p8(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!KTe.test(t))return!1;if(qTe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ZTe=new m8(3e4,6e4);function $G(){const n=Ft().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let mf=null;const eNe=new m8(5e3,15e3),tNe="__/auth/iframe",nNe="emulator/auth/iframe",rNe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iNe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sNe(n){const e=n.config;j(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Xb(e,nNe):`https://${n.config.authDomain}/${tNe}`,r={apiKey:e.apiKey,appName:n.name,v:c3},i=iNe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${l8(r).slice(1)}`}function Zw(){return Zw=v(function*(n){const e=yield function JTe(n){return mf=mf||function XTe(n){return new Promise((e,t)=>{var r,i,s;function o(){$G(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$G(),t(_i(n,"network-request-failed"))},timeout:ZTe.get()})}if(null!==(i=null===(r=Ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Ft().gapi)||void 0===s||!s.load){const a=gG("iframefcb");return Ft()[a]=()=>{gapi.load?o():t(_i(n,"network-request-failed"))},pM(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}o()}}).catch(e=>{throw mf=null,e})}(n),mf}(n),t=Ft().gapi;return j(t,n,"internal-error"),e.open({where:document.body,url:sNe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rNe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=_i(n,"network-request-failed"),c=Ft().setTimeout(()=>{o(a)},eNe.get());function l(){Ft().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Zw.apply(this,arguments)}const aNe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cNe=500,lNe=600,uNe="_blank",fNe="http://localhost";class GG{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pNe="__/auth/handler",mNe="emulator/auth/handler",gNe=encodeURIComponent("fac");function jG(n,e,t,r,i,s){return Xw.apply(this,arguments)}function Xw(){return(Xw=v(function*(n,e,t,r,i,s){j(n.config.authDomain,n,"auth-domain-config-required"),j(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:c3,eventId:i};if(e instanceof c4){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Dy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof xEe){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${gNe}=${encodeURIComponent(c)}`:"";return`${function vNe({config:n}){return n.emulator?Xb(n,mNe):`https://${n.authDomain}/${pNe}`}(n)}?${l8(a).slice(1)}${l}`})).apply(this,arguments)}const Jw="webStorageSupport",yNe=class _Ne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HG,this._completeRedirectFn=PG,this._overrideRedirectResult=PTe}_openPopup(e,t,r,i){var s=this;return v(function*(){var o;s4(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield jG(e,t,r,p8(),i);return function dNe(n,e,t,r=cNe,i=lNe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},aNe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=s2().toLowerCase();t&&(a=sG(l)?uNe:t),iG(l)&&(e=e||fNe,c.scrollbars="yes");const u=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function iEe(n=s2()){var e;return nf(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function hNe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new GG(null);const f=window.open(e||"",a,u);j(f,n,"popup-blocked");try{f.focus()}catch{}return new GG(f)}(e,a,Cw())})()}_openRedirect(e,t,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function aTe(n){Ft().location.href=n}(yield jG(e,t,r,p8(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(s4(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return v(function*(){const r=yield function oNe(n){return Zw.apply(this,arguments)}(e),i=new GTe(e);return r.register("authEvent",s=>(j(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jw,{type:Jw},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Jw];void 0!==o&&t(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function YTe(n){return Qw.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uG()||fM()||nf()}};var KG="@firebase/auth";class CNe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const SNe=pU("authIdTokenMaxAge")||300;let QG=null;const zNe=n=>function(){var e=v(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>SNe)return;const s=r?.token;QG!==s&&(QG=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function ENe(n=fi()){const e=yn(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function pEe(n,e){const t=yn(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(c8(t.getOptions(),e??{}))return i;bn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:yNe,persistence:[gTe,rTe,HG]}),r=pU("authTokenSyncURL");if(r){const s=zNe(r);(function KEe(n,e,t){u1(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function qEe(n,e,t,r){u1(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=hU("auth");return i&&function gEe(n,e,t){const r=a2(n);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=yG(e),{host:o,port:a}=function vEe(n){const e=yG(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:CG(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:CG(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function _Ee(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function TNe(n){return new Je(function(e){var t=function YEe(n,e,t,r){return u1(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function MNe(n){Xt(new Pt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),j(!a?.includes(":"),"argument-error",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fG(n)},l=new hEe(r,i,s,c);return function mEe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(h3);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xt(new Pt("auth-internal",e=>{const t=a2(e.getProvider("auth").getImmediate());return new CNe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(KG,"0.23.1",function bNe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ge(KG,"0.23.1","esm2017")}("Browser");class vf{constructor(e){return e}}class z8{constructor(){return mi("auth")}}const tS=new te("angularfire2.auth-instances");function VNe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vf(r)}}const HNe={provide:z8,deps:[[new Ze,tS]]},INe={provide:vf,useFactory:function DNe(n,e){const t=pi("auth",n,e);return t&&new vf(t)},deps:[[new Ze,tS],$n]};let xNe=(()=>{class n{constructor(){Ge("angularfire",Un.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[INe,HNe]}),n})();function ANe(n,...e){return{ngModule:xNe,providers:[{provide:tS,useFactory:VNe(n),multi:!0,deps:[Ce,T1,gi,vi,[new Ze,ac],...e]}]}}const LNe=X1(TNe,!0),kNe=X1(ENe,!0);var X,RNe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={},nS=nS||{},Te=RNe||self;function _f(){}function yf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function E8(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rS="closure_uid_"+(1e9*Math.random()>>>0),PNe=0;function FNe(n,e,t){return n.call.apply(n.bind,arguments)}function BNe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function F2(n,e,t){return(F2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FNe:BNe).apply(null,arguments)}function Cf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function c2(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function l4(){this.s=this.s,this.o=this.o}l4.prototype.s=!1,l4.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ONe(n){Object.prototype.hasOwnProperty.call(n,rS)&&n[rS]||(n[rS]=++PNe)}(this)},l4.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XG=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function iS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function JG(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(yf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function B2(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}B2.prototype.h=function(){this.defaultPrevented=!0};var $Ne=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Te.addEventListener("test",_f,e),Te.removeEventListener("test",_f,e)}catch{}return n}();function bf(n){return/^[\s\xa0]*$/.test(n)}var ej=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function sS(n,e){return n<e?-1:n>e?1:0}function Mf(){var n=Te.navigator;return n&&(n=n.userAgent)?n:""}function Ci(n){return-1!=Mf().indexOf(n)}function oS(n){return oS[" "](n),n}function tj(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}oS[" "]=_f;var wf,n,GNe=Ci("Opera"),fc=Ci("Trident")||Ci("MSIE"),nj=Ci("Edge"),aS=nj||fc,rj=Ci("Gecko")&&!(-1!=Mf().toLowerCase().indexOf("webkit")&&!Ci("Edge"))&&!(Ci("Trident")||Ci("MSIE"))&&!Ci("Edge"),jNe=-1!=Mf().toLowerCase().indexOf("webkit")&&!Ci("Edge");function ij(){var n=Te.document;return n?n.documentMode:void 0}e:{var cS="",lS=(n=Mf(),rj?/rv:([^\);]+)(\)|;)/.exec(n):nj?/Edge\/([\d\.]+)/.exec(n):fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jNe?/WebKit\/(\S+)/.exec(n):GNe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(lS&&(cS=lS?lS[1]:""),fc){var uS=ij();if(null!=uS&&uS>parseFloat(cS)){wf=String(uS);break e}}wf=cS}var WNe={},KNe=Te.document&&fc&&(ij()||parseInt(wf,10))||void 0;function T8(n,e){if(B2.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(rj){e:{try{oS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:YNe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&T8.$.h.call(this)}}c2(T8,B2);var YNe={2:"touch",3:"pen",4:"mouse"};T8.prototype.h=function(){T8.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var N8="closure_listenable_"+(1e6*Math.random()|0),QNe=0;function ZNe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++QNe,this.fa=this.ia=!1}function Sf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function dS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function oj(n){const e={};for(const t in n)e[t]=n[t];return e}const aj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cj(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<aj.length;s++)t=aj[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function zf(n){this.src=n,this.g={},this.h=0}function hS(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=XG(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pS(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}zf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=pS(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new ZNe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var mS="closure_lm_"+(1e6*Math.random()|0),gS={};function lj(n,e,t,r,i){if(r&&r.once)return fj(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lj(n,e[s],t,r,i);return null}return t=CS(t),n&&n[N8]?n.O(e,t,E8(r)?!!r.capture:!!r,i):uj(n,e,t,!1,r,i)}function uj(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=E8(i)?!!i.capture:!!i,a=_S(n);if(a||(n[mS]=a=new zf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function XNe(){const e=JNe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)$Ne||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(hj(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function fj(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fj(n,e[s],t,r,i);return null}return t=CS(t),n&&n[N8]?n.P(e,t,E8(r)?!!r.capture:!!r,i):uj(n,e,t,!0,r,i)}function dj(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dj(n,e[s],t,r,i);else r=E8(r)?!!r.capture:!!r,t=CS(t),n&&n[N8]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pS(s=n.g[e],t,r,i))&&(Sf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=_S(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pS(e,t,r,i)),(t=-1<n?e[n]:null)&&vS(t))}function vS(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[N8])hS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(hj(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_S(e))?(hS(t,n),0==t.h&&(t.src=null,e[mS]=null)):Sf(n)}}}function hj(n){return n in gS?gS[n]:gS[n]="on"+n}function JNe(n,e){if(n.fa)n=!0;else{e=new T8(e,this);var t=n.listener,r=n.la||n.src;n.ia&&vS(n),n=t.call(r,e)}return n}function _S(n){return(n=n[mS])instanceof zf?n:null}var yS="__closure_events_fn_"+(1e9*Math.random()>>>0);function CS(n){return"function"==typeof n?n:(n[yS]||(n[yS]=function(e){return n.handleEvent(e)}),n[yS])}function l2(){l4.call(this),this.i=new zf(this),this.S=this,this.J=null}function T2(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new B2(e,n);else if(e instanceof B2)e.target=e.target||n;else{var i=e;cj(e=new B2(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Ef(o,r,!0,e)&&i}if(i=Ef(o=e.g=n,r,!0,e)&&i,i=Ef(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Ef(o=e.g=t[s],r,!1,e)&&i}function Ef(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&hS(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}c2(l2,l4),l2.prototype[N8]=!0,l2.prototype.removeEventListener=function(n,e,t,r){dj(this,n,e,t,r)},l2.prototype.N=function(){if(l2.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Sf(t[r]);delete n.g[e],n.h--}}this.J=null},l2.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},l2.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var bS=Te.JSON.stringify;function eDe(){var n=gj;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var MS,pj=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nDe,n=>n.reset());class nDe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rDe(n){Te.setTimeout(()=>{throw n},0)}function mj(n,e){MS||function iDe(){var n=Te.Promise.resolve(void 0);MS=function(){n.then(sDe)}}(),wS||(MS(),wS=!0),gj.add(n,e)}var wS=!1,gj=new class tDe{constructor(){this.h=this.g=null}add(e,t){const r=pj.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function sDe(){for(var n;n=eDe();){try{n.h.call(n.g)}catch(t){rDe(t)}var e=pj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wS=!1}function Tf(n,e){l2.call(this),this.h=n||1,this.g=e||Te,this.j=F2(this.qb,this),this.l=Date.now()}function SS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function zS(n,e,t){if("function"==typeof n)t&&(n=F2(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=F2(n.handleEvent,n)}return 2147483647<Number(e)?-1:Te.setTimeout(n,e||0)}function vj(n){n.g=zS(()=>{n.g=null,n.i&&(n.i=!1,vj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}c2(Tf,l2),(X=Tf.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),T2(this,"tick"),this.ga&&(SS(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){Tf.$.N.call(this),SS(this),delete this.g};class oDe extends l4{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vj(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function D8(n){l4.call(this),this.h=n,this.g={}}c2(D8,l4);var _j=[];function yj(n,e,t,r){Array.isArray(t)||(t&&(_j[0]=t.toString()),t=_j);for(var i=0;i<t.length;i++){var s=lj(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Cj(n){dS(n.g,function(e,t){this.g.hasOwnProperty(t)&&vS(e)},n),n.g={}}function Nf(){this.g=!0}function dc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uDe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return bS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}D8.prototype.N=function(){D8.$.N.call(this),Cj(this)},D8.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nf.prototype.Ea=function(){this.g=!1},Nf.prototype.info=function(){};var Ps={},bj=null;function Df(){return bj=bj||new l2}function Mj(n){B2.call(this,Ps.Ta,n)}function V8(n){const e=Df();T2(e,new Mj(e))}function wj(n,e){B2.call(this,Ps.STAT_EVENT,n),this.stat=e}function tn(n){const e=Df();T2(e,new wj(e,n))}function Sj(n,e){B2.call(this,Ps.Ua,n),this.size=e}function H8(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){n()},e)}Ps.Ta="serverreachability",c2(Mj,B2),Ps.STAT_EVENT="statevent",c2(wj,B2),Ps.Ua="timingevent",c2(Sj,B2);var Vf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ES(){}function Tj(){}ES.prototype.h=null;var DS,I8={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function TS(){B2.call(this,"d")}function NS(){B2.call(this,"c")}function Hf(){}function x8(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new D8(this),this.P=fDe,this.V=new Tf(n=aS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Nj}function Nj(){this.i=null,this.g="",this.h=!1}c2(TS,B2),c2(NS,B2),c2(Hf,ES),Hf.prototype.g=function(){return new XMLHttpRequest},Hf.prototype.i=function(){return{}},DS=new Hf;var fDe=45e3,VS={},If={};function HS(n,e,t){n.L=1,n.v=kf(m3(e)),n.s=t,n.S=!0,Dj(n,null)}function Dj(n,e){n.G=Date.now(),A8(n),n.A=m3(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Pj(t.i,"t",r),n.C=0,t=n.l.I,n.h=new Nj,n.g=lW(n.l,t?e:null,!n.s),0<n.O&&(n.M=new oDe(F2(n.Pa,n,n.g),n.O)),yj(n.U,n.g,"readystatechange",n.nb),e=n.I?oj(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),V8(),function aDe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");o=2<=f.length&&"type"==f[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Vj(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Hj(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=dDe(n,t),i==If){4==e&&(n.o=4,tn(14),r=!1),dc(n.j,n.m,null,"[Incomplete Response]");break}if(i==VS){n.o=4,tn(15),dc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}dc(n.j,n.m,i,null),IS(n,i)}Vj(n)&&i!=If&&i!=VS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,tn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),FS(e),e.L=!0,tn(11))):(dc(n.j,n.m,t,"[Invalid Chunked Response]"),Fs(n),L8(n))}function dDe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?If:(t=Number(e.substring(t,r)),isNaN(t)?VS:(r+=1)+t>e.length?If:(e=e.substr(r,t),n.C=r+t,e))}function A8(n){n.Y=Date.now()+n.P,Ij(n,n.P)}function Ij(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=H8(F2(n.lb,n),e)}function xf(n){n.B&&(Te.clearTimeout(n.B),n.B=null)}function L8(n){0==n.l.H||n.J||sW(n.l,n)}function Fs(n){xf(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,SS(n.V),Cj(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function IS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||xS(t.h,n)))if(!n.K&&xS(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Uf(t),Ff(t)}PS(t),tn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=H8(F2(t.ib,t),6e3));if(1>=Uj(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Us(t,11)}else if((n.K||t.g==n)&&Uf(t),!bf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.J=l[1],t.oa=l[2];const u=l[3];null!=u&&(t.qa=u,t.j.info("VER="+t.qa));const f=l[4];null!=f&&(t.Ga=f,t.j.info("SVER="+t.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(t.K=r=1.5*d,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const h=n.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(AS(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,J1(r.G,r.F,m))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=cW(r,r.I?r.oa:null,r.Y),o.K){$j(r.h,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(xf(a),A8(a)),r.g=o}else rW(r);0<t.i.length&&Bf(t)}else"stop"!=l[0]&&"close"!=l[0]||Us(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Us(t,7):OS(t):"noop"!=l[0]&&t.l&&t.l.Aa(l),t.A=0)}V8()}catch{}}function xj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function pDe(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hDe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(X=x8.prototype).setTimeout=function(n){this.P=n},X.nb=function(n){n=n.target;const e=this.M;e&&3==g3(n)?e.l():this.Pa(n)},X.Pa=function(n){try{if(n==this.g)e:{const u=g3(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||aS||this.g&&(this.h.h||this.g.ja()||Zj(this.g)))){this.J||4!=u||7==e||V8(),xf(this);var t=this.g.da();this.aa=t;t:if(Vj(this)){var r=Zj(this.g);n="";var i=r.length,s=4==g3(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fs(this),L8(this);var o="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function cDe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bf(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,tn(12),Fs(this),L8(this);break e}dc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IS(this,t)}this.S?(Hj(this,u,o),aS&&this.i&&3==u&&(yj(this.U,this.V,"tick",this.mb),this.V.start())):(dc(this.j,this.m,o,null),IS(this,o)),4==u&&Fs(this),this.i&&!this.J&&(4==u?sW(this.l,this):(this.i=!1,A8(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),Fs(this),L8(this)}}}catch{}},X.mb=function(){if(this.g){var n=g3(this.g),e=this.g.ja();this.C<e.length&&(xf(this),Hj(this,n,e),this.i&&4!=n&&A8(this))}},X.cancel=function(){this.J=!0,Fs(this)},X.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lDe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(V8(),tn(17)),Fs(this),this.o=2,L8(this)):Ij(this,this.Y-n)};var Aj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bs(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bs){this.h=void 0!==e?e:n.h,Af(this,n.j),this.s=n.s,this.g=n.g,Lf(this,n.m),this.l=n.l,e=n.i;var t=new O8;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Lj(this,t),this.o=n.o}else n&&(t=String(n).match(Aj))?(this.h=!!e,Af(this,t[1]||"",!0),this.s=k8(t[2]||""),this.g=k8(t[3]||"",!0),Lf(this,t[4]),this.l=k8(t[5]||"",!0),Lj(this,t[6]||"",!0),this.o=k8(t[7]||"")):(this.h=!!e,this.i=new O8(null,this.h))}function m3(n){return new Bs(n)}function Af(n,e,t){n.j=t?k8(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Lf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Lj(n,e,t){e instanceof O8?(n.i=e,function bDe(n,e){e&&!n.j&&(u4(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Rj(this,r),Pj(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=R8(e,yDe)),n.i=new O8(e,n.h))}function J1(n,e,t){n.i.set(e,t)}function kf(n){return J1(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function k8(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function R8(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gDe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gDe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(R8(e,kj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(R8(e,kj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(R8(t,"/"==t.charAt(0)?_De:vDe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",R8(t,CDe)),n.join("")};var kj=/[#\/\?@]/g,vDe=/[#\?:]/g,_De=/[#\?]/g,yDe=/[#\?@]/g,CDe=/#/g;function O8(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function u4(n){n.g||(n.g=new Map,n.h=0,n.i&&function mDe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Rj(n,e){u4(n),e=hc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Oj(n,e){return u4(n),e=hc(n,e),n.g.has(e)}function Pj(n,e,t){Rj(n,e),0<t.length&&(n.i=null,n.g.set(hc(n,e),iS(t)),n.h+=t.length)}function hc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Fj(n){this.l=n||wDe,n=Te.PerformanceNavigationTiming?0<(n=Te.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=O8.prototype).add=function(n,e){u4(this),this.i=null,n=hc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},X.forEach=function(n,e){u4(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},X.sa=function(){u4(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},X.Z=function(n){u4(this);let e=[];if("string"==typeof n)Oj(this,n)&&(e=e.concat(this.g.get(hc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},X.set=function(n,e){return u4(this),this.i=null,Oj(this,n=hc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},X.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var wDe=10;function Bj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Uj(n){return n.h?1:n.g?n.g.size:0}function xS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function AS(n,e){n.g?n.g.add(e):n.h=e}function $j(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gj(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return iS(n.i)}function LS(){}function SDe(){this.g=new LS}function zDe(n,e,t){const r=t||"";try{xj(n,function(i,s){let o=i;E8(i)&&(o=bS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function P8(n){this.l=n.fc||null,this.j=n.ob||!1}function Of(n,e){l2.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=kS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fj.prototype.cancel=function(){if(this.i=Gj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},LS.prototype.stringify=function(n){return Te.JSON.stringify(n,void 0)},LS.prototype.parse=function(n){return Te.JSON.parse(n,void 0)},c2(P8,ES),P8.prototype.g=function(){return new Of(this.l,this.j)},P8.prototype.i=function(n){return function(){return n}}({}),c2(Of,l2);var kS=0;function jj(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function F8(n){n.readyState=4,n.l=null,n.j=null,n.A=null,B8(n)}function B8(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(X=Of.prototype).open=function(n,e){if(this.readyState!=kS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,B8(this)},X.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,F8(this)),this.readyState=kS},X.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,B8(this)),this.g&&(this.readyState=3,B8(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jj(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?F8(this):B8(this),3==this.readyState&&jj(this)}},X.Za=function(n){this.g&&(this.response=this.responseText=n,F8(this))},X.Ya=function(n){this.g&&(this.response=n,F8(this))},X.ka=function(){this.g&&F8(this)},X.setRequestHeader=function(n,e){this.v.append(n,e)},X.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Of.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var TDe=Te.JSON.parse;function Ct(n){l2.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wj,this.L=this.M=!1}c2(Ct,l2);var Wj="",NDe=/^https?$/i,DDe=["POST","PUT"];function qj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Kj(n),Pf(n)}function Kj(n){n.F||(n.F=!0,T2(n,"complete"),T2(n,"error"))}function Yj(n){if(n.h&&typeof nS<"u"&&(!n.C[1]||4!=g3(n)||2!=n.da()))if(n.v&&4==g3(n))zS(n.La,0,n);else if(T2(n,"readystatechange"),4==g3(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.I).match(Aj)[1]||null;if(!i&&Te.self&&Te.self.location){var s=Te.self.location.protocol;i=s.substr(0,s.length-1)}r=!NDe.test(i?i.toLowerCase():"")}t=r}if(t)T2(n,"complete"),T2(n,"success");else{n.m=6;try{var o=2<g3(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",Kj(n)}}finally{Pf(n)}}}function Pf(n,e){if(n.g){Qj(n);const t=n.g,r=n.C[0]?_f:null;n.g=null,n.C=null,e||T2(n,"ready");try{t.onreadystatechange=r}catch{}}}function Qj(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Te.clearTimeout(n.A),n.A=null)}function g3(n){return n.g?n.g.readyState:0}function Zj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Wj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Xj(n){let e="";return dS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function RS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Xj(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):J1(n,e,t))}function U8(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Jj(n){this.Ga=0,this.i=[],this.j=new Nf,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=U8("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=U8("baseRetryDelayMs",5e3,n),this.hb=U8("retryDelaySeedMs",1e4,n),this.eb=U8("forwardChannelMaxRetries",2,n),this.xa=U8("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new Fj(n&&n.concurrentRequestLimit),this.Ja=new SDe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function OS(n){if(eW(n),3==n.H){var e=n.W++,t=m3(n.G);J1(t,"SID",n.J),J1(t,"RID",e),J1(t,"TYPE","terminate"),$8(n,t),(e=new x8(n,n.j,e,void 0)).L=2,e.v=kf(m3(t)),t=!1,Te.navigator&&Te.navigator.sendBeacon&&(t=Te.navigator.sendBeacon(e.v.toString(),"")),!t&&Te.Image&&((new Image).src=e.v,t=!0),t||(e.g=lW(e.l,null),e.g.ha(e.v)),e.G=Date.now(),A8(e)}aW(n)}function Ff(n){n.g&&(FS(n),n.g.cancel(),n.g=null)}function eW(n){Ff(n),n.u&&(Te.clearTimeout(n.u),n.u=null),Uf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Te.clearTimeout(n.m),n.m=null)}function Bf(n){Bj(n.h)||n.m||(n.m=!0,mj(n.Na,n),n.C=0)}function tW(n,e){var t;t=e?e.m:n.W++;const r=m3(n.G);J1(r,"SID",n.J),J1(r,"RID",t),J1(r,"AID",n.V),$8(n,r),n.o&&n.s&&RS(r,n.o,n.s),t=new x8(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=nW(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),AS(n.h,t),HS(t,r,e)}function $8(n,e){n.ma&&dS(n.ma,function(t,r){J1(e,r,t)}),n.l&&xj({},function(t,r){J1(e,r,t)})}function nW(n,e,t){t=Math.min(n.i.length,t);var r=n.l?F2(n.l.Va,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let l=i[c].h;const u=i[c].g;if(l-=s,0>l)s=Math.max(0,i[c].h-100),a=!1;else try{zDe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function rW(n){n.g||n.u||(n.ba=1,mj(n.Ma,n),n.A=0)}function PS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=H8(F2(n.Ma,n),oW(n,n.A)),n.A++,0))}function FS(n){null!=n.B&&(Te.clearTimeout(n.B),n.B=null)}function iW(n){n.g=new x8(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=m3(n.wa);J1(e,"RID","rpc"),J1(e,"SID",n.J),J1(e,"CI",n.M?"0":"1"),J1(e,"AID",n.V),J1(e,"TYPE","xmlhttp"),$8(n,e),n.o&&n.s&&RS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=kf(m3(e)),t.s=null,t.S=!0,Dj(t,n)}function Uf(n){null!=n.v&&(Te.clearTimeout(n.v),n.v=null)}function sW(n,e){var t=null;if(n.g==e){Uf(n),FS(n),n.g=null;var r=2}else{if(!xS(n.h,e))return;t=e.F,$j(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;T2(r=Df(),new Sj(r,t)),Bf(n)}else rW(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function HDe(n,e){return!(Uj(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=H8(F2(n.Na,n,e),oW(n,n.C)),n.C++,0)))}(n,e)||2==r&&PS(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Us(n,5);break;case 4:Us(n,10);break;case 3:Us(n,6);break;default:Us(n,2)}}function oW(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Us(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=F2(n.pb,n);t||(t=new Bs("//www.google.com/images/cleardot.gif"),Te.location&&"http"==Te.location.protocol||Af(t,"https"),kf(t)),function EDe(n,e){const t=new Nf;if(Te.Image){const r=new Image;r.onload=Cf(Rf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Cf(Rf,t,r,"TestLoadImage: error",!1,e),r.onabort=Cf(Rf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cf(Rf,t,r,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else tn(2);n.H=0,n.l&&n.l.za(e),aW(n),eW(n)}function aW(n){if(n.H=0,n.pa=[],n.l){const e=Gj(n.h);(0!=e.length||0!=n.i.length)&&(JG(n.pa,e),JG(n.pa,n.i),n.h.i.length=0,iS(n.i),n.i.length=0),n.l.ya()}}function cW(n,e,t){var r=t instanceof Bs?m3(t):new Bs(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Lf(r,r.m);else{var i=Te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Bs(null,void 0);r&&Af(s,r),e&&(s.g=e),i&&Lf(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&J1(r,t,e),J1(r,"VER",n.qa),$8(n,r),r}function lW(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ct(t&&n.Ha&&!n.va?new P8({ob:!0}):n.va)).Oa(n.I),e}function uW(){}function $f(){if(fc&&!(10<=Number(KNe)))throw Error("Environmental error: no available transport.")}function Gn(n,e){l2.call(this),this.g=new Jj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!bf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new pc(this)}function fW(n){TS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dW(){NS.call(this),this.status=1}function pc(n){this.g=n}function Rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function BS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function M1(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(X=Ct.prototype).Oa=function(n){this.M=n},X.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():DS.g(),this.C=function Ej(n){return n.h||(n.h=n.i())}(this.u?this.u:DS),this.g.onreadystatechange=F2(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void qj(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Te.FormData&&n instanceof Te.FormData,!(0<=XG(DDe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Qj(this),0<this.B&&((this.L=function VDe(n){return fc&&function qNe(){return tj(WNe,9,function(){let n=0;const e=ej(String(wf)).split("."),t=ej("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=sS(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||sS(0==i[2].length,0==s[2].length)||sS(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=F2(this.ua,this)):this.A=zS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){qj(this,s)}},X.ua=function(){typeof nS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,T2(this,"timeout"),this.abort(8))},X.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,T2(this,"complete"),T2(this,"abort"),Pf(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pf(this,!0)),Ct.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?Yj(this):this.kb())},X.kb=function(){Yj(this)},X.da=function(){try{return 2<g3(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),TDe(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=Jj.prototype).qa=8,X.H=1,X.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new x8(this,this.j,n,void 0);let s=this.s;if(this.U&&(s?(s=oj(s),cj(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nW(this,i,e),J1(t=m3(this.G),"RID",n),J1(t,"CVER",22),this.F&&J1(t,"X-HTTP-Session-Id",this.F),$8(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(Xj(s)))+"&"+e:this.o&&RS(t,this.o,s)),AS(this.h,i),this.bb&&J1(t,"TYPE","init"),this.P?(J1(t,"$req",e),J1(t,"SID","null"),i.ba=!0,HS(i,t,null)):HS(i,t,e),this.H=2}}else 3==this.H&&(n?tW(this,n):0==this.i.length||Bj(this.h)||tW(this))},X.Ma=function(){if(this.u=null,iW(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=H8(F2(this.jb,this),n)}},X.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,tn(10),Ff(this),iW(this))},X.ib=function(){null!=this.v&&(this.v=null,Ff(this),PS(this),tn(19))},X.pb=function(n){n?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))},(X=uW.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.Va=function(){},$f.prototype.g=function(n,e){return new Gn(n,e)},c2(Gn,l2),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;tn(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=cW(n,null,n.Y),Bf(n)},Gn.prototype.close=function(){OS(this.g)},Gn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bS(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Bf(e)},Gn.prototype.N=function(){this.g.l=null,delete this.j,OS(this.g),delete this.g,Gn.$.N.call(this)},c2(fW,TS),c2(dW,NS),c2(pc,uW),pc.prototype.Ba=function(){T2(this.g,"a")},pc.prototype.Aa=function(n){T2(this.g,new fW(n))},pc.prototype.za=function(n){T2(this.g,new dW)},pc.prototype.ya=function(){T2(this.g,"b")},c2(Rr,function IDe(){this.blockSize=-1}),Rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)BS(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){BS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){BS(this,r),i=0;break}}this.h=i,this.i+=e},Rr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var xDe={};function US(n){return-128<=n&&128>n?tj(xDe,n,function(e){return new M1([0|e],0>e?-1:0)}):new M1([0|n],0>n?-1:0)}function bi(n){if(isNaN(n)||!isFinite(n))return mc;if(0>n)return N2(bi(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=$S;return new M1(e,0)}var $S=4294967296,mc=US(0),GS=US(1),pW=US(16777216);function v3(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function mr(n){return-1==n.h}function N2(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new M1(t,~n.h).add(GS)}function Gf(n,e){return n.add(N2(e))}function jf(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function G8(n,e){this.g=n,this.h=e}function Wf(n,e){if(v3(e))throw Error("division by zero");if(v3(n))return new G8(mc,mc);if(mr(n))return e=Wf(N2(n),e),new G8(N2(e.g),N2(e.h));if(mr(e))return e=Wf(n,N2(e)),new G8(N2(e.g),e.h);if(30<n.g.length){if(mr(n)||mr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=GS,r=e;0>=r.X(n);)t=mW(t),r=mW(r);var i=gc(t,1),s=gc(r,1);for(r=gc(r,2),t=gc(t,2);!v3(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=gc(r,1),t=gc(t,1)}return e=Gf(n,i.R(e)),new G8(i,e)}for(i=mc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=bi(t)).R(e);mr(o)||0<o.X(n);)o=(s=bi(t-=r)).R(e);v3(s)&&(s=GS),i=i.add(s),n=Gf(n,o)}return new G8(i,n)}function mW(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new M1(t,n.h)}function gc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new M1(i,n.h)}(X=M1.prototype).ea=function(){if(mr(this))return-N2(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:$S+r)*e,e*=$S}return n},X.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(v3(this))return"0";if(mr(this))return"-"+N2(this).toString(n);for(var e=bi(Math.pow(n,6)),t=this,r="";;){var i=Wf(t,e).g,s=((0<(t=Gf(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(v3(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},X.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},X.X=function(n){return mr(n=Gf(this,n))?-1:v3(n)?0:1},X.abs=function(){return mr(this)?N2(this):this},X.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new M1(t,-2147483648&t[t.length-1]?-1:0)},X.R=function(n){if(v3(this)||v3(n))return mc;if(mr(this))return mr(n)?N2(this).R(N2(n)):N2(N2(this).R(n));if(mr(n))return N2(this.R(N2(n)));if(0>this.X(pW)&&0>n.X(pW))return bi(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,jf(t,2*r+2*i),t[2*r+2*i+1]+=s*c,jf(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,jf(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,jf(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new M1(t,0)},X.gb=function(n){return Wf(this,n).h},X.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new M1(t,this.h&n.h)},X.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new M1(t,this.h|n.h)},X.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new M1(t,this.h^n.h)},$f.prototype.createWebChannel=$f.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Vf.NO_ERROR=0,Vf.TIMEOUT=8,Vf.HTTP_ERROR=6,zj.COMPLETE="complete",Tj.EventType=I8,I8.OPEN="a",I8.CLOSE="b",I8.ERROR="c",I8.MESSAGE="d",l2.prototype.listen=l2.prototype.O,Ct.prototype.listenOnce=Ct.prototype.P,Ct.prototype.getLastError=Ct.prototype.Sa,Ct.prototype.getLastErrorCode=Ct.prototype.Ia,Ct.prototype.getStatus=Ct.prototype.da,Ct.prototype.getResponseJson=Ct.prototype.Wa,Ct.prototype.getResponseText=Ct.prototype.ja,Ct.prototype.send=Ct.prototype.ha,Ct.prototype.setWithCredentials=Ct.prototype.Oa,Rr.prototype.digest=Rr.prototype.l,Rr.prototype.reset=Rr.prototype.reset,Rr.prototype.update=Rr.prototype.j,M1.prototype.add=M1.prototype.add,M1.prototype.multiply=M1.prototype.R,M1.prototype.modulo=M1.prototype.gb,M1.prototype.compare=M1.prototype.X,M1.prototype.toNumber=M1.prototype.ea,M1.prototype.toString=M1.prototype.toString,M1.prototype.getBits=M1.prototype.D,M1.fromNumber=bi,M1.fromString=function hW(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return N2(hW(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=bi(Math.pow(e,8)),r=mc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=bi(Math.pow(e,s)),r=r.R(s).add(bi(o))):r=(r=r.R(t)).add(bi(o))}return r};var ADe=kr.createWebChannelTransport=function(){return new $f},LDe=kr.getStatEventTarget=function(){return Df()},jS=kr.ErrorCode=Vf,kDe=kr.EventType=zj,RDe=kr.Event=Ps,gW=kr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ODe=kr.FetchXmlHttpFactory=P8,qf=kr.WebChannel=Tj,PDe=kr.XhrIo=Ct,FDe=kr.Md5=Rr,vc=kr.Integer=M1;const vW="@firebase/firestore";class u2{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}u2.UNAUTHENTICATED=new u2(null),u2.GOOGLE_CREDENTIALS=new u2("google-credentials-uid"),u2.FIRST_PARTY=new u2("first-party-uid"),u2.MOCK_USER=new u2("mock-user");let _c="9.21.0";const f4=new i4("@firebase/firestore");function WS(){return f4.logLevel}function U(n,...e){if(f4.logLevel<=Qe.DEBUG){const t=e.map(qS);f4.debug(`Firestore (${_c}): ${n}`,...t)}}function Et(n,...e){if(f4.logLevel<=Qe.ERROR){const t=e.map(qS);f4.error(`Firestore (${_c}): ${n}`,...t)}}function Or(n,...e){if(f4.logLevel<=Qe.WARN){const t=e.map(qS);f4.warn(`Firestore (${_c}): ${n}`,...t)}}function qS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function re(n="Unexpected state"){const e=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: `+n;throw Et(e),new Error(e)}function le(n,e){n||re()}function K(n,e){return n}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _W{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BDe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(u2.UNAUTHENTICATED))}shutdown(){}}class UDe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $De{constructor(e){this.t=e,this.currentUser=u2.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Jt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le("string"==typeof r.accessToken),new _W(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return le(null===e||"string"==typeof e),new u2(e)}}class GDe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=u2.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jDe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new GDe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(u2.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WDe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(le("string"==typeof t.token),this.T=t.token,new yW(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qDe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class CW{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qDe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function yc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class at{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new at(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new at(0,0))}static max(){return new fe(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class j8{constructor(e,t,r){void 0===t?t=0:t>e.length&&re(),void 0===r?r=e.length-t:r>e.length-t&&re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===j8.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof j8?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class s1 extends j8{construct(e,t,r){return new s1(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new s1(t)}static emptyPath(){return new s1([])}}const KDe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends j8{construct(e,t,r){return new Tt(e,t,r)}static isValidIdentifier(e){return KDe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(t)}static emptyPath(){return new Tt([])}}class W{constructor(e){this.path=e}static fromPath(e){return new W(s1.fromString(e))}static fromName(e){return new W(s1.fromString(e).popFirst(5))}static empty(){return new W(s1.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===s1.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return s1.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new s1(e.slice()))}}function wW(n){return new jn(n.readTime,n.key,-1)}class jn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new jn(fe.min(),W.empty(),-1)}static max(){return new jn(fe.max(),W.empty(),-1)}}function YS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=W.comparator(n.documentKey,e.documentKey),0!==t?t:ze(n.largestBatchId,e.largestBatchId))}const SW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZDe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function d4(n){return QS.apply(this,arguments)}function QS(){return QS=v(function*(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==SW)throw n;U("LocalStore","Unexpectedly lost primary lease")}),QS.apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new z((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function h4(n){return"IndexedDbTransactionError"===n.name}let Wn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function K8(n){return null==n}function Y8(n){return 0===n&&1/n==-1/0}function xW(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function p4(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AW(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class k1{constructor(e,t){this.comparator=e,this.root=t||D2.EMPTY}insert(e,t){return new k1(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,D2.BLACK,null,null))}remove(e){return new k1(this.comparator,this.root.remove(e,this.comparator).copy(null,null,D2.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class D2{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??D2.RED,this.left=i??D2.EMPTY,this.right=s??D2.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new D2(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return D2.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return D2.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,D2.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,D2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}D2.EMPTY=null,D2.RED=!0,D2.BLACK=!1,D2.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(n,e,t,r,i){return this}insert(n,e,t){return new D2(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class W1{constructor(e){this.comparator=e,this.data=new k1(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LW(this.data.getIterator())}getIteratorFrom(e){return new LW(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof W1)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new W1(this.comparator);return t.data=e,t}}class LW{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new W1(Tt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class kW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class e2{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kW("Invalid base64 string: "+i):i}}(e);return new e2(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new e2(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}e2.EMPTY_BYTE_STRING=new e2("");const CVe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function m4(n){if(le(!!n),"string"==typeof n){let e=0;const t=CVe.exec(n);if(le(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _3(n){return"string"==typeof n?e2.fromBase64String(n):e2.fromUint8Array(n)}function Jf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ed(n){const e=n.mapValue.fields.__previous_value__;return Jf(e)?ed(e):e}function Q8(n){const e=m4(n.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}class bVe{constructor(e,t,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class js{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof js&&e.projectId===this.projectId&&e.database===this.database}}const g4={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function v4(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jf(n)?4:FW(n)?9007199254740991:10:re()}function wi(n,e){if(n===e)return!0;const t=v4(n);if(t!==v4(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Q8(n).isEqual(Q8(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=m4(r.timestampValue),o=m4(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_3(n.bytesValue).isEqual(_3(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=bt(r.doubleValue),o=bt(i.doubleValue);return s===o?Y8(s)===Y8(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return yc(n.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(xW(s)!==xW(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!wi(s[a],o[a])))return!1;return!0}(n,e);default:return re()}var i}function Z8(n,e){return void 0!==(n.values||[]).find(t=>wi(t,e))}function _4(n,e){if(n===e)return 0;const t=v4(n),r=v4(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=bt(i.integerValue||i.doubleValue),a=bt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return RW(n.timestampValue,e.timestampValue);case 4:return RW(Q8(n),Q8(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(i,s){const o=_3(i),a=_3(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=ze(o[c],a[c]);if(0!==l)return l}return ze(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ze(bt(i.latitude),bt(s.latitude));return 0!==o?o:ze(bt(i.longitude),bt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=_4(o[c],a[c]);if(l)return l}return ze(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===g4.mapValue&&s===g4.mapValue)return 0;if(i===g4.mapValue)return 1;if(s===g4.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const f=ze(a[u],l[u]);if(0!==f)return f;const d=_4(o[a[u]],c[l[u]]);if(0!==d)return d}return ze(a.length,l.length)}(n.mapValue,e.mapValue);default:throw re()}}function RW(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ze(n,e);const t=m4(n),r=m4(e),i=ze(t.seconds,r.seconds);return 0!==i?i:ze(t.nanos,r.nanos)}function bc(n){return JS(n)}function JS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=m4(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_3(n.bytesValue).toBase64():"referenceValue"in n?W.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=JS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${JS(r.fields[a])}`;return s+"}"}(n.mapValue):re();var e}function ez(n){return!!n&&"integerValue"in n}function X8(n){return!!n&&"arrayValue"in n}function OW(n){return!!n&&"nullValue"in n}function PW(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rd(n){return!!n&&"mapValue"in n}function J8(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return p4(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=J8(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=J8(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FW(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class V2{constructor(e){this.value=e}static empty(){return new V2({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=J8(t)}setAll(e){let t=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=J8(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());rd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){p4(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new V2(J8(this.value))}}function $W(n){const e=[];return p4(n.fields,(t,r)=>{const i=new Tt([t]);if(rd(r)){const s=$W(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}class q1{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new q1(e,0,fe.min(),fe.min(),fe.min(),V2.empty(),0)}static newFoundDocument(e,t,r,i){return new q1(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new q1(e,2,t,fe.min(),fe.min(),V2.empty(),0)}static newUnknownDocument(e,t){return new q1(e,3,t,fe.min(),fe.min(),V2.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=V2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=V2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof q1&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new q1(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class y4{constructor(e,t){this.position=e,this.inclusive=t}}function GW(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?W.comparator(W.fromName(o.referenceValue),t.key):_4(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function jW(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wi(n.position[t],e.position[t]))return!1;return!0}class Mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function SVe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class WW{}class Xe extends WW{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new zVe(e,t,r):"array-contains"===t?new NVe(e,r):"in"===t?new XW(e,r):"not-in"===t?new DVe(e,r):"array-contains-any"===t?new VVe(e,r):new Xe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new EVe(e,r):new TVe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_4(t,this.value)):null!==t&&v4(this.value)===v4(t)&&this.matchesComparison(_4(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class w1 extends WW{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new w1(e,t)}matches(e){return wc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function wc(n){return"and"===n.op}function nz(n){return function qW(n){for(const e of n.filters)if(e instanceof w1)return!1;return!0}(n)&&wc(n)}function rz(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+bc(n.value);if(nz(n))return n.filters.map(e=>rz(e)).join(",");{const e=n.filters.map(t=>rz(t)).join(",");return`${n.op}(${e})`}}function KW(n,e){return n instanceof Xe?(t=n,(r=e)instanceof Xe&&t.op===r.op&&t.field.isEqual(r.field)&&wi(t.value,r.value)):n instanceof w1?function(t,r){return r instanceof w1&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&KW(s,r.filters[o]),!0)}(n,e):void re();var t,r}function QW(n){return n instanceof Xe?`${(e=n).field.canonicalString()} ${e.op} ${bc(e.value)}`:n instanceof w1?function(e){return e.op.toString()+" {"+e.getFilters().map(QW).join(" ,")+"}"}(n):"Filter";var e}class zVe extends Xe{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){const t=W.comparator(e.key,this.key);return this.matchesComparison(t)}}class EVe extends Xe{constructor(e,t){super(e,"in",t),this.keys=ZW(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TVe extends Xe{constructor(e,t){super(e,"not-in",t),this.keys=ZW(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZW(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}class NVe extends Xe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return X8(t)&&Z8(t.arrayValue,this.value)}}class XW extends Xe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Z8(this.value.arrayValue,t)}}class DVe extends Xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Z8(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Z8(this.value.arrayValue,t)}}class VVe extends Xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!X8(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Z8(this.value.arrayValue,r))}}class HVe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function iz(n,e=null,t=[],r=[],i=null,s=null,o=null){return new HVe(n,e,t,r,i,s,o)}function qs(n){const e=K(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>rz(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),K8(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bc(r)).join(",")),e.ft=t}return e.ft}function e5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!SVe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KW(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jW(n.startAt,e.startAt)&&jW(n.endAt,e.endAt)}function id(n){return W.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class y3{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.dt=null,this._t=null}}function Sc(n){return new y3(n)}function nq(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ks(n){const e=K(n);if(null===e.dt){e.dt=[];const t=function od(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function sz(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Mc(t)),e.dt.push(new Mc(Tt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Mc(Tt.keyField(),s))}}}return e.dt}function nn(n){const e=K(n);if(!e._t)if("F"===e.limitType)e._t=iz(e.path,e.collectionGroup,Ks(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ks(e))t.push(new Mc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new y4(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new y4(e.startAt.position,e.startAt.inclusive):null;e._t=iz(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function ad(n,e,t){return new y3(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function t5(n,e){return e5(nn(n),nn(e))&&n.limitType===e.limitType}function rq(n){return`${qs(nn(n))}|lt:${n.limitType}`}function cz(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>QW(r)).join(", ")}]`),K8(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bc(r)).join(",")),`Target(${t})`}(nn(n))}; limitType=${n.limitType})`}function n5(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):W.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ks(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=GW(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ks(t),r)||t.endAt&&!function(i,s,o){const a=GW(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ks(t),r)));var t,r}function sq(n){return(e,t)=>{let r=!1;for(const i of Ks(n)){const s=IVe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function IVe(n,e,t){const r=n.field.isKeyField()?W.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?_4(a,c):re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}class C3{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){p4(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return AW(this.inner)}size(){return this.innerSize}}const xVe=new k1(W.comparator);function wn(){return xVe}const oq=new k1(W.comparator);function r5(...n){let e=oq;for(const t of n)e=e.insert(t.key,t);return e}function aq(n){let e=oq;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Si(){return i5()}function cq(){return i5()}function i5(){return new C3(n=>n.toString(),(n,e)=>n.isEqual(e))}const AVe=new k1(W.comparator),LVe=new W1(W.comparator);function ke(...n){let e=LVe;for(const t of n)e=e.add(t);return e}const kVe=new W1(ze);function lq(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y8(e)?"-0":e}}function uq(n){return{integerValue:""+n}}function fq(n,e){return function EW(n){return"number"==typeof n&&Number.isInteger(n)&&!Y8(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?uq(e):lq(n,e)}class cd{constructor(){this._=void 0}}function RVe(n,e,t){return n instanceof zc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Jf(i)&&(i=ed(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ys?hq(n,e):n instanceof Qs?pq(n,e):function(r,i){const s=dq(r,i),o=mq(s)+mq(r.wt);return ez(s)&&ez(r.wt)?uq(o):lq(r.serializer,o)}(n,e)}function OVe(n,e,t){return n instanceof Ys?hq(n,e):n instanceof Qs?pq(n,e):t}function dq(n,e){return n instanceof Ec?ez(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class zc extends cd{}class Ys extends cd{constructor(e){super(),this.elements=e}}function hq(n,e){const t=gq(e);for(const r of n.elements)t.some(i=>wi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qs extends cd{constructor(e){super(),this.elements=e}}function pq(n,e){let t=gq(e);for(const r of n.elements)t=t.filter(i=>!wi(i,r));return{arrayValue:{values:t}}}class Ec extends cd{constructor(e,t){super(),this.serializer=e,this.wt=t}}function mq(n){return bt(n.integerValue||n.doubleValue)}function gq(n){return X8(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class FVe{constructor(e,t){this.version=e,this.transformResults=t}}class et{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ud{}function vq(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Nc(n.key,et.none()):new Tc(n.key,n.data,et.none());{const t=n.data,r=V2.empty();let i=new W1(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new b3(n.key,r,new Mn(i.toArray()),et.none())}}function BVe(n,e,t){n instanceof Tc?function(r,i,s){const o=r.value.clone(),a=Cq(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof b3?function(r,i,s){if(!ld(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Cq(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(yq(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function o5(n,e,t,r){return n instanceof Tc?function(i,s,o,a){if(!ld(i.precondition,s))return o;const c=i.value.clone(),l=bq(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof b3?function(i,s,o,a){if(!ld(i.precondition,s))return o;const c=bq(i.fieldTransforms,a,s),l=s.data;return l.setAll(yq(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,ld(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function UVe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=dq(r.transform,i||null);null!=s&&(null===t&&(t=V2.empty()),t.set(r.field,s))}return t||null}function _q(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yc(t,r,(i,s)=>function PVe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ys&&r instanceof Ys||t instanceof Qs&&r instanceof Qs?yc(t.elements,r.elements,wi):t instanceof Ec&&r instanceof Ec?wi(t.wt,r.wt):t instanceof zc&&r instanceof zc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Tc extends ud{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class b3 extends ud{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Cq(n,e,t){const r=new Map;le(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OVe(o,a,t[i]))}return r}function bq(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,RVe(s,o,e))}return r}class Nc extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uz extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fz{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&BVe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=o5(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=o5(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cq();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=vq(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(t,r)=>_q(t,r))&&yc(this.baseMutations,e.baseMutations,(t,r)=>_q(t,r))}}class dz{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){le(e.mutations.length===r.length);let i=AVe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new dz(e,t,r,i)}}class hz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class GVe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bt,o1;function wq(n){if(void 0===n)return Et("GRPC error has no .code"),N.UNKNOWN;switch(n){case Bt.OK:return N.OK;case Bt.CANCELLED:return N.CANCELLED;case Bt.UNKNOWN:return N.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return N.INTERNAL;case Bt.UNAVAILABLE:return N.UNAVAILABLE;case Bt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Bt.NOT_FOUND:return N.NOT_FOUND;case Bt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Bt.ABORTED:return N.ABORTED;case Bt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Bt.DATA_LOSS:return N.DATA_LOSS;default:return re()}}(o1=Bt||(Bt={}))[o1.OK=0]="OK",o1[o1.CANCELLED=1]="CANCELLED",o1[o1.UNKNOWN=2]="UNKNOWN",o1[o1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",o1[o1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",o1[o1.NOT_FOUND=5]="NOT_FOUND",o1[o1.ALREADY_EXISTS=6]="ALREADY_EXISTS",o1[o1.PERMISSION_DENIED=7]="PERMISSION_DENIED",o1[o1.UNAUTHENTICATED=16]="UNAUTHENTICATED",o1[o1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",o1[o1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",o1[o1.ABORTED=10]="ABORTED",o1[o1.OUT_OF_RANGE=11]="OUT_OF_RANGE",o1[o1.UNIMPLEMENTED=12]="UNIMPLEMENTED",o1[o1.INTERNAL=13]="INTERNAL",o1[o1.UNAVAILABLE=14]="UNAVAILABLE",o1[o1.DATA_LOSS=15]="DATA_LOSS";class pz{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return fd}static getOrCreateInstance(){return null===fd&&(fd=new pz),fd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let fd=null;const jVe=new vc([4294967295,4294967295],0);function zq(n){const e=function Sq(){return new TextEncoder}().encode(n),t=new FDe;return t.update(e),new Uint8Array(t.digest())}function Eq(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vc([t,r],0),new vc([i,s],0)]}class mz{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new a5(`Invalid padding: ${t}`);if(r<0)throw new a5(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new a5(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new a5(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=vc.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(vc.fromNumber(r)));return 1===i.compare(jVe)&&(i=new vc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=zq(e),[r,i]=Eq(t);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);if(!this.Et(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new mz(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.yt)return;const t=zq(e),[r,i]=Eq(t);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class a5 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class c5{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,l5.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new c5(fe.min(),i,new k1(ze),wn(),ke())}}class l5{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new l5(r,t,ke(),ke(),ke())}}class dd{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class Tq{constructor(e,t){this.targetId=e,this.bt=t}}class Nq{constructor(e,t,r=e2.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Dq{constructor(){this.Vt=0,this.St=Hq(),this.Dt=e2.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=ke(),t=ke(),r=ke();return this.St.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:re()}}),new l5(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=Hq()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class WVe{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=wn(),this.jt=Vq(),this.zt=new k1(ze)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,s=this.ne(r);if(s){const o=s.target;if(id(o))if(0===i){const a=new W(o.path);this.Jt(r,a,q1.newNoDocument(a,fe.min()))}else le(1===i);else{const a=this.se(r);if(a!==i){const c=this.ie(e,a);0!==c&&(this.te(r),this.zt=this.zt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=pz.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,m,g,_;const b={localCacheCount:u,existenceFilterCount:f.count},y=f.unchangedNames;return y&&(b.bloomFilter={applied:0===l,hashCount:null!==(d=y?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(m=null===(p=null===(h=y?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(_=null===(g=y?.bits)||void 0===g?void 0:g.padding)&&void 0!==_?_:0}),b}(c,a,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,l;try{c=_3(s).toUint8Array()}catch(u){if(u instanceof kW)return Or("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new mz(c,o,a)}catch(u){return Or(u instanceof a5?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.yt?1:i!==t-this.re(e.targetId,l)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Kt.oe(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.At(a)||(this.Jt(e,s,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((s,o)=>{const a=this.ne(o);if(a){if(s.current&&id(a.target)){const c=new W(a.target.path);null!==this.Qt.get(c)||this.ce(o,c)||this.Jt(o,c,q1.newNoDocument(c,e))}s.kt&&(t.set(o,s.Ot()),s.$t())}});let r=ke();this.jt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.ne(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qt.forEach((s,o)=>o.setReadTime(e));const i=new c5(e,t,this.zt,this.Qt,r);return this.Qt=wn(),this.jt=Vq(),this.zt=new k1(ze),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Dq,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new W1(ze),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||U("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Dq),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Vq(){return new k1(W.comparator)}function Hq(){return new k1(W.comparator)}const qVe={asc:"ASCENDING",desc:"DESCENDING"},KVe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YVe={and:"AND",or:"OR"};class QVe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gz(n,e){return n.useProto3Json||K8(e)?e:{value:e}}function Dc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZVe(n,e){return Dc(n,e.toTimestamp())}function Nt(n){return le(!!n),fe.fromTimestamp(function(e){const t=m4(e);return new at(t.seconds,t.nanos)}(n))}function vz(n,e){return(t=n,new s1(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xq(n){const e=s1.fromString(n);return le(Uq(e)),e}function u5(n,e){return vz(n.databaseId,e.path)}function zi(n,e){const t=xq(e);if(t.get(1)!==n.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(Lq(t))}function _z(n,e){return vz(n.databaseId,e)}function f5(n){return new s1(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lq(n){return le(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kq(n,e,t){return{name:u5(n,e),fields:t.value.mapValue.fields}}function Oq(n,e){return{documents:[_z(n,e.path)]}}function Cz(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=_z(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_z(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Bq(w1.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:C4((u=l).field),direction:nHe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=gz(n,e.limit);var a,c;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function Pq(n){let e=function Aq(n){const e=xq(n);return 4===e.length?s1.emptyPath():Lq(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){le(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const f=Fq(u);return f instanceof w1&&nz(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Mc(Vc((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let a=null;t.limit&&(a=function(u){let f;return f="object"==typeof u?u.value:u,K8(f)?null:f}(t.limit));let c=null;var u;t.startAt&&(c=new y4((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new y4(u.values||[],!u.before)}(t.endAt)),function tq(n,e,t,r,i,s,o,a){return new y3(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function Fq(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vc(e.unaryFilter.field);return Xe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Vc(e.unaryFilter.field);return Xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vc(e.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vc(e.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(n):void 0!==n.fieldFilter?Xe.create(Vc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return w1.create(e.compositeFilter.filters.map(t=>Fq(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(n):re();var e}function nHe(n){return qVe[n]}function rHe(n){return KVe[n]}function iHe(n){return YVe[n]}function C4(n){return{fieldPath:n.canonicalString()}}function Vc(n){return Tt.fromServerFormat(n.fieldPath)}function Bq(n){return n instanceof Xe?function(e){if("=="===e.op){if(PW(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NAN"}};if(OW(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PW(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NOT_NAN"}};if(OW(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:C4(e.field),op:rHe(e.op),value:e.value}}}(n):n instanceof w1?function(e){const t=e.getFilters().map(r=>Bq(r));return 1===t.length?t[0]:{compositeFilter:{op:iHe(e.op),filters:t}}}(n):re()}function sHe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class M3{constructor(e,t,r,i,s=fe.min(),o=fe.min(),a=e2.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new M3(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new M3(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new M3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new M3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $q{constructor(e){this.le=e}}function bz(n){const e=Pq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ad(e,e.limit,"L"):e}class eo{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),Y8(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(_3(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?FW(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):re()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),W.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}eo.be=new eo;class pHe{constructor(){this.sn=new Tz}addToCollectionParentIndex(e,t){return this.sn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(jn.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class Tz{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new W1(s1.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new W1(s1.comparator)).toArray()}}new Uint8Array(0);class $2{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $2(e,$2.DEFAULT_COLLECTION_PERCENTILE,$2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$2.DEFAULT_COLLECTION_PERCENTILE=10,$2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$2.DEFAULT=new $2(41943040,$2.DEFAULT_COLLECTION_PERCENTILE,$2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$2.DISABLED=new $2(-1,0,0);class no{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new no(0)}static kn(){return new no(-1)}}class CHe{constructor(){this.changes=new C3(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,q1.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wHe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mK{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&o5(r.mutation,i,Mn.empty(),at.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){const i=Si();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=r5();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Si();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=wn();const o=i5(),a=i5();return t.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof b3)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),o5(u.mutation,l,u.mutation.getFieldMask(),at.now())):o.set(l.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var f;return a.set(l,new wHe(u,null!==(f=o.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=i5();let i=new k1((o,a)=>o-a),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=r.get(c)||Mn.empty();u=a.applyToLocalView(l,u),r.set(c,u);const f=(i.get(a.batchId)||ke()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,f=cq();u.forEach(d=>{if(!s.has(d)){const h=vq(t.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return W.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function oz(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):z.resolve(Si());let a=-1,c=s;return o.next(l=>z.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ke())).next(u=>({batchId:a,changes:aq(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=r5();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=r5();return this.indexManager.getCollectionParents(e,i).next(o=>z.forEach(o,a=>{const c=(l=t,u=a.child(i),new y3(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,q1.newInvalidDocument(l)))});let o=r5();return s.forEach((a,c)=>{const l=i.get(a);void 0!==l&&o5(l.mutation,c,Mn.empty(),at.now()),n5(t,c)&&(o=o.insert(a,c))}),o})}}class SHe{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return z.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Nt(r.createTime)}),z.resolve()}getNamedQuery(e,t){return z.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:bz(r.bundledQuery),readTime:Nt(r.readTime)}),z.resolve();var r}}class zHe{constructor(){this.overlays=new k1(W.comparator),this.hs=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Si();return z.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.de(e,t,s)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=Si(),s=t.length+1,o=new W(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new k1((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Si(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Si(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return z.resolve(a)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hz(t,r));let s=this.hs.get(t);void 0===s&&(s=ke(),this.hs.set(t,s)),this.hs.set(t,s.add(r.key))}}class Nz{constructor(){this.ls=new W1(d2.fs),this.ds=new W1(d2._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new d2(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new d2(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new W(new s1([])),r=new d2(t,e),i=new d2(t,e+1),s=[];return this.ds.forEachInRange([r,i],o=>{this.gs(o),s.push(o.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new W(new s1([])),r=new d2(t,e),i=new d2(t,e+1);let s=ke();return this.ds.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new d2(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class d2{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return W.comparator(e.key,t.key)||ze(e.Es,t.Es)}static _s(e,t){return ze(e.Es,t.Es)||W.comparator(e.key,t.key)}}class EHe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new W1(d2.fs)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.As;this.As++;const o=new fz(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new d2(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,t){return z.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new d2(t,0),i=new d2(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.vs(o.Es);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new W1(ze);return t.forEach(i=>{const s=new d2(i,0),o=new d2(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.Es)})}),z.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;W.isDocumentKey(s)||(s=s.child(""));const o=new d2(new W(s),0);let a=new W1(ze);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Es)),!0)},o),z.resolve(this.bs(a))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){le(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return z.forEach(t.mutations,i=>{const s=new d2(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new d2(t,0),i=this.Rs.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return z.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class THe{constructor(e){this.Ss=e,this.docs=new k1(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():q1.newInvalidDocument(t))}getEntries(e,t){let r=wn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():q1.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=wn();const o=t.path,a=new W(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||YS(wW(u),r)<=0||(i.has(u.key)||n5(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,t,r,i){re()}Ds(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new NHe(this)}getSize(e){return z.resolve(this.size)}}class NHe extends CHe{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class DHe{constructor(e){this.persistence=e,this.Cs=new C3(t=>qs(t),e5),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Nz,this.targetCount=0,this.ks=no.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),z.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new no(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.$n(t),z.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Cs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Cs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.Ns.containsKey(t))}}class Dz{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Wn(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new DHe(this),this.indexManager=new pHe,this.remoteDocumentCache=new THe(r=>this.referenceDelegate.Bs(r)),this.serializer=new $q(t),this.Ls=new SHe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zHe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new EHe(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);const i=new VHe(this.Os.next());return this.referenceDelegate.qs(),r(i).next(s=>this.referenceDelegate.Us(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ks(e,t){return z.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class VHe extends ZDe{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.Gs=new Nz,this.Qs=null}static js(e){return new bd(e)}get zs(){if(this.Qs)return this.Qs;throw re()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),z.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.zs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.zs,r=>{const i=W.fromPath(r);return this.Ws(e,i).next(s=>{s||t.removeEntry(i,fe.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return z.or([()=>z.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class xz{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=ke(),i=ke();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xz(e,t.fromCache,r,i)}}class vK{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(s=>s||this.Ki(e,t,i,r)).next(s=>s||this.Gi(e,t))}Ui(e,t){if(nq(t))return z.resolve(null);let r=nn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ad(t,null,"F"),r=nn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ke(...s);return this.qi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Qi(t,a);return this.ji(t,l,o,c.readTime)?this.Ui(e,ad(t,null,"F")):this.zi(e,l,t,c)}))})))}Ki(e,t,r,i){return nq(t)||i.isEqual(fe.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(s=>{const o=this.Qi(t,s);return this.ji(t,o,r,i)?this.Gi(e,t):(WS()<=Qe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cz(t)),this.zi(e,o,t,function MW(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(1e9===r?new at(t+1,0):new at(t,r));return new jn(i,W.empty(),e)}(i,-1)))})}Qi(e,t){let r=new W1(sq(e));return t.forEach((i,s)=>{n5(e,s)&&(r=r.add(s))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Gi(e,t){return WS()<=Qe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",cz(t)),this.qi.getDocumentsMatchingQuery(e,t,jn.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class IHe{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new k1(ze),this.Ji=new C3(s=>qs(s),e5),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mK(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function yK(n,e){return Az.apply(this,arguments)}function Az(){return Az=v(function*(n,e){const t=K(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ke();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({tr:l,removedBatchIds:o,addedBatchIds:a}))})})}),Az.apply(this,arguments)}function CK(n){const e=K(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function LHe(n,e){const t=K(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ac(n,e,t){return Lz.apply(this,arguments)}function Lz(){return Lz=v(function*(n,e,t){const r=K(n),i=r.Hi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!h4(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),Lz.apply(this,arguments)}function Sd(n,e,t){const r=K(n);let i=fe.min(),s=ke();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=K(a),f=u.Ji.get(l);return void 0!==f?z.resolve(u.Hi.get(f)):u.Fs.getTargetData(c,l)}(r,o,nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Wi.getDocumentsMatchingQuery(o,e,t?i:fe.min(),t?s:ke())).next(a=>(function SK(n,e,t){let r=n.Yi.get(e)||fe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Yi.set(e,r)}(r,function iq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,sr:s})))}class Fz{constructor(){this.activeTargetIds=function lz(){return kVe}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TK{constructor(){this.Wr=new Fz,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Fz,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OHe{Jr(e){}shutdown(){}}class NK{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Td=null;function Uz(){return null===Td?Td=268435456+Math.round(2147483648*Math.random()):Td++,"0x"+Td.toString(16)}const PHe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FHe{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const G2="WebChannelConnection";class BHe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,s){const o=Uz(),a=this.Io(e,t);U("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.To(c,i,s),this.Eo(e,a,c,r).then(l=>(U("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Or("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}Ao(e,t,r,i,s,o){return this.po(e,t,r,i,s)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_c,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Io(e,t){return`${this.wo}/v1/${t}:${PHe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const s=Uz();return new Promise((o,a)=>{const c=new PDe;c.setWithCredentials(!0),c.listenOnce(kDe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case jS.NO_ERROR:const u=c.getResponseJson();U(G2,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case jS.TIMEOUT:U(G2,`RPC '${e}' ${s} timed out`),a(new F(N.DEADLINE_EXCEEDED,"Request time out"));break;case jS.HTTP_ERROR:const f=c.getStatus();if(U(G2,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(g)>=0?g:N.UNKNOWN}(h.status);a(new F(p,h.message))}else a(new F(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new F(N.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{U(G2,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);U(G2,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=Uz(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ADe(),a=LDe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new ODe({})),this.To(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const l=s.join("");U(G2,`Creating RPC '${e}' stream ${i}: ${l}`,c);const u=o.createWebChannel(l,c);let f=!1,d=!1;const h=new FHe({io:m=>{d?U(G2,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(U(G2,`Opening RPC '${e}' stream ${i} transport.`),u.open(),f=!0),U(G2,`RPC '${e}' stream ${i} sending:`,m),u.send(m))},ro:()=>u.close()}),p=(m,g,_)=>{m.listen(g,b=>{try{_(b)}catch(y){setTimeout(()=>{throw y},0)}})};return p(u,qf.EventType.OPEN,()=>{d||U(G2,`RPC '${e}' stream ${i} transport opened.`)}),p(u,qf.EventType.CLOSE,()=>{d||(d=!0,U(G2,`RPC '${e}' stream ${i} transport closed`),h.fo())}),p(u,qf.EventType.ERROR,m=>{d||(d=!0,Or(G2,`RPC '${e}' stream ${i} transport errored:`,m),h.fo(new F(N.UNAVAILABLE,"The operation could not be completed")))}),p(u,qf.EventType.MESSAGE,m=>{var g;if(!d){const _=m.data[0];le(!!_);const y=_.error||(null===(g=_[0])||void 0===g?void 0:g.error);if(y){U(G2,`RPC '${e}' stream ${i} received error:`,y);const T=y.status;let A=function(J){const de=Bt[J];if(void 0!==de)return wq(de)}(T),k=y.message;void 0===A&&(A=N.INTERNAL,k="Unknown error status: "+T+" with message "+y.message),d=!0,h.fo(new F(A,k)),u.close()}else U(G2,`RPC '${e}' stream ${i} received:`,_),h._o(_)}}),p(a,RDe.STAT_EVENT,m=>{m.stat===gW.PROXY?U(G2,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===gW.NOPROXY&&U(G2,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.lo()},0),h}}function Nd(){return typeof document<"u"?document:null}function b5(n){return new QVe(n,!0)}class $z{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class HK{constructor(e,t,r,i,s,o,a,c){this.si=e,this.Mo=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new $z(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return v(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return v(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return v(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Et(t.toString()),Et("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new F(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo(v(function*(){e.state=0,e.start()}))}Zo(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UHe extends HK{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function JVe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:re(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(le(void 0===l||"string"==typeof l),e2.fromBase64String(l||"")):(le(void 0===l||l instanceof Uint8Array),e2.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?N.UNKNOWN:wq(c.code);return new F(l,c.message||"")}(o);t=new Nq(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=zi(n,r.document.name),s=Nt(r.document.updateTime),o=r.document.createTime?Nt(r.document.createTime):fe.min(),a=new V2({mapValue:{fields:r.document.fields}}),c=q1.newFoundDocument(i,s,o,a);t=new dd(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=zi(n,r.document),s=r.readTime?Nt(r.readTime):fe.min(),o=q1.newNoDocument(i,s);t=new dd([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=zi(n,r.document);t=new dd([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return re();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new GVe(i,s);t=new Tq(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Nt(s.readTime):fe.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=f5(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=id(a)?{documents:Oq(i,a)}:{query:Cz(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Iq(i,s.resumeToken);const c=gz(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(fe.min())>0){o.readTime=Dc(i,s.snapshotVersion.toTimestamp());const c=gz(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function tHe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=f5(this.serializer),t.removeTarget=e,this.zo(t)}}class $He extends HK{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function eHe(n,e){return n&&n.length>0?(le(void 0!==e),n.map(t=>function(r,i){let s=Nt(r.updateTime?r.updateTime:i);return s.isEqual(fe.min())&&(s=Nt(i)),new FVe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Nt(e.commitTime);return this.listener.uu(r,t)}return le(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=f5(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function d5(n,e){let t;if(e instanceof Tc)t={update:kq(n,e.key,e.value)};else if(e instanceof Nc)t={delete:u5(n,e.key)};else if(e instanceof b3)t={update:kq(n,e.key,e.data),updateMask:sHe(e.fieldMask)};else{if(!(e instanceof uz))return re();t={verify:u5(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof zc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ec)return{fieldPath:s.field.canonicalString(),increment:o.wt};throw re()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ZVe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:re()),t;var i}(this.serializer,r))};this.zo(t)}}class GHe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(N.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ao(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(N.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class WHe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Et(t),this.wu=!1):U("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class qHe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(a=>{r.enqueueAndForget(v(function*(){var c;S4(o)&&(U("RemoteStore","Restarting streams for network reachability change."),yield(c=v(function*(l){const u=K(l);u.Au.add(4),yield Lc(u),u.Pu.set("Unknown"),u.Au.delete(4),yield M5(u)}),function(l){return c.apply(this,arguments)})(o))}))}),this.Pu=new WHe(r,i)}}function M5(n){return jz.apply(this,arguments)}function jz(){return jz=v(function*(n){if(S4(n))for(const e of n.Ru)yield e(!0)}),jz.apply(this,arguments)}function Lc(n){return Wz.apply(this,arguments)}function Wz(){return Wz=v(function*(n){for(const e of n.Ru)yield e(!1)}),Wz.apply(this,arguments)}function Dd(n,e){const t=K(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Yz(t)?Kz(t):Rc(t).Uo()&&qz(t,e))}function w5(n,e){const t=K(n),r=Rc(t);t.Eu.delete(e),r.Uo()&&IK(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():S4(t)&&t.Pu.set("Unknown"))}function qz(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rc(n).nu(e)}function IK(n,e){n.bu.Lt(e),Rc(n).su(e)}function Kz(n){n.bu=new WVe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),Rc(n).start(),n.Pu.mu()}function Yz(n){return S4(n)&&!Rc(n).qo()&&n.Eu.size>0}function S4(n){return 0===K(n).Au.size}function xK(n){n.bu=void 0}function KHe(n){return Qz.apply(this,arguments)}function Qz(){return Qz=v(function*(n){n.Eu.forEach((e,t)=>{qz(n,e)})}),Qz.apply(this,arguments)}function YHe(n,e){return Zz.apply(this,arguments)}function Zz(){return Zz=v(function*(n,e){xK(n),Yz(n)?(n.Pu.pu(e),Kz(n)):n.Pu.set("Unknown")}),Zz.apply(this,arguments)}function QHe(n,e,t){return Xz.apply(this,arguments)}function Xz(){return Xz=v(function*(n,e,t){if(n.Pu.set("Online"),e instanceof Nq&&2===e.state&&e.cause)try{yield(r=v(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Eu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Eu.delete(a),i.bu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vd(n,r)}else if(e instanceof dd?n.bu.Wt(e):e instanceof Tq?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(fe.min()))try{const r=yield CK(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.bu.ue(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Eu.get(c);l&&i.Eu.set(c,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const l=i.Eu.get(a);if(!l)return;i.Eu.set(a,l.withResumeToken(e2.EMPTY_BYTE_STRING,l.snapshotVersion)),IK(i,a);const u=new M3(l.target,a,c,l.sequenceNumber);qz(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield Vd(n,r)}var r}),Xz.apply(this,arguments)}function Vd(n,e,t){return Jz.apply(this,arguments)}function Jz(){return Jz=v(function*(n,e,t){if(!h4(e))throw e;n.Au.add(1),yield Lc(n),n.Pu.set("Offline"),t||(t=()=>CK(n.localStore)),n.asyncQueue.enqueueRetryable(v(function*(){U("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield M5(n)}))}),Jz.apply(this,arguments)}function AK(n,e){return e().catch(t=>Vd(n,t,e))}function kc(n){return eE.apply(this,arguments)}function eE(){return eE=v(function*(n){const e=K(n),t=z4(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;ZHe(e);)try{const i=yield LHe(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,XHe(e,i)}catch(i){yield Vd(e,i)}LK(e)&&kK(e)}),eE.apply(this,arguments)}function ZHe(n){return S4(n)&&n.Tu.length<10}function XHe(n,e){n.Tu.push(e);const t=z4(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function LK(n){return S4(n)&&!z4(n).qo()&&n.Tu.length>0}function kK(n){z4(n).start()}function JHe(n){return tE.apply(this,arguments)}function tE(){return tE=v(function*(n){z4(n).au()}),tE.apply(this,arguments)}function eIe(n){return nE.apply(this,arguments)}function nE(){return nE=v(function*(n){const e=z4(n);for(const t of n.Tu)e.ou(t.mutations)}),nE.apply(this,arguments)}function tIe(n,e,t){return rE.apply(this,arguments)}function rE(){return rE=v(function*(n,e,t){const r=n.Tu.shift(),i=dz.from(r,e,t);yield AK(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield kc(n)}),rE.apply(this,arguments)}function nIe(n,e){return iE.apply(this,arguments)}function iE(){return iE=v(function*(n,e){var t;e&&z4(n).ru&&(yield(t=v(function*(r,i){if(function Mq(n){switch(n){default:return re();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(s=i.code)&&s!==N.ABORTED){const o=r.Tu.shift();z4(r).Go(),yield AK(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield kc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),LK(n)&&kK(n)}),iE.apply(this,arguments)}function RK(n,e){return sE.apply(this,arguments)}function sE(){return sE=v(function*(n,e){const t=K(n);t.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=S4(t);t.Au.add(3),yield Lc(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield M5(t)}),sE.apply(this,arguments)}function aE(){return aE=v(function*(n,e){const t=K(n);e?(t.Au.delete(2),yield M5(t)):e||(t.Au.add(2),yield Lc(t),t.Pu.set("Unknown"))}),aE.apply(this,arguments)}function Rc(n){return n.Vu||(n.Vu=function(e,t,r){const i=K(e);return i.lu(),new UHe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:KHe.bind(null,n),co:YHe.bind(null,n),eu:QHe.bind(null,n)}),n.Ru.push(function(){var e=v(function*(t){t?(n.Vu.Go(),Yz(n)?Kz(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),xK(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function z4(n){return n.Su||(n.Su=function(e,t,r){const i=K(e);return i.lu(),new $He(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:JHe.bind(null,n),co:nIe.bind(null,n),cu:eIe.bind(null,n),uu:tIe.bind(null,n)}),n.Ru.push(function(){var e=v(function*(t){t?(n.Su.Go(),yield kc(n)):(yield n.Su.stop(),n.Tu.length>0&&(U("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class cE{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new cE(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oc(n,e){if(Et("AsyncQueue",`${e}: ${n}`),h4(n))return new F(N.UNAVAILABLE,`${e}: ${n}`);throw n}class Pc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=r5(),this.sortedSet=new k1(this.comparator)}static emptySet(e){return new Pc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class OK{constructor(){this.Du=new k1(W.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):re():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class Fc{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Fc(e,t,Pc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&t5(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class rIe{constructor(){this.xu=void 0,this.listeners=[]}}class iIe{constructor(){this.queries=new C3(e=>rq(e),t5),this.onlineState="Unknown",this.Nu=new Set}}function lE(n,e){return uE.apply(this,arguments)}function uE(){return uE=v(function*(n,e){const t=K(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new rIe),i)try{s.xu=yield t.onListen(r)}catch(o){const a=Oc(o,`Initialization of query '${cz(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.ku(t.onlineState),s.xu&&e.Mu(s.xu)&&hE(t)}),uE.apply(this,arguments)}function fE(n,e){return dE.apply(this,arguments)}function dE(){return dE=v(function*(n,e){const t=K(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),dE.apply(this,arguments)}function sIe(n,e){const t=K(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Mu(i)&&(r=!0);o.xu=i}}r&&hE(t)}function oIe(n,e,t){const r=K(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function hE(n){n.Nu.forEach(e=>{e.next()})}class pE{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Fc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class BK{constructor(e){this.key=e}}class UK{constructor(e){this.key=e}}class $K{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=ke(),this.mutatedKeys=ke(),this.Zu=sq(e),this.tc=new Pc(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new OK,i=t?t.tc:this.tc;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=n5(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.ic(d,h)||(r.track({type:2,doc:h}),g=!0,(c&&this.Zu(h,c)>0||l&&this.Zu(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),g=!0):d&&!h&&(r.track({type:1,doc:d}),g=!0,(c||l)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tc:o,sc:r,ji:a,mutatedKeys:s}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const s=e.sc.Cu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return h(f)-h(d)}(l.type,u.type)||this.Zu(l.doc,u.doc)),this.rc(r);const o=t?this.oc():[],a=0===this.Xu.size&&this.current?1:0,c=a!==this.Yu;return this.Yu=a,0!==s.length||c?{snapshot:new Fc(this.query,e.tc,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new OK,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=ke(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new UK(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new BK(r))}),t}ac(e){this.Ju=e.sr,this.Xu=ke();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Fc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class lIe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uIe{constructor(e){this.key=e,this.lc=!1}}class fIe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new C3(a=>rq(a),t5),this._c=new Map,this.wc=new Set,this.mc=new k1(W.comparator),this.gc=new Map,this.yc=new Nz,this.Ic={},this.Tc=new Map,this.Ec=no.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function dIe(n,e){return mE.apply(this,arguments)}function mE(){return mE=v(function*(n,e){const t=function OE(n){const e=K(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bIe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mIe.bind(null,e),e.fc.eu=sIe.bind(null,e.eventManager),e.fc.vc=oIe.bind(null,e.eventManager),e}(n);let r,i;const s=t.dc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.hc();else{const o=yield function xc(n,e){const t=K(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):t.Fs.allocateTargetId(r).next(o=>(i=new M3(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}(t.localStore,nn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function gE(n,e,t,r,i){return vE.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Dd(t.remoteStore,o)}return i}),mE.apply(this,arguments)}function vE(){return vE=v(function*(n,e,t,r,i){n.Rc=(f,d,h)=>{return(p=v(function*(m,g,_,b){let y=g.view.nc(_);y.ji&&(y=yield Sd(m.localStore,g.query,!1).then(({documents:k})=>g.view.nc(k,y)));const T=b&&b.targetChanges.get(g.targetId),A=g.view.applyChanges(y,m.isPrimaryClient,T);return TE(m,g.targetId,A.uc),A.snapshot}),function(m,g,_,b){return p.apply(this,arguments)})(n,f,d,h);var p};const s=yield Sd(n.localStore,e,!0),o=new $K(e,s.sr),a=o.nc(s.documents),c=l5.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,c);TE(n,t,l.uc);const u=new lIe(e,t,o);return n.dc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),vE.apply(this,arguments)}function hIe(n,e){return _E.apply(this,arguments)}function _E(){return _E=v(function*(n,e){const t=K(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!t5(s,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ac(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),w5(t.remoteStore,r.targetId),Bc(t,r.targetId)}).catch(d4))):(Bc(t,r.targetId),yield Ac(t.localStore,r.targetId,!0))}),_E.apply(this,arguments)}function yE(){return yE=v(function*(n,e,t){const r=function PE(n){const e=K(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gIe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vIe.bind(null,e),e}(n);try{const i=yield function(s,o){const a=K(s),c=at.now(),l=o.reduce((d,h)=>d.add(h.key),ke());let u,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=wn(),p=ke();return a.Xi.getEntries(d,l).next(m=>{h=m,h.forEach((g,_)=>{_.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,h)).next(m=>{u=m;const g=[];for(const _ of o){const b=UVe(_,u.get(_.key).overlayedDocument);null!=b&&g.push(new b3(_.key,b,$W(b.value.mapValue),et.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,g,o)}).next(m=>{f=m;const g=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,m.batchId,g)})}).then(()=>({batchId:f.batchId,changes:aq(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Ic[s.currentUser.toKey()];c||(c=new k1(ze)),c=c.insert(o,a),s.Ic[s.currentUser.toKey()]=c}(r,i.batchId,t),yield w3(r,i.changes),yield kc(r.remoteStore)}catch(i){const s=Oc(i,"Failed to persist write");t.reject(s)}}),yE.apply(this,arguments)}function GK(n,e){return CE.apply(this,arguments)}function CE(){return CE=v(function*(n,e){const t=K(n);try{const r=yield function AHe(n,e){const t=K(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const a=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;a.push(t.Fs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>t.Fs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,m,g;null!==e.targetMismatches.get(f)?h=h.withResumeToken(e2.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),m=h,g=u,(0===(p=d).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Fs.updateTargetData(s,h))});let c=wn(),l=ke();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function bK(n,e,t){let r=ke(),i=ke();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=wn();return t.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{er:o,nr:i}})}(s,o,e.documentUpdates).next(u=>{c=u.er,l=u.nr})),!r.isEqual(fe.min())){const u=t.Fs.getLastRemoteSnapshotVersion(s).next(f=>t.Fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.Hi=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.gc.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.lc=!0:i.modifiedDocuments.size>0?le(o.lc):i.removedDocuments.size>0&&(le(o.lc),o.lc=!1))}),yield w3(t,r,e)}catch(r){yield d4(r)}}),CE.apply(this,arguments)}function jK(n,e,t){const r=K(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((s,o)=>{const a=o.view.ku(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=K(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const f of u.listeners)f.ku(o)&&(c=!0)}),c&&hE(a)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mIe(n,e,t){return bE.apply(this,arguments)}function bE(){return bE=v(function*(n,e,t){const r=K(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),s=i&&i.key;if(s){let o=new k1(W.comparator);o=o.insert(s,q1.newNoDocument(s,fe.min()));const a=ke().add(s),c=new c5(fe.min(),new Map,new k1(ze),o,a);yield GK(r,c),r.mc=r.mc.remove(s),r.gc.delete(e),NE(r)}else yield Ac(r.localStore,e,!1).then(()=>Bc(r,e,t)).catch(d4)}),bE.apply(this,arguments)}function gIe(n,e){return ME.apply(this,arguments)}function ME(){return ME=v(function*(n,e){const t=K(n),r=e.batch.batchId;try{const i=yield function xHe(n,e){const t=K(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Xi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,f=u.keys();let d=z.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(a,h)).next(p=>{const m=c.docVersions.get(h);le(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ke();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);EE(t,r,null),zE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield w3(t,i)}catch(i){yield d4(i)}}),ME.apply(this,arguments)}function vIe(n,e,t){return wE.apply(this,arguments)}function wE(){return wE=v(function*(n,e,t){const r=K(n);try{const i=yield function(s,o){const a=K(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(le(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);EE(r,e,t),zE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield w3(r,i)}catch(i){yield d4(i)}}),wE.apply(this,arguments)}function zE(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function EE(n,e,t){const r=K(n);let i=r.Ic[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Bc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||WK(n,r)})}function WK(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(w5(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),NE(n))}function TE(n,e,t){for(const r of t)r instanceof BK?(n.yc.addReference(r.key,e),yIe(n,r)):r instanceof UK?(U("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||WK(n,r.key)):re()}function yIe(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(U("SyncEngine","New document in limbo: "+t),n.wc.add(r),NE(n))}function NE(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new W(s1.fromString(e)),r=n.Ec.next();n.gc.set(r,new uIe(t)),n.mc=n.mc.insert(t,r),Dd(n.remoteStore,new M3(nn(Sc(t.path)),r,"TargetPurposeLimboResolution",Wn.ct))}}function w3(n,e,t){return DE.apply(this,arguments)}function DE(){return DE=v(function*(n,e,t){const r=K(n),i=[],s=[],o=[];var a;r.dc.isEmpty()||(r.dc.forEach((a,c)=>{o.push(r.Rc(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=xz.Bi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.fc.eu(i),yield(a=v(function*(c,l){const u=K(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(l,d=>z.forEach(d.$i,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>z.forEach(d.Fi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!h4(f))throw f;U("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Hi.get(d),m=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Hi=u.Hi.insert(d,m)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,s))}),DE.apply(this,arguments)}function CIe(n,e){return VE.apply(this,arguments)}function VE(){return VE=v(function*(n,e){const t=K(n);if(!t.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=yield yK(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(o=>{o.forEach(a=>{a.reject(new F(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield w3(t,r.tr)}var i}),VE.apply(this,arguments)}function bIe(n,e){const t=K(n),r=t.gc.get(e);if(r&&r.lc)return ke().add(r.key);{let i=ke();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.dc.get(o);i=i.unionWith(a.view.ec)}return i}}class Hd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return v(function*(){t.serializer=b5(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function _K(n,e,t,r){return new IHe(n,e,t,r)}(this.persistence,new vK,e.initialUser,this.serializer)}createPersistence(e){return new Dz(bd.js,this.serializer)}createSharedClientState(e){return new TK}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Uc{initialize(e,t){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jK(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=CIe.bind(null,r.syncEngine),yield function oE(n,e){return aE.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iIe}createDatastore(e){const t=b5(e.databaseInfo.databaseId),r=new BHe(e.databaseInfo);return new GHe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>jK(this.syncEngine,a,0),o=NK.D()?new NK:new OHe,new qHe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,c,l){const u=new fIe(r,i,s,o,a,c);return l&&(u.Ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=v(function*(t){const r=K(t);U("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield Lc(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Id{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Et("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class AIe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=u2.UNAUTHENTICATED,this.clientId=CW.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){U("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Oc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function xd(n,e){return FE.apply(this,arguments)}function FE(){return FE=v(function*(n,e){n.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield yK(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),FE.apply(this,arguments)}function BE(n,e){return UE.apply(this,arguments)}function UE(){return UE=v(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function $E(n){return GE.apply(this,arguments)}(n);U("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>RK(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>RK(e.remoteStore,s)),n._onlineComponents=e}),UE.apply(this,arguments)}function GE(){return GE=v(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function XK(n){return"FirebaseError"===n.name?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Or("Error using user provided cache. Falling back to memory cache: "+t),yield xd(n,new Hd)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield xd(n,new Hd);return n._offlineComponents}),GE.apply(this,arguments)}function Ad(n){return jE.apply(this,arguments)}function jE(){return jE=v(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield BE(n,n._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield BE(n,new Uc))),n._onlineComponents}),jE.apply(this,arguments)}function $c(n){return qE.apply(this,arguments)}function qE(){return qE=v(function*(n){const e=yield Ad(n),t=e.eventManager;return t.onListen=dIe.bind(null,e.syncEngine),t.onUnlisten=hIe.bind(null,e.syncEngine),t}),qE.apply(this,arguments)}const iY=new Map;function KE(n,e,t){if(!t)throw new F(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sY(n){if(!W.isDocumentKey(n))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oY(n){if(W.isDocumentKey(n))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kd(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":re()}function t1(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kd(n);throw new F(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class cY{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new F(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $Ie(n,e,t,r){if(!0===e&&!0===r)throw new F(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class S5{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cY({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cY(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new BDe;switch(t.type){case"firstParty":return new jDe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iY.get(e);t&&(U("ComponentProvider","Removing Datastore"),iY.delete(e),t.terminate())}(this),Promise.resolve()}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class H2{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new H2(this.firestore,e,this._query)}}class Ei extends H2{constructor(e,t,r){super(e,t,Sc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new W(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function jIe(n,e,...t){if(n=u1(n),KE("collection","path",e),n instanceof S5){const r=s1.fromString(e,...t);return oY(r),new Ei(n,null,r)}{if(!(n instanceof Dt||n instanceof Ei))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(s1.fromString(e,...t));return oY(r),new Ei(n.firestore,null,r)}}function lY(n,e,...t){if(n=u1(n),1===arguments.length&&(e=CW.A()),KE("doc","path",e),n instanceof S5){const r=s1.fromString(e,...t);return sY(r),new Dt(n,null,new W(r))}{if(!(n instanceof Dt||n instanceof Ei))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(s1.fromString(e,...t));return sY(r),new Dt(n.firestore,n instanceof Ei?n.converter:null,new W(r))}}class WIe{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new $z(this,"async_queue_retry"),this.Yc=()=>{const t=Nd();t&&U("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Nd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Nd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Jt;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return v(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!h4(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Et("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=cE.createAndSchedule(this,e,t,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&re()}verifyOperationInProgress(){}na(){var e=this;return v(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function YE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class K1 extends S5{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new WIe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fY(this),this._firestoreClient.terminate()}}function KIe(n,e){const r="string"==typeof n?n:e||"(default)",i=yn("object"==typeof n?n:fi(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=N9("firestore");s&&function GIe(n,e,t,r={}){var i;const s=(n=t1(n,S5))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Or("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=u2.MOCK_USER;else{o=Ey(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new u2(c)}n._authCredentials=new UDe(new _W(o,a))}}(i,...s)}return i}function Ut(n){return n._firestoreClient||fY(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fY(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bVe(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams));var a,l;n._firestoreClient=new AIe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(e2.fromBase64String(e))}catch(t){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new io(e2.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class QE{constructor(e){this._methodName=e}}class ZE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const QIe=/^__.*__$/;class ZIe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new b3(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tc(e,this.data,t,this.fieldTransforms)}}class pY{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new b3(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mY(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Rd{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Pd(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mY(this.ua)&&QIe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class XIe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||b5(e)}ga(e,t,r,i=!1){return new Rd({ua:e,methodName:t,ma:r,path:Tt.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jc(n){const e=n._freezeSettings(),t=b5(n._databaseId);return new XIe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XE(n,e,t,r,i,s={}){const o=n.ga(s.merge||s.mergeFields?2:0,e,t,i);eT("Data must be an object, but it was:",o,r);const a=CY(r,o);let c,l;if(s.merge)c=new Mn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=T5(e,f,t);if(!o.contains(d))throw new F(N.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);MY(u,d)||u.push(d)}c=new Mn(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new ZIe(new V2(a),c,l)}class E5 extends QE{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof E5}}function so(n,e){if(bY(n=u1(n)))return eT("Unsupported field value:",e,n),CY(n,e);if(n instanceof QE)return function(t,r){if(!mY(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=so(o,r.da(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=u1(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fq(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=at.fromDate(t);return{timestampValue:Dc(r.serializer,i)}}if(t instanceof at){const i=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dc(r.serializer,i)}}if(t instanceof ZE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof io)return{bytesValue:Iq(r.serializer,t._byteString)};if(t instanceof Dt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vz(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${kd(t)}`)}(n,e)}function CY(n,e){const t={};return AW(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):p4(n,(r,i)=>{const s=so(i,e.aa(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function bY(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof at||n instanceof ZE||n instanceof io||n instanceof Dt||n instanceof QE)}function eT(n,e,t){if(!bY(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=kd(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function T5(n,e,t){if((e=u1(e))instanceof Gc)return e._internalPath;if("string"==typeof e)return Od(n,e);throw Pd("Field path arguments must be of type string or ",n,!1,void 0,t)}const nxe=new RegExp("[~\\*/\\[\\]]");function Od(n,e,t){if(e.search(nxe)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gc(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pd(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new F(N.INVALID_ARGUMENT,a+n+c)}function MY(n,e){return n.some(t=>t.isEqual(e))}class tT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rxe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rxe extends tT{data(){return super.data()}}function Fd(n,e){return"string"==typeof e?Od(n,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}class sxe{convertValue(e,t="none"){switch(v4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_3(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return p4(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new ZE(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ed(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Q8(e));default:return null}}convertTimestamp(e){const t=m4(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=s1.fromString(e);le(Uq(r));const i=new js(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(t)||Et(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class oo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qc extends tT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Fd("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gd extends qc{data(e={}){return super.data(e)}}class Kc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gd(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Gd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Gd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:axe(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function axe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function cxe(n){n=t1(n,Dt);const e=t1(n.firestore,K1);return function nY(n,e,t={}){const r=new Jt;return n.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,c){const l=new Id({next:f=>{s.enqueueAndForget(()=>fE(i,u));const d=f.docs.has(o);!d&&f.fromCache?c.reject(new F(N.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&a&&"server"===a.source?c.reject(new F(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),u=new pE(Sc(o.path),l,{includeMetadataChanges:!0,Uu:!0});return lE(i,u)}(yield $c(n),n.asyncQueue,e,t,r)})),r.promise}(Ut(e),n._key).then(t=>iT(e,n,t))}class E4 extends sxe{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function lxe(n,e,t,...r){n=t1(n,Dt);const i=t1(n.firestore,K1),s=jc(i);let o;return o="string"==typeof(e=u1(e))||e instanceof Gc?function _Y(n,e,t,r,i,s){const o=n.ga(1,e,t),a=[T5(e,r,t)],c=[i];if(s.length%2!=0)throw new F(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(T5(e,s[d])),c.push(s[d+1]);const l=[],u=V2.empty();for(let d=a.length-1;d>=0;--d)if(!MY(l,a[d])){const h=a[d];let p=c[d];p=u1(p);const m=o.fa(h);if(p instanceof E5)l.push(h);else{const g=so(p,m);null!=g&&(l.push(h),u.set(h,g))}}const f=new Mn(l);return new pY(u,f,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function vY(n,e,t,r){const i=n.ga(1,e,t);eT("Data must be an object, but it was:",i,r);const s=[],o=V2.empty();p4(r,(c,l)=>{const u=Od(e,c,t);l=u1(l);const f=i.fa(u);if(l instanceof E5)s.push(u);else{const d=so(l,f);null!=d&&(s.push(u),o.set(u,d))}});const a=new Mn(s);return new pY(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),D5(i,[o.toMutation(n._key,et.exists(!0))])}function uxe(n){return D5(t1(n.firestore,K1),[new Nc(n._key,et.none())])}function fxe(n,e){const t=t1(n.firestore,K1),r=lY(n),i=function rT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return D5(t,[XE(jc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}function D5(n,e){return function(t,r){const i=new Jt;return t.asyncQueue.enqueueAndForget(v(function*(){return function pIe(n,e,t){return yE.apply(this,arguments)}(yield function WE(n){return Ad(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Ut(n),e)}function iT(n,e,t){const r=t.docs.get(e._key),i=new E4(n);return new qc(n,i,e._key,r,new oo(t.hasPendingWrites,t.fromCache),e.converter)}!function(n,e=!0){_c=c3,Xt(new Pt("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new K1(new $De(t.getProvider("auth-internal")),new WDe(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ge(vW,"3.11.0",n),Ge(vW,"3.11.0","esm2017")}();var Sxe={includeMetadataChanges:!1};function sT(n,e){return void 0===e&&(e=Sxe),new Je(function(t){var r=function dxe(n,...e){var t,r,i;n=u1(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||YE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(YE(e[o])){const f=e[o];e[o]=null===(t=f.next)||void 0===t?void 0:t.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,u;if(n instanceof Dt)l=t1(n.firestore,K1),u=Sc(n._key.path),c={next:f=>{e[o]&&e[o](iT(l,n,f))},error:e[o+1],complete:e[o+2]};else{const f=t1(n,H2);l=t1(f.firestore,K1),u=f._query;const d=new E4(l);c={next:h=>{e[o]&&e[o](new Kc(l,d,f,h))},error:e[o+1],complete:e[o+2]},function wY(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(f,d,h,p){const m=new Id(p),g=new pE(d,m,h);return f.asyncQueue.enqueueAndForget(v(function*(){return lE(yield $c(f),g)})),()=>{m.Sc(),f.asyncQueue.enqueueAndForget(v(function*(){return fE(yield $c(f),g)}))}}(Ut(l),u,a,c)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Hxe(n,e){return void 0===e&&(e={}),function Vxe(n){return sT(n,{includeMetadataChanges:!0}).pipe(ge(function(e){return e.docs}))}(n).pipe(ge(function(t){return t.map(function(r){return function HY(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class V5{constructor(e){return e}}const LY="firestore",cT=new te("angularfire2.firestore-instances");function Axe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new V5(r)}}const Lxe={provide:class Ixe{constructor(){return mi(LY)}},deps:[[new Ze,cT]]},kxe={provide:V5,useFactory:function xxe(n,e){const t=pi(LY,n,e);return t&&new V5(t)},deps:[[new Ze,cT],$n]};let Rxe=(()=>{class n{constructor(){Ge("angularfire",Un.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[kxe,Lxe]}),n})();function Oxe(n,...e){return{ngModule:Rxe,providers:[{provide:cT,useFactory:Axe(n),multi:!0,deps:[Ce,T1,gi,vi,[new Ze,z8],[new Ze,ac],...e]}]}}const kY=X1(Hxe,!0),Pxe=X1(fxe,!0),RY=X1(jIe,!0),Fxe=X1(uxe,!0),lT=X1(lY,!0),OY=X1(cxe,!0),Bxe=X1(KIe,!0),Uxe=X1(lxe,!0);var Wd={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"]},qd={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"]},pT={prefix:"far",iconName:"file-pdf",icon:[512,512,[],"f1c1","M64 464H96v48H64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0H229.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V288H336V160H256c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56H192v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V448 368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24H192v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H304c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H320v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V432 368z"]},lh={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]};const xne="firebasestorage.googleapis.com",Ane="storageBucket";class ct extends Bn{constructor(e,t,r=0){super(lN(e),`Firebase Storage: ${t} (${lN(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var R1=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(R1||(R1={})),R1))();function lN(n){return"storage/"+n}function uN(){return new ct(R1.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Lne(){return new ct(R1.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kne(){return new ct(R1.CANCELED,"User canceled the upload/download.")}function Rne(){return new ct(R1.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fN(n){return new ct(R1.INVALID_ARGUMENT,n)}function One(){return new ct(R1.APP_DELETED,"The Firebase app was deleted.")}function k5(n,e){return new ct(R1.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function R5(n){throw new ct(R1.INTERNAL_ERROR,"Internal error: "+n)}class rn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rn.makeFromUrl(e,t)}catch{return new rn(e,"")}if(""===r.path)return r;throw function Ho1(n){return new ct(R1.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(T){T.path_=decodeURIComponent(T.path)}const f=t.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function s(T){"/"===T.path.charAt(T.path.length-1)&&(T.path_=T.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===xne?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<y.length;T++){const A=y[T],k=A.regex.exec(e);if(k){let de=k[A.indices.path];de||(de=""),r=new rn(k[A.indices.bucket],de),A.postModify(r);break}}if(null==r)throw function Vo1(n){return new ct(R1.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Ro1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function dh(n){return"string"==typeof n||n instanceof String}function Pne(n){return dN()&&n instanceof Blob}function dN(){return typeof Blob<"u"&&!function mU(){var n;const e=null===(n=T9())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function hN(n,e,t,r){if(r<e)throw fN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw fN(`Invalid value for '${n}'. Expected ${t} or less.`)}function S3(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}var T4=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(T4||(T4={})),T4))();function Bne(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class $o1{constructor(e,t,r,i,s,o,a,c,l,u,f,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Fo1(n){return void 0!==n}(c)?s():s(c)}catch(c){o(c)}else if(null!==a){const c=uN();c.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,c):c)}else o(i.canceled?this.appDelete_?One():kne():Lne())};this.canceled_?t(0,new hh(!1,null,!0)):this.backoffId_=function Oo1(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function u(...g){l||(l=!0,e.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,n(h,c())},g)}function d(){s&&clearTimeout(s)}function h(g,..._){if(l)return void d();if(g)return d(),void u.call(null,g,..._);if(c()||o)return d(),void u.call(null,g,..._);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),f(y)}let p=!1;function m(g){p||(p=!0,d(),!l&&(null!==i?(g||(a=2),clearTimeout(i),f(0)):g||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},t),m}((r,i)=>{if(i)return void r(!1,new hh(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===T4.NO_ERROR,c=s.getStatus();if(!a||Bne(c,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===T4.ABORT;return void r(!1,new hh(!1,null,u))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new hh(l,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Po1(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Qo1(...n){const e=function Yo1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(dN())return new Blob(n);throw new ct(R1.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pN{constructor(e,t){this.data=e,this.contentType=t||null}}function $ne(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Gne(n,e){switch(n){case Fr.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw k5(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fr.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw k5(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Xo1(n){if(typeof atob>"u")throw function Lo1(n){return new ct(R1.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:k5(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class jne{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw k5(Fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function na1(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class z3{constructor(e,t){let r=0,i="";Pne(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Pne(this.data_)){const i=function Zo1(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new z3(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new z3(r,!0)}}static getBlob(...e){if(dN()){const t=e.map(r=>r instanceof z3?r.data_:r);return new z3(Qo1.apply(null,t))}{const t=e.map(o=>dh(o)?function Une(n,e){switch(n){case Fr.RAW:return new pN($ne(e));case Fr.BASE64:case Fr.BASE64URL:return new pN(Gne(n,e));case Fr.DATA_URL:return new pN(function ea1(n){const e=new jne(n);return e.base64?Gne(Fr.BASE64,e.rest):function Jo1(n){let e;try{e=decodeURIComponent(n)}catch{throw k5(Fr.DATA_URL,"Malformed data URL.")}return $ne(e)}(e.rest)}(e),function ta1(n){return new jne(n).contentType}(e))}throw uN()}(Fr.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new z3(i,!0)}}uploadData(){return this.data_}}function Wne(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function sa1(n,e){return e}class sn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||sa1}}let ph=null;function qne(n,e,t){const r=function mN(n){let e;try{e=JSON.parse(n)}catch{return null}return function Uo1(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}(e);return null===r?null:function ca1(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function aa1(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new rn(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function gN(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class Ti{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ni(n){if(!n)throw uN()}function mh(n,e){return function t(r,i){const s=qne(n,i,e);return Ni(null!==s),s}}function Yc(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function No1(){return new ct(R1.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function To1(){return new ct(R1.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Eo1(n){return new ct(R1.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Do1(n){return new ct(R1.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function P5(n){const e=Yc(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function zo1(n){return new ct(R1.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function Xne(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function _a1(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class gh{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function vN(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ni(!1)}return Ni(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _N(n){switch(n){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;default:return Sn.ERROR}}class Ma1{constructor(e,t,r){if(function Bo1(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Qc(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let tre=null;class nre{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=T4.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=T4.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=T4.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw R5("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw R5("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw R5("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw R5("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw R5("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class wa1 extends nre{initXhr(){this.xhr_.responseType="text"}}function Br(){return tre?tre():new wa1}class Ea1 extends nre{initXhr(){this.xhr_.responseType="blob"}}function Ta1(){return new Ea1}class Na1{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=function O5(){if(ph)return ph;const n=[];n.push(new sn("bucket")),n.push(new sn("generation")),n.push(new sn("metageneration")),n.push(new sn("name","fullPath",!0));const t=new sn("name");t.xform=function e(s,o){return function oa1(n){return!dh(n)||n.length<2?n:Wne(n)}(o)},n.push(t);const i=new sn("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new sn("timeCreated")),n.push(new sn("updated")),n.push(new sn("md5Hash",null,!0)),n.push(new sn("cacheControl",null,!0)),n.push(new sn("contentDisposition",null,!0)),n.push(new sn("contentEncoding",null,!0)),n.push(new sn("contentLanguage",null,!0)),n.push(new sn("contentType",null,!0)),n.push(new sn("metadata","customMetadata",!0)),ph=n,ph}(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(R1.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Bne(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=Lne()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(R1.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function ya1(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=Xne(e,r,i),a={name:o.fullPath},c=S3(s,n.host,n._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=gN(o,t),p=new Ti(c,"POST",function h(m){let g;vN(m);try{g=m.getResponseHeader("X-Goog-Upload-URL")}catch{Ni(!1)}return Ni(dh(g)),g},n.maxUploadRetryTime);return p.urlParams=a,p.headers=u,p.body=f,p.errorHandler=Yc(e),p}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Br,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Ca1(n,e,t,r){const c=new Ti(t,"POST",function s(l){const u=vN(l,["active","final"]);let f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ni(!1)}f||Ni(!1);const d=Number(f);return Ni(!isNaN(d)),new gh(d,r.size(),"final"===u)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Yc(e),c}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Br,t,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new gh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function ba1(n,e,t,r,i,s,o,a){const c=new gh(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function xo1(){return new ct(R1.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const f=c.current;let h="";h=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${c.current}`},m=r.slice(f,f+u);if(null===m)throw Rne();const y=new Ti(t,"POST",function g(T,A){const k=vN(T,["active","final"]),J=c.current+u,de=r.size();let Ee;return Ee="final"===k?mh(e,s)(T,A):null,new gh(J,de,"final"===k,Ee)},e.maxUploadRetryTime);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=Yc(n),y}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(o,Br,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=function Qne(n,e,t){const i=S3(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Ti(i,"GET",mh(n,t),o);return a.errorHandler=P5(e),a}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Br,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function Jne(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let y="";for(let T=0;T<2;T++)y+=Math.random().toString().slice(2);return y}();o["Content-Type"]="multipart/related; boundary="+c;const l=Xne(e,r,i),u=gN(l,t),h=z3.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===h)throw Rne();const p={name:l.fullPath},m=S3(s,n.host,n._protocol),_=n.maxUploadRetryTime,b=new Ti(m,"POST",mh(n,t),_);return b.urlParams=p,b.headers=o,b.body=h.uploadData(),b.errorHandler=Yc(e),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Br,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=kne(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=_N(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new Ma1(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(_N(this._state)){case Sn.SUCCESS:Qc(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:Qc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_N(this._state)){case Sn.RUNNING:case Sn.PAUSED:e.next&&Qc(e.next.bind(e,this.snapshot))();break;case Sn.SUCCESS:e.complete&&Qc(e.complete.bind(e))();break;default:e.error&&Qc(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ao{constructor(e,t){this._service=e,this._location=t instanceof rn?t:rn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ao(e,t)}get root(){const e=new rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wne(this._location.path)}get storage(){return this._service}get parent(){const e=function ra1(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new rn(this._location.bucket,e);return new ao(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function ko1(n){return new ct(R1.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function are(n,e){if(n instanceof CN){const t=n;if(null==t._bucket)throw function Io1(){return new ct(R1.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ane+"' property when initializing the app?")}();const r=new ao(t,t._bucket);return null!=e?are(r,e):r}return void 0!==e?function ore(n,e){const t=function ia1(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new rn(n._location.bucket,t);return new ao(n.storage,r)}(n,e):n}function cre(n,e){const t=e?.[Ane];return null==t?null:rn.makeFromBucketSpec(t,n)}class CN{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=xne,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rn.makeFromBucketSpec(i,this._host):cre(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?rn.makeFromBucketSpec(this._url,e):cre(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return v(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return v(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ao(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Ro1(One());{const o=function Ko1(n,e,t,r,i,s,o=!0){const a=function Fne(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function Wo1(n,e){e&&(n["X-Firebase-GMPID"]=e)}(l,e),function Go1(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(l,t),function jo1(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,s),function qo1(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(l,r),new $o1(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return v(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const lre="@firebase/storage",fre="storage";function Ua1(n,e,t){return function Ha1(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Na1(n,new z3(e),t)}(n=u1(n),e,t)}function $a1(n){return function Ra1(n){n._throwIfRoot("deleteObject");const e=function va1(n,e){const r=S3(e.fullServerUrl(),n.host,n._protocol),a=new Ti(r,"DELETE",function o(c,l){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=P5(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Br)}(n=u1(n))}function Ga1(n,e){return function Fa1(n,e){if(e&&function Oa1(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof CN)return function Pa1(n,e){return new ao(n,e)}(n,e);throw fN("To use ref(service, url), the first argument must be a Storage instance.")}return are(n,e)}(n=u1(n),e)}function ja1(n=fi(),e){const r=yn(n=u1(n),fre).getImmediate({identifier:e}),i=N9("storage");return i&&function Wa1(n,e,t,r={}){!function Ba1(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:Ey(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function qa1(n,e){return function Va1(n,e){n._throwIfRoot("getBlob");const t=function Zne(n,e,t){const i=S3(e.fullServerUrl(),n.host,n._protocol)+"?alt=media",a=new Ti(i,"GET",(c,l)=>l,n.maxOperationRetryTime);return a.errorHandler=P5(e),void 0!==t&&(a.headers.Range=`bytes=0-${t}`,a.successCodes=[200,206]),a}(n.storage,n._location,e);return n.storage.makeRequestWithTokens(t,Ta1).then(r=>void 0!==e?r.slice(0,e):r)}(n=u1(n),e)}function Ka1(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new CN(t,r,i,e,c3)}!function Ya1(){Xt(new Pt(fre,Ka1,"PUBLIC").setMultipleInstances(!0)),Ge(lre,"0.11.2",""),Ge(lre,"0.11.2","esm2017")}();class vh{constructor(e){return e}}const bN=new te("angularfire2.storage-instances");function Xa1(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vh(r)}}const Ja1={provide:class Qa1{constructor(){return mi("storage")}},deps:[[new Ze,bN]]},ec1={provide:vh,useFactory:function Za1(n,e){const t=pi("storage",n,e);return t&&new vh(t)},deps:[[new Ze,bN],$n]};let tc1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[ec1,Ja1]}),n})();function nc1(n,...e){return{ngModule:tc1,providers:[{provide:bN,useFactory:Xa1(n),multi:!0,deps:[Ce,T1,gi,vi,[new Ze,z8],[new Ze,ac],...e]}]}}const hre=X1($a1,!0),rc1=X1(qa1,!0),pre=X1(ja1,!0),_h=X1(Ga1,!0),ic1=X1(Ua1,!0);function mre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ie(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?mre(Object(t),!0).forEach(function(r){t2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yh(n){return(yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function gre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function t2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MN(n,e){return function lc1(n){if(Array.isArray(n))return n}(n)||function fc1(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,a,r=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=t.return&&t.return()}finally{if(s)throw a}}return r}}(n,e)||vre(n,e)||function hc1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B5(n){return function cc1(n){if(Array.isArray(n))return wN(n)}(n)||function uc1(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||vre(n)||function dc1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vre(n,e){if(n){if("string"==typeof n)return wN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wN(n,e)}}function wN(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var _re=function(){},SN={},yre={},Cre=null,bre={mark:_re,measure:_re};try{typeof window<"u"&&(SN=window),typeof document<"u"&&(yre=document),typeof MutationObserver<"u"&&(Cre=MutationObserver),typeof performance<"u"&&(bre=performance)}catch{}var Mh,wh,Sh,zh,Eh,Mre=(SN.navigator||{}).userAgent,wre=void 0===Mre?"":Mre,N4=SN,Y1=yre,Sre=Cre,bh=bre,E3=!!Y1.documentElement&&!!Y1.head&&"function"==typeof Y1.addEventListener&&"function"==typeof Y1.createElement,zre=~wre.indexOf("MSIE")||~wre.indexOf("Trident/"),T3="___FONT_AWESOME___",zN=16,Ere="fa",Tre="svg-inline--fa",co="data-fa-i2svg",EN="data-fa-pseudo-element",mc1="data-fa-pseudo-element-pending",TN="data-prefix",NN="data-icon",Nre="fontawesome-i2svg",gc1="async",vc1=["HTML","HEAD","STYLE","SCRIPT"],Dre=function(){try{return!0}catch{return!1}}(),Q1="classic",Mt="sharp",DN=[Q1,Mt];function U5(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[Q1]}})}var $5=U5((t2(Mh={},Q1,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),t2(Mh,Mt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Mh)),G5=U5((t2(wh={},Q1,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),t2(wh,Mt,{solid:"fass",regular:"fasr",light:"fasl"}),wh)),j5=U5((t2(Sh={},Q1,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),t2(Sh,Mt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Sh)),_c1=U5((t2(zh={},Q1,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),t2(zh,Mt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),zh)),yc1=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,Vre="fa-layers-text",Cc1=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,bc1=U5((t2(Eh={},Q1,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),t2(Eh,Mt,{900:"fass",400:"fasr",300:"fasl"}),Eh)),Hre=[1,2,3,4,5,6,7,8,9,10],Mc1=Hre.concat([11,12,13,14,15,16,17,18,19,20]),wc1=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],lo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},W5=new Set;Object.keys(G5[Q1]).map(W5.add.bind(W5)),Object.keys(G5[Mt]).map(W5.add.bind(W5));var Sc1=[].concat(DN,B5(W5),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",lo.GROUP,lo.SWAP_OPACITY,lo.PRIMARY,lo.SECONDARY]).concat(Hre.map(function(n){return"".concat(n,"x")})).concat(Mc1.map(function(n){return"w-".concat(n)})),q5=N4.FontAwesomeConfig||{};Y1&&"function"==typeof Y1.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=MN(n,2),r=e[1],i=function Ec1(n){return""===n||"false"!==n&&("true"===n||n)}(function zc1(n){var e=Y1.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(q5[r]=i)});var Ire={styleDefault:"solid",familyDefault:"classic",cssPrefix:Ere,replacementClass:Tre,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};q5.familyPrefix&&(q5.cssPrefix=q5.familyPrefix);var Zc=ie(ie({},Ire),q5);Zc.autoReplaceSvg||(Zc.observeMutations=!1);var ue={};Object.keys(Ire).forEach(function(n){Object.defineProperty(ue,n,{enumerable:!0,set:function(t){Zc[n]=t,K5.forEach(function(r){return r(ue)})},get:function(){return Zc[n]}})}),Object.defineProperty(ue,"familyPrefix",{enumerable:!0,set:function(e){Zc.cssPrefix=e,K5.forEach(function(t){return t(ue)})},get:function(){return Zc.cssPrefix}}),N4.FontAwesomeConfig=ue;var K5=[],D4=zN,Di={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Vc1="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Y5(){for(var n=12,e="";n-- >0;)e+=Vc1[62*Math.random()|0];return e}function Xc(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function VN(n){return n.classList?Xc(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function xre(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Th(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function HN(n){return n.size!==Di.size||n.x!==Di.x||n.y!==Di.y||n.rotate!==Di.rotate||n.flipX||n.flipY}var Ac1=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Are(){var n=Ere,e=Tre,t=ue.cssPrefix,r=ue.replacementClass,i=Ac1;if(t!==n||r!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(r))}return i}var Lre=!1;function IN(){ue.autoAddCss&&!Lre&&(function Dc1(n){if(n&&E3){var e=Y1.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Y1.head.childNodes,r=null,i=t.length-1;i>-1;i--){var s=t[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Y1.head.insertBefore(e,r)}}(Are()),Lre=!0)}var Lc1={mixout:function(){return{dom:{css:Are,insertCss:IN}}},hooks:function(){return{beforeDOMElementCreation:function(){IN()},beforeI2svg:function(){IN()}}}},N3=N4||{};N3[T3]||(N3[T3]={}),N3[T3].styles||(N3[T3].styles={}),N3[T3].hooks||(N3[T3].hooks={}),N3[T3].shims||(N3[T3].shims=[]);var Ur=N3[T3],kre=[],Nh=!1;function Q5(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,s=void 0===i?[]:i;return"string"==typeof n?xre(n):"<".concat(e," ").concat(function Hc1(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(xre(n[t]),'" ')},"").trim()}(r),">").concat(s.map(Q5).join(""),"</").concat(e,">")}function Rre(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}E3&&((Nh=(Y1.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Y1.readyState))||Y1.addEventListener("DOMContentLoaded",function n(){Y1.removeEventListener("DOMContentLoaded",n),Nh=1,kre.map(function(e){return e()})}));var xN=function(e,t,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,t){return function(r,i,s,o){return e.call(t,r,i,s,o)}}(t,i):t;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function AN(n){var e=function Pc1(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function Ore(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function LN(n,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=Ore(e);"function"!=typeof Ur.hooks.addPack||i?Ur.styles[n]=ie(ie({},Ur.styles[n]||{}),s):Ur.hooks.addPack(n,Ore(e)),"fas"===n&&LN("fa",e)}var Dh,Vh,Hh,Jc=Ur.styles,Bc1=Ur.shims,Uc1=(t2(Dh={},Q1,Object.values(j5[Q1])),t2(Dh,Mt,Object.values(j5[Mt])),Dh),kN=null,Pre={},Fre={},Bre={},Ure={},$re={},$c1=(t2(Vh={},Q1,Object.keys($5[Q1])),t2(Vh,Mt,Object.keys($5[Mt])),Vh);var Gre=function(){var e=function(s){return xN(Jc,function(o,a,c){return o[c]=xN(a,s,{}),o},{})};Pre=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),Fre=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),$re=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var t="far"in Jc||ue.autoFetchSvg,r=xN(Bc1,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!t&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});Bre=r.names,Ure=r.unicodes,kN=Ih(ue.styleDefault,{family:ue.familyDefault})};function RN(n,e){return(Pre[n]||{})[e]}function uo(n,e){return($re[n]||{})[e]}function jre(n){return Bre[n]||{prefix:null,iconName:null}}function V4(){return kN}(function Nc1(n){K5.push(n)})(function(n){kN=Ih(n.styleDefault,{family:ue.familyDefault})}),Gre();var ON=function(){return{prefix:null,iconName:null,rest:[]}};function Ih(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===t?Q1:t;return G5[r][n]||G5[r][$5[r][n]]||(n in Ur.styles?n:null)||null}var Wre=(t2(Hh={},Q1,Object.keys(j5[Q1])),t2(Hh,Mt,Object.keys(j5[Mt])),Hh);function xh(n){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(t2(e={},Q1,"".concat(ue.cssPrefix,"-").concat(Q1)),t2(e,Mt,"".concat(ue.cssPrefix,"-").concat(Mt)),e),o=null,a=Q1;(n.includes(s[Q1])||n.some(function(l){return Wre[Q1].includes(l)}))&&(a=Q1),(n.includes(s[Mt])||n.some(function(l){return Wre[Mt].includes(l)}))&&(a=Mt);var c=n.reduce(function(l,u){var f=function jc1(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function Gc1(n){return~Sc1.indexOf(n)}(i)?null:i}(ue.cssPrefix,u);if(Jc[u]?(u=Uc1[a].includes(u)?_c1[a][u]:u,o=u,l.prefix=u):$c1[a].indexOf(u)>-1?(o=u,l.prefix=Ih(u,{family:a})):f?l.iconName=f:u!==ue.replacementClass&&u!==s[Q1]&&u!==s[Mt]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===o?jre(l.iconName):{},h=uo(l.prefix,l.iconName);d.prefix&&(o=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!Jc.far&&Jc.fas&&!ue.autoFetchSvg&&(l.prefix="fas")}return l},ON());return(n.includes("fa-brands")||n.includes("fab"))&&(c.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===Mt&&(Jc.fass||ue.autoFetchSvg)&&(c.prefix="fass",c.iconName=uo(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=V4()||"fas"),c}var Kc1=function(){function n(){(function sc1(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function oc1(n,e,t){e&&gre(n.prototype,e),t&&gre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){t.definitions[a]=ie(ie({},t.definitions[a]||{}),o[a]),LN(a,o[a]);var c=j5[Q1][a];c&&LN(c,o[a]),Gre()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];t[a]||(t[a]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(t[a][f]=l)}),t[a][c]=l}),t}}]),n}(),qre=[],e6={},t6={},Yc1=Object.keys(t6);function PN(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return(e6[n]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function fo(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(e6[n]||[]).forEach(function(s){s.apply(null,t)})}function D3(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return t6[n]?t6[n].apply(null,e):void 0}function FN(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||V4();if(e)return e=uo(t,e)||e,Rre(Kre.definitions,t,e)||Rre(Ur.styles,t,e)}var Kre=new Kc1,Xc1={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E3?(fo("beforeI2svg",e),D3("pseudoElements2svg",e),D3("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===ue.autoReplaceSvg&&(ue.autoReplaceSvg=!0),ue.observeMutations=!0,function Rc1(n){E3&&(Nh?setTimeout(n,0):kre.push(n))}(function(){e61({autoReplaceSvgRoot:t}),fo("watch",e)})}},qn={noAuto:function(){ue.autoReplaceSvg=!1,ue.observeMutations=!1,fo("noAuto")},config:ue,dom:Xc1,parse:{icon:function(e){if(null===e)return null;if("object"===yh(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:uo(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Ih(e[0]);return{prefix:r,iconName:uo(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(ue.cssPrefix,"-"))>-1||e.match(yc1))){var i=xh(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||V4(),iconName:uo(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=V4();return{prefix:s,iconName:uo(s,e)||e}}}},library:Kre,findIconDefinition:FN,toHtml:Q5},e61=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===t?Y1:t;(Object.keys(Ur.styles).length>0||ue.autoFetchSvg)&&E3&&ue.autoReplaceSvg&&qn.dom.i2svg({node:r})};function Ah(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Q5(r)})}}),Object.defineProperty(n,"node",{get:function(){if(E3){var r=Y1.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function BN(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,s=n.iconName,o=n.transform,a=n.symbol,c=n.title,l=n.maskId,u=n.titleId,f=n.extra,d=n.watchable,h=void 0!==d&&d,p=r.found?r:t,m=p.width,g=p.height,_="fak"===i,b=[ue.replacementClass,s?"".concat(ue.cssPrefix,"-").concat(s):""].filter(function(Ee){return-1===f.classes.indexOf(Ee)}).filter(function(Ee){return""!==Ee||!!Ee}).concat(f.classes).join(" "),y={children:[],attributes:ie(ie({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:b,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},T=_&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};h&&(y.attributes[co]=""),c&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(u||Y5())},children:[c]}),delete y.attributes.title);var A=ie(ie({},y),{},{prefix:i,iconName:s,main:t,mask:r,maskId:l,transform:o,symbol:a,styles:ie(ie({},T),f.styles)}),k=r.found&&t.found?D3("generateAbstractMask",A)||{children:[],attributes:{}}:D3("generateAbstractIcon",A)||{children:[],attributes:{}},de=k.attributes;return A.children=k.children,A.attributes=de,a?function n61(n){var t=n.iconName,r=n.children,i=n.attributes,s=n.symbol,o=!0===s?"".concat(n.prefix,"-").concat(ue.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ie(ie({},i),{},{id:o}),children:r}]}]}(A):function t61(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,s=n.styles,o=n.transform;if(HN(o)&&t.found&&!r.found){var l={x:t.width/t.height/2,y:.5};i.style=Th(ie(ie({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(A)}function Yre(n){var e=n.content,t=n.width,r=n.height,i=n.transform,s=n.title,o=n.extra,a=n.watchable,c=void 0!==a&&a,l=ie(ie(ie({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[co]="");var u=ie({},o.styles);HN(i)&&(u.transform=function xc1(n){var e=n.transform,t=n.width,i=n.height,s=void 0===i?zN:i,o=n.startCentered,a=void 0!==o&&o,c="";return c+=a&&zre?"translate(".concat(e.x/D4-(void 0===t?zN:t)/2,"em, ").concat(e.y/D4-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/D4,"em), calc(-50% + ").concat(e.y/D4,"em)) "):"translate(".concat(e.x/D4,"em, ").concat(e.y/D4,"em) "),(c+="scale(".concat(e.size/D4*(e.flipX?-1:1),", ").concat(e.size/D4*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),u["-webkit-transform"]=u.transform);var f=Th(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var UN=Ur.styles;function $N(n){var e=n[0],t=n[1],s=MN(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(ue.cssPrefix,"-").concat(lo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ue.cssPrefix,"-").concat(lo.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(ue.cssPrefix,"-").concat(lo.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var i61={found:!1,width:512,height:512};function GN(n,e){var t=e;return"fa"===e&&null!==ue.styleDefault&&(e=V4()),new Promise(function(r,i){if(D3("missingIconAbstract"),"fa"===t){var o=jre(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&UN[e]&&UN[e][n])return r($N(UN[e][n]));(function s61(n,e){!Dre&&!ue.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(ie(ie({},i61),{},{icon:ue.showMissingIcons&&n&&D3("missingIconAbstract")||{}}))})}var Qre=function(){},jN=ue.measurePerformance&&bh&&bh.mark&&bh.measure?bh:{mark:Qre,measure:Qre},Z5='FA "6.4.0"',Zre=function(e){jN.mark("".concat(Z5," ").concat(e," ends")),jN.measure("".concat(Z5," ").concat(e),"".concat(Z5," ").concat(e," begins"),"".concat(Z5," ").concat(e," ends"))},WN={begin:function(e){return jN.mark("".concat(Z5," ").concat(e," begins")),function(){return Zre(e)}},end:Zre},Lh=function(){};function Xre(n){return"string"==typeof(n.getAttribute?n.getAttribute(co):null)}function u61(n){return Y1.createElementNS("http://www.w3.org/2000/svg",n)}function f61(n){return Y1.createElement(n)}function Jre(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===t?"svg"===n.tag?u61:f61:t;if("string"==typeof n)return Y1.createTextNode(n);var i=r(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(Jre(o,{ceFn:r}))}),i}var kh={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(Jre(i),t)}),null===t.getAttribute(co)&&ue.keepOriginalSource){var r=Y1.createComment(function d61(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~VN(t).indexOf(ue.replacementClass))return kh.replace(e);var i=new RegExp("".concat(ue.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===ue.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Q5(a)}).join("\n");t.setAttribute(co,""),t.innerHTML=o}};function eie(n){n()}function tie(n,e){var t="function"==typeof e?e:Lh;if(0===n.length)t();else{var r=eie;ue.mutateApproach===gc1&&(r=N4.requestAnimationFrame||eie),r(function(){var i=function l61(){return!0===ue.autoReplaceSvg?kh.replace:kh[ue.autoReplaceSvg]||kh.replace}(),s=WN.begin("mutate");n.map(i),s(),t()})}}var qN=!1;function nie(){qN=!0}function KN(){qN=!1}var Rh=null;function rie(n){if(Sre&&ue.observeMutations){var e=n.treeCallback,t=void 0===e?Lh:e,r=n.nodeCallback,i=void 0===r?Lh:r,s=n.pseudoElementsCallback,o=void 0===s?Lh:s,a=n.observeMutationsRoot,c=void 0===a?Y1:a;Rh=new Sre(function(l){if(!qN){var u=V4();Xc(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!Xre(f.addedNodes[0])&&(ue.searchPseudoElements&&o(f.target),t(f.target)),"attributes"===f.type&&f.target.parentNode&&ue.searchPseudoElements&&o(f.target.parentNode),"attributes"===f.type&&Xre(f.target)&&~wc1.indexOf(f.attributeName))if("class"===f.attributeName&&function a61(n){var e=n.getAttribute?n.getAttribute(TN):null,t=n.getAttribute?n.getAttribute(NN):null;return e&&t}(f.target)){var d=xh(VN(f.target)),p=d.iconName;f.target.setAttribute(TN,d.prefix||u),p&&f.target.setAttribute(NN,p)}else(function c61(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(ue.replacementClass)})(f.target)&&i(f.target)})}}),E3&&Rh.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function iie(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function m61(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=xh(VN(n));return i.prefix||(i.prefix=V4()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function Wc1(n,e){return(Fre[n]||{})[e]}(i.prefix,n.innerText)||RN(i.prefix,AN(n.innerText))),!i.iconName&&ue.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}(n),r=t.iconName,i=t.prefix,s=t.rest,o=function g61(n){var e=Xc(n.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return ue.autoA11y&&(t?e["aria-labelledby"]="".concat(ue.replacementClass,"-title-").concat(r||Y5()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),a=PN("parseNodeAttributes",{},n),c=e.styleParser?function p61(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),t}(n):[];return ie({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Di,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var _61=Ur.styles;function sie(n){var e="nest"===ue.autoReplaceSvg?iie(n,{styleParser:!1}):iie(n);return~e.extra.classes.indexOf(Vre)?D3("generateLayersText",n,e):D3("generateSvgReplacementMutation",n,e)}var H4=new Set;function oie(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!E3)return Promise.resolve();var t=Y1.documentElement.classList,r=function(f){return t.add("".concat(Nre,"-").concat(f))},i=function(f){return t.remove("".concat(Nre,"-").concat(f))},s=ue.autoFetchSvg?H4:DN.map(function(u){return"fa-".concat(u)}).concat(Object.keys(_61));s.includes("fa")||s.push("fa");var o=[".".concat(Vre,":not([").concat(co,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(co,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Xc(n.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=WN.begin("onTree"),l=a.reduce(function(u,f){try{var d=sie(f);d&&u.push(d)}catch(h){Dre||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){tie(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(d){c(),f(d)})})}function y61(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;sie(n).then(function(t){t&&tie([t],e)})}function C61(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:FN(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:FN(i||{})),n(r,ie(ie({},t),{},{mask:i}))}}DN.map(function(n){H4.add("fa-".concat(n))}),Object.keys($5[Q1]).map(H4.add.bind(H4)),Object.keys($5[Mt]).map(H4.add.bind(H4)),H4=B5(H4);var b61=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?Di:r,s=t.symbol,o=void 0!==s&&s,a=t.mask,c=void 0===a?null:a,l=t.maskId,u=void 0===l?null:l,f=t.title,d=void 0===f?null:f,h=t.titleId,p=void 0===h?null:h,m=t.classes,g=void 0===m?[]:m,_=t.attributes,b=void 0===_?{}:_,y=t.styles,T=void 0===y?{}:y;if(e){var A=e.prefix,k=e.iconName,J=e.icon;return Ah(ie({type:"icon"},e),function(){return fo("beforeDOMElementCreation",{iconDefinition:e,params:t}),ue.autoA11y&&(d?b["aria-labelledby"]="".concat(ue.replacementClass,"-title-").concat(p||Y5()):(b["aria-hidden"]="true",b.focusable="false")),BN({icons:{main:$N(J),mask:c?$N(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:A,iconName:k,transform:ie(ie({},Di),i),symbol:o,title:d,maskId:u,titleId:p,extra:{attributes:b,styles:T,classes:g}})})}},M61={mixout:function(){return{icon:C61(b61)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=oie,t.nodeCallback=y61,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,s=t.callback;return oie(void 0===r?Y1:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([GN(i,a),u.iconName?GN(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var g=MN(m,2);h([t,BN({icons:{main:g[0],mask:g[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(t){var l,r=t.children,i=t.attributes,s=t.main,o=t.transform,c=Th(t.styles);return c.length>0&&(i.style=c),HN(o)&&(l=D3("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},w61={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return Ah({type:"layer"},function(){fo("beforeDOMElementCreation",{assembler:t,params:r});var o=[];return t(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(ue.cssPrefix,"-layers")].concat(B5(s)).join(" ")},children:o}]})}}}},S61={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,f=void 0===u?{}:u;return Ah({type:"counter",content:t},function(){return fo("beforeDOMElementCreation",{content:t,params:r}),function r61(n){var e=n.content,t=n.title,r=n.extra,i=ie(ie(ie({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),s=Th(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}({content:t.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(ue.cssPrefix,"-layers-counter")].concat(B5(a))}})})}}}},z61={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Di:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return Ah({type:"text",content:t},function(){return fo("beforeDOMElementCreation",{content:t,params:r}),Yre({content:t,transform:ie(ie({},Di),s),title:a,extra:{attributes:f,styles:h,classes:["".concat(ue.cssPrefix,"-layers-text")].concat(B5(l))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(zre){var l=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();a=u.width/l,c=u.height/l}return ue.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,Yre({content:t.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},E61=new RegExp('"',"ug"),aie=[1105920,1112319];function cie(n,e){var t="".concat(mc1).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var o=Xc(n.children).filter(function(J){return J.getAttribute(EN)===e})[0],a=N4.getComputedStyle(n,e),c=a.getPropertyValue("font-family").match(Cc1),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return n.removeChild(o),r();if(c&&"none"!==u&&""!==u){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?Mt:Q1,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?G5[d][c[2].toLowerCase()]:bc1[d][l],p=function T61(n){var e=n.replace(E61,""),t=function Fc1(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=aie[0]&&t<=aie[1],i=2===e.length&&e[0]===e[1];return{value:AN(i?e[0]:e),isSecondary:r||i}}(f),m=p.value,g=p.isSecondary,_=c[0].startsWith("FontAwesome"),b=RN(h,m),y=b;if(_){var T=function qc1(n){var e=Ure[n],t=RN("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(m);T.iconName&&T.prefix&&(b=T.iconName,h=T.prefix)}if(!b||g||o&&o.getAttribute(TN)===h&&o.getAttribute(NN)===y)r();else{n.setAttribute(t,y),o&&n.removeChild(o);var A=function v61(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Di,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),k=A.extra;k.attributes[EN]=e,GN(b,h).then(function(J){var de=BN(ie(ie({},A),{},{icons:{main:J,mask:ON()},prefix:h,iconName:y,extra:k,watchable:!0})),Ee=Y1.createElement("svg");"::before"===e?n.insertBefore(Ee,n.firstChild):n.appendChild(Ee),Ee.outerHTML=de.map(function(l1){return Q5(l1)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function N61(n){return Promise.all([cie(n,"::before"),cie(n,"::after")])}function D61(n){return!(n.parentNode===document.head||~vc1.indexOf(n.tagName.toUpperCase())||n.getAttribute(EN)||n.parentNode&&"svg"===n.parentNode.tagName)}function lie(n){if(E3)return new Promise(function(e,t){var r=Xc(n.querySelectorAll("*")).filter(D61).map(N61),i=WN.begin("searchPseudoElements");nie(),Promise.all(r).then(function(){i(),KN(),e()}).catch(function(){i(),KN(),t()})})}var uie=!1,fie=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},YN={x:0,y:0,width:"100%",height:"100%"};function die(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function x61(n){return"g"===n.tag?n.children:[n]}var A61={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),s=i?xh(i.split(" ").map(function(o){return o.trim()})):ON();return s.prefix||(s.prefix=V4()),t.mask=s,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,s=t.main,o=t.mask,a=t.maskId,u=s.icon,d=o.icon,h=function Ic1(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:ie(ie({},YN),{},{fill:"white"})},m=u.children?{children:u.children.map(die)}:{},g={tag:"g",attributes:ie({},h.inner),children:[die(ie({tag:u.tag,attributes:ie(ie({},u.attributes),h.path)},m))]},_={tag:"g",attributes:ie({},h.outer),children:[g]},b="mask-".concat(a||Y5()),y="clip-".concat(a||Y5()),T={tag:"mask",attributes:ie(ie({},YN),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:x61(d)},T]};return r.push(A,{tag:"rect",attributes:ie({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(b,")")},YN)}),{children:r,attributes:i}}}};!function Qc1(n,e){var t=e.mixoutsTo;qre=n,e6={},Object.keys(t6).forEach(function(r){-1===Yc1.indexOf(r)&&delete t6[r]}),qre.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(t[o]=i[o]),"object"===yh(i[o])&&Object.keys(i[o]).forEach(function(a){t[o]||(t[o]={}),t[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){e6[o]||(e6[o]=[]),e6[o].push(s[o])})}r.provides&&r.provides(t6)})}([Lc1,M61,w61,S61,z61,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=lie,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;ue.searchPseudoElements&&lie(void 0===r?Y1:r)}}},{mixout:function(){return{dom:{unwatch:function(){nie(),uie=!0}}}},hooks:function(){return{bootstrap:function(){rie(PN("mutationObserverCallbacks",{}))},noAuto:function(){!function h61(){Rh&&Rh.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;uie?KN():rie(PN("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return fie(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=fie(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,o=t.iconWidth,a={transform:"translate(".concat(t.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:ie({},h.outer),children:[{tag:"g",attributes:ie({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ie(ie({},r.icon.attributes),h.path)}]}]}}}},A61,{provides:function(e){var t=!1;N4.matchMedia&&(t=N4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ie(ie({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ie(ie({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ie(ie({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:ie(ie({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:ie(ie({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:ie(ie({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ie(ie({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:qn});var O61=qn.parse,P61=qn.icon;const F61=["*"],$61=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let W61=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q61=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K61=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[U1]}),n})(),Y61=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(C(Q2),C(i1))},n.\u0275cmp=n1({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[U1],ngContentSelectors:F61,decls:1,vars:0,template:function(t,r){1&t&&(_a(),ya(0))},encapsulation:2}),n})(),hie=(()=>{class n{constructor(t,r,i,s,o){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=s,this.classes=[],null!=o&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const s=this.buildParams();this.renderIcon(i,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?O61.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...$61(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=P61(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(C(nO),C(W61),C(q61),C(K61,8),C(Y61,8))},n.\u0275cmp=n1({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(pn("innerHTML",r.renderedIconHTML,mx),Ye("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[U1],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),Q61=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();function Z61(n,e){if(1&n&&(ar(0),M(1,"div",10)(2,"button",11),ce(3,"fa-icon",12),w()(),cr()),2&n){const t=L();V(3),D("icon",t.faPlus)}}function X61(n,e){if(1&n){const t=v1();ar(0),M(1,"a",19),ne("click",function(){Me(t);const i=L().$implicit;return we(L().editThesis(i.id))}),ce(2,"fa-icon",20),w(),M(3,"a",19),ne("click",function(){Me(t);const i=L().$implicit;return we(L().deleteThesis(i.id))}),ce(4,"fa-icon",21),w(),cr()}if(2&n){const t=L(2);V(2),D("icon",t.faPenToSquare),V(2),D("icon",t.faTrashCan)}}function J61(n,e){if(1&n){const t=v1();M(0,"div",10)(1,"div",13),ce(2,"img",14),M(3,"div",15)(4,"h5",16),I(5),w(),M(6,"p",17),I(7),w(),M(8,"div",18)(9,"a",19),ne("click",function(){const s=Me(t).$implicit;return we(L().downloadFromUrl(s.pdfRef))}),ce(10,"fa-icon",20),w(),B(11,X61,5,2,"ng-container",8),w()()()()}if(2&n){const t=e.$implicit,r=L();V(5),P2(t.title),V(2),P2(t.description),V(3),D("icon",r.faFilePdf),V(1),D("ngIf",r.isLogged)}}let e01=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.faFilePdf=pT,this.faPenToSquare=qd,this.faTrashCan=Wd,this.faPlus=lh,this.destroyed$=new qe,this.isLogged=!1,this.firestore=Fe(V5),this.storage=pre();const i=RY(this.firestore,"thesis-proposals");this.thesis$=kY(i,{idField:"id"})}ngOnInit(){this.userService.loggedSubject.pipe(N1(this.destroyed$)).subscribe(t=>{this.isLogged=t})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}downloadFromUrl(t){const r=_h(this.storage,t);rc1(r).then(i=>{const s=URL.createObjectURL(i);window.open(s)}).catch(i=>{})}editThesis(t){const r=lT(this.firestore,"thesis-proposals/"+t);OY(r).then(i=>{const s=i.data();this.router.navigate(["thesis-proposals/thesis-form"],{queryParams:{id:t,docObj:JSON.stringify(s)}})})}deleteThesis(t){const r=lT(this.firestore,"thesis-proposals/"+t);OY(r).then(i=>{const s=i.data();if(s?.pdfRef){const o=_h(this.storage,s.pdfRef);hre(o).then(()=>{}).catch(a=>{console.log("PDF delete unsuccessful.")})}if(s?.imgRef){const o=_h(this.storage,s?.imgRef);hre(o).then(()=>{}).catch(a=>{console.log("Img delete unsuccessful.")})}Fxe(r).then(()=>{}).catch(o=>{console.log("Document delete unsuccessful.")})})}}return n.\u0275fac=function(t){return new(t||n)(C(Fa),C(r2))},n.\u0275cmp=n1({type:n,selectors:[["app-thesis-proposals"]],decls:12,vars:4,consts:[["data-ride","carousel",1,"carousel","slide","carousel-top","mb-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/carousel/silicon_banner.webp","alt","First slide",1,"d-block","w-100","carousel-item-crop"],[1,"container","mt-5"],[1,"row","justify-content-start"],[1,"fs-3","pb-3"],[1,"row","justify-content-left"],[4,"ngIf"],["class","col col-12 col-sm-12 col-md-4 text-container px-lg-2 mb-5",4,"ngFor","ngForOf"],[1,"col","col-12","col-sm-12","col-md-4","text-container","px-lg-2","mb-5"],["type","button","routerLink","thesis-form",1,"btn","btn-outline-primary","btn-custom","border-custom","w-100","h-100"],["size","3x",3,"icon"],[1,"card","border-primary","border-custom"],["src","assets/logos/Loghi_Proposte/ulab_logo_Pr_3.1_3colors.png","alt","uLab logo","loading","lazy",1,"card-img-top","px-2","pt-2"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-end","mx-2"],[3,"click"],["size","3x",1,"icon-custom","ms-2",3,"icon"],["size","3x",1,"icon-custom","icon-trash","ms-2",3,"icon"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),w()()(),M(4,"div",4)(5,"div",5)(6,"h1",6),I(7,"Thesis proposal"),w()(),M(8,"div",7),B(9,Z61,4,1,"ng-container",8),B(10,J61,12,4,"div",9),K7(11,"async"),w()()),2&t&&(V(9),D("ngIf",r.isLogged),V(1),D("ngForOf",Y7(11,2,r.thesis$)))},dependencies:[kn,Kt,n3,hie,ER],styles:[".card-title[_ngcontent-%COMP%]{color:#133066;font-size:1.25rem}"]}),n})();function t01(n,e){1&n&&(ar(0),ce(1,"asl-google-signin-button",6),cr())}function n01(n,e){if(1&n&&(M(0,"button",7)(1,"span",8),I(2),w(),ce(3,"img",9),w(),M(4,"h4",10),I(5," You can now edit "),M(6,"a",11),I(7,"thesis proposals"),w(),I(8," section. "),w()),2&n){const t=L();V(2),ii("Logged in as ",t.user.name,""),V(1),D("src",t.user.photoUrl,ts)}}let r01=(()=>{class n{constructor(t,r){this.authService=t,this.userService=r,this.user=new W0,this.isLogged=!1,this.destroyed$=new qe}ngOnInit(){this.userService.loggedSubject.subscribe(t=>{this.isLogged=t,this.isLogged&&(this.user=this.userService.getCurrentUser())}),this.authService.authState.subscribe(t=>{this.userService.saveUserData(t)})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(C(n9),C(Fa))},n.\u0275cmp=n1({type:n,selectors:[["app-admin-login"]],decls:10,vars:2,consts:[[1,"container","mt-5","mb-5"],[1,"row","row","justify-content-center"],[1,"col","col-12","col-sm-12","col-md-6","text-container","px-lg-5","align-self-center"],[1,"row","justify-content-center"],[4,"ngIf","ngIfElse"],["loggedBlock",""],["type","standard","size","large"],["id","btn-logged","type","button","disabled","",1,"btn","btn-outline-primary"],[1,"mx-2"],["alt","Avatar",1,"avatar",3,"src"],[1,"mt-3"],["routerLink","/thesis-proposals"]],template:function(t,r){if(1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),I(5," In order to access to your admin privileges, login using your Google or UniBG account, please "),w()(),M(6,"div",3),B(7,t01,2,0,"ng-container",4),B(8,n01,9,2,"ng-template",null,5,kt),w()()()()),2&t){const i=$1(9);V(7),D("ngIf",!r.isLogged)("ngIfElse",i)}},dependencies:[Kt,n3,sme],styles:[".avatar[_ngcontent-%COMP%]{vertical-align:middle;width:40px;height:40px;border-radius:50%;border:3px solid #0096ff}#btn-loged[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-right:0;border-radius:35px}"]}),n})(),pie=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}canActivate(t,r){return!!this.userService.loggedSubject.value||(this.router.navigate(["work-in-progress"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(O(Fa),O(r2))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i01=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-unauthorized"]],decls:14,vars:0,consts:[[1,"container","my-5"],[1,"row","justify-content-center"],[1,"col","col-12","col-sm-12","col-md-8","text-container","px-lg-6","align-self-center"],["routerLink","/home"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),I(4," Got Lost? "),ce(5,"br")(6,"br")(7,"br"),M(8,"small"),I(9," You are not authorized to access this section... "),ce(10,"br"),I(11," return to "),M(12,"a",3),I(13,"Home"),w()()()()()())},dependencies:[n3],styles:['@import"https://fonts.googleapis.com/css?family=Cabin+Sketch";h1[_ngcontent-%COMP%]{font-family:Cabin Sketch,cursive;font-size:3em;opacity:.8;order:1}h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.6em;display:block}']}),n})();class s01{constructor(e,t,r,i,s,o){this.id=e??"",this.title=t??"",this.imgRef=r??"",this.description=i??"",this.type=s??"",this.pdfRef=o??""}toPlainObj(){const e=Object.assign({},this);return delete e.id,e}}function o01(n,e){1&n&&(ar(0),M(1,"p",7),I(2," You are not authorized to edit this page! "),w(),cr())}const n6=function(n,e,t){return{"":n,"is-invalid":e,"is-valid":t}};function a01(n,e){if(1&n){const t=v1();M(0,"div",8),ce(1,"div",9),M(2,"div",10)(3,"div",11)(4,"h1",12),I(5,"Add new thesis proposal"),w()(),M(6,"form",13,14),ne("ngSubmit",function(){return Me(t),we(L().onSubmit())}),I(8),K7(9,"json"),M(10,"div",15)(11,"div",16)(12,"input",17,18),ne("ngModelChange",function(i){return Me(t),we(L().thesis.title=i)}),w(),M(14,"label",19),I(15,"Title"),w(),M(16,"div",20),I(17," Title is required. "),w(),M(18,"div",20),I(19," Title must be at least 8 characters long. "),w()(),M(20,"div",16)(21,"textarea",21,22),ne("ngModelChange",function(i){return Me(t),we(L().thesis.description=i)}),I(23,"              "),w(),M(24,"label",23),I(25,"Description"),w(),M(26,"div",20),I(27," Description is required. "),w(),M(28,"div",20),I(29," Description must be at least 20 characters long. "),w()(),M(30,"div",24)(31,"label",25),I(32,"Type of thesis:"),w(),M(33,"div",26)(34,"input",27,28),ne("ngModelChange",function(i){return Me(t),we(L().thesis.type=i)}),w(),M(36,"label",29),I(37," Bachelor thesis "),w()(),M(38,"div",26)(39,"input",30,28),ne("ngModelChange",function(i){return Me(t),we(L().thesis.type=i)})("ngModelChange",function(i){return Me(t),we(L().thesis.type=i)}),w(),M(41,"label",31),I(42," Master thesis "),w()(),M(43,"div",20),I(44," Type is required. "),w()(),M(45,"div",24)(46,"label",32),I(47,"Picture:"),w(),M(48,"input",33,34),ne("ngModelChange",function(i){return Me(t),we(L().imgBlob=i)})("change",function(i){return Me(t),we(L().onImgChange(i))}),w(),M(50,"div",20),I(51," Img must be png, jpg or jpeg. "),w()(),M(52,"div",24)(53,"label",35),I(54,"PDF:"),w(),M(55,"input",36,37),ne("ngModelChange",function(i){return Me(t),we(L().PDFBlob=i)})("change",function(i){return Me(t),we(L().onPDFChange(i))}),w(),M(57,"div",20),I(58," PDF is required. "),w()(),M(59,"div",38)(60,"button",39),I(61,"Submit form"),w()()()()(),ce(62,"div",9),w()}if(2&n){const t=$1(7),r=$1(13),i=$1(22),s=$1(35),o=$1(49),a=$1(56),c=L();V(8),ii(" ",Y7(9,22,c.thesis)," "),V(4),D("ngModel",c.thesis.title)("ngClass",Qi(24,n6,r.untouched,r.invalid&&(r.dirty||r.touched),r.valid)),V(4),D("hidden",r.valid),V(2),D("hidden",r.pristine),V(3),D("ngModel",c.thesis.description)("ngClass",Qi(28,n6,i.untouched,i.invalid&&(i.dirty||i.touched),i.valid)),V(5),D("hidden",i.valid),V(2),D("hidden",i.pristine),V(6),D("ngModel",c.thesis.type)("ngClass",Qi(32,n6,s.untouched,s.invalid&&(s.dirty||s.touched),s.valid)),V(5),D("ngModel",c.thesis.type)("ngModel",c.thesis.type)("ngClass",Qi(36,n6,s.untouched,s.invalid&&(s.dirty||s.touched),s.valid)),V(4),D("hidden",s.valid||s.pristine),V(5),D("ngModel",c.imgBlob)("ngClass",Qi(40,n6,o.untouched,!c.validImgFile,c.thesis.imgRef||c.validImgFile)),V(2),D("hidden",c.thesis.imgRef||c.validImgFile),V(5),D("ngModel",c.PDFBlob)("ngClass",Qi(44,n6,a.untouched,!c.validPDFFile&&(a.dirty||a.touched),c.thesis.pdfRef||a.valid&&c.validPDFFile)),V(2),D("hidden",c.thesis.pdfRef||a.valid&&c.validPDFFile||a.pristine),V(3),D("disabled",!c.manualValidForm&&!t.form.valid)}}const c01=[{path:"home",component:bCe},{path:"research-interest",component:MCe},{path:"thesis-proposals",children:[{path:"",component:e01,canActivate:[pie]},{path:"thesis-form",component:(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.route=i,this.faFilePdf=pT,this.faPenToSquare=qd,this.faTrashCan=Wd,this.faPlus=lh,this.destroyed$=new qe,this.isLogged=!1,this.firestore=Fe(V5),this.storage=Fe(vh),this.thesis=new s01,this.PDFBlob="",this.imgBlob="",this.validPDFFile=!1,this.validImgFile=!0,this.manualValidForm=!1,this.thesisCollection=RY(this.firestore,"thesis-proposals"),this.thesis$=kY(this.thesisCollection)}ngOnInit(){this.userService.loggedSubject.pipe(N1(this.destroyed$)).subscribe(r=>{this.isLogged=r}),this.route.queryParams.subscribe(r=>{this.thesis.id=r.id;const i=JSON.parse(r.docObj);this.thesis.title=i.title,this.thesis.description=i.description,this.thesis.imgRef=i.imgRef,this.thesis.pdfRef=i.pdfRef,this.thesis.type=i.type,this.manualValidForm=!0})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}uploadFile(t,r){const i=_h(this.storage,r+t.name);return ic1(i,t),i.toString()}onSubmit(){this.imgBlob&&(this.thesis.imgRef=this.uploadFile(this.imgBlob,"img/")),this.PDFBlob&&(this.thesis.pdfRef=this.uploadFile(this.PDFBlob,"pdf/"));const t=this.thesis.toPlainObj();if("id"in this.thesis){const r=lT(this.firestore,"thesis-proposals/"+this.thesis.id);console.log(this.thesis.pdfRef),Uxe(r,{title:this.thesis.title,description:this.thesis.description,imgRef:this.thesis.imgRef,pdfRef:this.thesis.pdfRef,type:this.thesis.type}).then(()=>{this.router.navigate(["/thesis-proposal"])})}else Pxe(this.thesisCollection,t).then(r=>{this.router.navigate(["/thesis-proposal"])})}onPDFChange(t){if(t.target.files.length>0){const r=t.target.files[0];r&&("application/pdf"!==r.type?this.validPDFFile=!1:(this.validPDFFile=!0,this.PDFBlob=r))}}onImgChange(t){if(t.target.files.length>0){console.log(t.target.files[0]);const r=t.target.files[0];r?"image/png"!==r.type&&"image/jpg"!==r.type&&"image/jpeg"!==r.type?this.validImgFile=!1:(this.validImgFile=!0,this.imgBlob=r):(this.validImgFile=!0,this.imgBlob="")}}}return n.\u0275fac=function(t){return new(t||n)(C(Fa),C(r2),C(vs))},n.\u0275cmp=n1({type:n,selectors:[["app-thesis-form"]],decls:8,vars:2,consts:[["data-ride","carousel",1,"carousel","slide","carousel-top","mb-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/carousel/silicon_banner.webp","alt","First slide",1,"d-block","w-100","carousel-item-crop"],[1,"container","mt-5"],[4,"ngIf","ngIfElse"],["loggedBlock",""],[1,"lead"],[1,"row","mb-5"],[1,"col-12","col-lg-3"],[1,"col-12","col-lg-6"],[1,"row","justify-content-start"],[1,"fs-3","pb-3"],["novalidate","",1,"needs-validation",3,"ngSubmit"],["thesisForm","ngForm"],[1,"fs-6"],[1,"form-floating","mb-3"],["type","text","id","title","placeholder","Title","required","","minlength","8","name","title",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["for","title"],[1,"invalid-tooltip",3,"hidden"],["type","text","id","description","placeholder","Description","required","","minlength","20","name","description",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["description","ngModel"],["for","description"],[1,"mb-3"],["for","radioType",1,"form-label"],[1,"form-check"],["type","radio","name","radioType","id","bachelor","value","bachelor","checked","","required","","name","type",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["type","ngModel"],["for","bachelor",1,"form-check-label"],["type","radio","name","radioType","id","master","value","master","required","","name","type",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","master",1,"form-check-label"],["for","img",1,"form-label"],["type","file","id","img","name","img",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["img","ngModel"],["for","pdf",1,"form-label"],["type","file","id","pdf","required","","name","pdf",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["pdf","ngModel"],[1,"col-12","mb-3"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,r){if(1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),w()()(),M(4,"div",4),B(5,o01,3,0,"ng-container",5),B(6,a01,63,48,"ng-template",null,6,kt),w()),2&t){const i=$1(7);V(5),D("ngIf",!r.isLogged)("ngIfElse",i)}},dependencies:[CR,Kt,WO,Cu,f_,HO,IO,Hu,__,u_,Vu,TR]}),n})(),canActivate:[pie]}]},{path:"work-in-progress",component:wCe},{path:"admin",component:r01},{path:"unauthorized",component:i01},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home",pathMatch:"full"}];let l01=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[bF.forRoot(c01,{useHash:!0,scrollPositionRestoration:"enabled",anchorScrolling:"enabled",scrollOffset:[0,25]}),bF]}),n})();function u01(n,e){1&n&&(ar(0),M(1,"a",15),I(2,"Thesis proposals"),w(),cr())}function f01(n,e){1&n&&(M(0,"a",16),I(1,"Thesis proposals"),w())}function d01(n,e){if(1&n){const t=v1();ar(0),ce(1,"div",18),M(2,"div",19)(3,"img",20),ne("click",function(){Me(t);const i=L(2);return we(i.showUserMenu=!i.showUserMenu)}),w()(),cr()}if(2&n){const t=L(2);V(3),D("src",t.currentUser.photoUrl,ts)}}function h01(n,e){if(1&n){const t=v1();ce(0,"div",21),M(1,"div",19)(2,"button",22)(3,"span",23),ne("click",function(){return Me(t),we(L(2).logout())}),I(4,"Logout"),w(),M(5,"img",20),ne("click",function(){Me(t);const i=L(2);return we(i.showUserMenu=!i.showUserMenu)}),w()()()}if(2&n){const t=L(2);V(5),D("src",t.currentUser.photoUrl,ts)}}function p01(n,e){if(1&n&&(ar(0),B(1,d01,4,1,"ng-container",11),B(2,h01,6,1,"ng-template",null,17,kt),cr()),2&n){const t=$1(3),r=L();V(1),D("ngIf",!r.showUserMenu)("ngIfElse",t)}}function m01(n,e){1&n&&ce(0,"div",24)}let g01=(()=>{class n{constructor(t){this.userService=t,this.collapsed=!0,this.isLogged=!1,this.destroyed$=new qe,this.showUserMenu=!1}ngOnInit(){this.userService.loggedSubject.pipe(N1(this.destroyed$)).subscribe(t=>{this.isLogged=t}),this.userService.currentUser$.pipe(N1(this.destroyed$)).subscribe(t=>this.currentUser=t)}logout(){this.showUserMenu=!1,this.userService.signOut()}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(C(Fa))},n.\u0275cmp=n1({type:n,selectors:[["app-navbar"]],decls:19,vars:7,consts:[["NgbDropdown","",1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","navbar-custom","px-3"],[1,"me-auto"],["routerLink","/home",1,"navbar-brand"],["src","assets/logos/Loghi_Proposte/ulab_logo_Pr_3.1_neg.png","height","40","alt","Microlab logo","loading","lazy",1,"me-2"],["NgbDropdownToggle","","type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"navbar-collapse"],[1,"navbar-nav","mx-auto"],["NgbDropdownItem","",1,"nav-item","active"],["routerLink","/research-interest",1,"nav-link","mx-2"],["NgbDropdownItem","",1,"nav-item"],[4,"ngIf","ngIfElse"],["WIP",""],[1,"navbar-nav"],["noAvatar",""],["routerLink","/thesis-proposals",1,"nav-link","mx-2"],["routerLink","/work-in-progress",1,"nav-link","mx-2"],["showMenu",""],[1,"ms-2",2,"width","91px"],[1,"ms-auto","me-2"],["alt","Avatar",1,"avatar",3,"src","click"],[1,"ms-2",2,"width","11px"],["id","btn-logout","type","button",1,"btn","btn-primary"],[1,"mx-2",3,"click"],[1,"ms-2",2,"width","111px"]],template:function(t,r){if(1&t&&(M(0,"nav",0)(1,"div",1)(2,"a",2),ce(3,"img",3),w()(),M(4,"button",4),ne("click",function(){return r.collapsed=!r.collapsed}),ce(5,"span",5),w(),M(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),I(10,"Research interest"),w()(),M(11,"li",10),B(12,u01,3,0,"ng-container",11),B(13,f01,2,0,"ng-template",null,12,kt),w()(),M(15,"ul",13),B(16,p01,4,2,"ng-container",11),B(17,m01,1,0,"ng-template",null,14,kt),w()()()),2&t){const i=$1(14),s=$1(18);V(4),Ye("aria-expanded",!r.collapsed),V(2),ye("collapse",r.collapsed),V(6),D("ngIf",r.isLogged)("ngIfElse",i),V(4),D("ngIf",r.isLogged&&r.currentUser)("ngIfElse",s)}},dependencies:[Kt,n3,wy],styles:[".navbar-custom[_ngcontent-%COMP%]{background-color:#133066}.navbar-custom[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#fff}.brand-custom[_ngcontent-%COMP%]{font-size:x-large;font-weight:700;color:#0096ff}a[_ngcontent-%COMP%]:hover{color:#fff}.navbar-nav[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;font-weight:400}.navbar-nav[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#0096ff;font-weight:400}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%]{background-color:#133066}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%] > .dropdown-item[_ngcontent-%COMP%]{color:#fff;transition:.2s ease-in-out}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%] > .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#133066;color:#0096ff;transition:.2s ease-in-out}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:40px;height:40px;border-radius:50%;border:3px solid #0096ff}#btn-logout[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-right:0;border-radius:35px}"]}),n})();var Die={prefix:"fab",iconName:"researchgate",icon:[448,512,[],"f4f8","M0 32v448h448V32H0zm262.2 334.4c-6.6 3-33.2 6-50-14.2-9.2-10.6-25.3-33.3-42.2-63.6-8.9 0-14.7 0-21.4-.6v46.4c0 23.5 6 21.2 25.8 23.9v8.1c-6.9-.3-23.1-.8-35.6-.8-13.1 0-26.1.6-33.6.8v-8.1c15.5-2.9 22-1.3 22-23.9V225c0-22.6-6.4-21-22-23.9V193c25.8 1 53.1-.6 70.9-.6 31.7 0 55.9 14.4 55.9 45.6 0 21.1-16.7 42.2-39.2 47.5 13.6 24.2 30 45.6 42.2 58.9 7.2 7.8 17.2 14.7 27.2 14.7v7.3zm22.9-135c-23.3 0-32.2-15.7-32.2-32.2V167c0-12.2 8.8-30.4 34-30.4s30.4 17.9 30.4 17.9l-10.7 7.2s-5.5-12.5-19.7-12.5c-7.9 0-19.7 7.3-19.7 19.7v26.8c0 13.4 6.6 23.3 17.9 23.3 14.1 0 21.5-10.9 21.5-26.8h-17.9v-10.7h30.4c0 20.5 4.7 49.9-34 49.9zm-116.5 44.7c-9.4 0-13.6-.3-20-.8v-69.7c6.4-.6 15-.6 22.5-.6 23.3 0 37.2 12.2 37.2 34.5 0 21.9-15 36.6-39.7 36.6z"]};let Xd1=(()=>{class n{constructor(){this.faResearchgate=Die}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-footer"]],decls:30,vars:1,consts:[[1,"container-fluid","py-3","border-top","footer-custom"],[1,"row","mx-3"],[1,"col","col-12","col-sm-12","col-md-8","text-center","text-sm-center","text-md-start","mt-2"],[1,"text-start"],["aria-label","Write an e-mail to uLab","target","_blank","rel","noopener","href","mailto:ulabunibg@gmail.com","title","E-mail"],[1,"bi","bi-envelope-at","icon-custom-neg","fs-4","me-2"],["aria-label","uLab on Github","target","_blank","rel","noopener","href","https://github.com/microlab-unibg","title","Github"],[1,"bi","bi-github","icon-custom-neg","fs-4","mx-2"],["aria-label","uLab on Linkedin","target","_blank","rel","noopener","href","https://www.linkedin.com","title","Linkedin"],[1,"bi","bi-linkedin","icon-custom-neg","fs-4","mx-2"],["aria-label","uLab on Researchgate","target","_blank","rel","noopener","href","https://www.researchgate.net/lab/Microlab-Valerio-Re","title","Researchgate"],["transform","grow-2",1,"ms-2","fs-4","icon-custom-neg",3,"icon"],[1,"mt-3"],[1,"mb-2"],[1,"col","col-12","col-sm-12","col-md-4","text-center","text-md-end","mt-2"],[1,"row","justify-content-md-end"],[1,"col","col-12","col-sm-12","col-md-auto","text-center"],["href","https://www.pv.infn.it/en/"],["src","assets/logos/infn_pavia_logo_neg.png","height","130","alt","INFN Logo","loading","lazy"],["href","https://www.unibg.it/"],["src","assets/logos/unibg_landscape.png","height","130","alt","UNIBG Logo","loading","lazy"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"span",3)(5,"a",4),ce(6,"i",5),w(),M(7,"a",6),ce(8,"i",7),w(),M(9,"a",8),ce(10,"i",9),w(),M(11,"a",10),ce(12,"fa-icon",11),w()()(),M(13,"div",12)(14,"span",3),I(15," Microelectronics Laboratory"),ce(16,"br"),I(17," University of Bergamo"),ce(18,"br"),I(19," 2, Via Galvani, Dalmine (BG), Italy"),ce(20,"br",13),I(21," \xa9 2023 \u03bcLab "),w()()(),M(22,"div",14)(23,"div",15)(24,"div",16)(25,"a",17),ce(26,"img",18),w()(),M(27,"div",16)(28,"a",19),ce(29,"img",20),w()()()()()()),2&t&&(V(12),D("icon",r.faResearchgate))},dependencies:[hie],styles:[".footer-custom[_ngcontent-%COMP%]{background-color:#133066;color:#fff}"]}),n})(),Jd1=(()=>{class n{constructor(){this.collapsed=!0,this.title="ulab-webpage-bootstrap"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"mat-typography","d-flex","flex-column","h-100"],[1,"flex-shrink-0"],[1,"footer","mt-auto"]],template:function(t,r){1&t&&(M(0,"body",0)(1,"header"),ce(2,"app-navbar"),w(),M(3,"main",1),ce(4,"router-outlet"),w(),M(5,"footer",2),ce(6,"app-footer"),w()())},dependencies:[k_,g01,Xd1]}),n})();class Kie{}class eh1{}const V3="*";function Yie(n,e=null){return{type:2,steps:n,options:e}}function Qie(n){return{type:6,styles:n,offset:null}}function Zie(n){Promise.resolve().then(n)}class X5{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zie(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Xie{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Zie(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const ZN="!";function Jie(n){return new x(3e3,!1)}function Lh1(){return typeof window<"u"&&typeof window.document<"u"}function XN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function I4(n){switch(n.length){case 0:return new X5;case 1:return n[0];default:return new Xie(n)}}function e3e(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let c=-1,l=null;if(r.forEach(u=>{const f=u.get("offset"),d=f==c,h=d&&l||new Map;u.forEach((p,m)=>{let g=m,_=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,o),_){case ZN:_=i.get(m);break;case V3:_=s.get(m);break;default:_=e.normalizeStyleValue(m,g,_,o)}h.set(g,_)}),d||a.push(h),l=h,c=f}),o.length)throw function wh1(n){return new x(3502,!1)}();return a}function JN(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&eD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&eD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&eD(t,"destroy",n)))}}function eD(n,e,t){const s=tD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function tD(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Kn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function t3e(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let nD=(n,e)=>!1,n3e=(n,e,t)=>[],r3e=null;function rD(n){const e=n.parentNode||n.host;return e===r3e?null:e}(XN()||typeof Element<"u")&&(Lh1()?(r3e=(()=>document.documentElement)(),nD=(n,e)=>{for(;e;){if(e===n)return!0;e=rD(e)}return!1}):nD=(n,e)=>n.contains(e),n3e=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ho=null,i3e=!1;const s3e=nD,o3e=n3e;let a3e=(()=>{class n{validateStyleProperty(t){return function Rh1(n){ho||(ho=function Oh1(){return typeof document<"u"?document.body:null}()||{},i3e=!!ho.style&&"WebkitAppearance"in ho.style);let e=!0;return ho.style&&!function kh1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ho.style,!e&&i3e&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ho.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return s3e(t,r)}getParentElement(t){return rD(t)}query(t,r,i){return o3e(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new X5(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),iD=(()=>{class n{}return n.NOOP=new a3e,n})();const Ph1=1e3,sD="ng-enter",Oh="ng-leave",Ph="ng-trigger",Fh=".ng-trigger",l3e="ng-animating",oD=".ng-animating";function H3(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aD(parseFloat(e[1]),e[2])}function aD(n,e){return"s"===e?n*Ph1:n}function Bh(n,e,t){return n.hasOwnProperty("duration")?n:function Bh1(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Jie()),{duration:0,delay:0,easing:""};i=aD(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=aD(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function th1(){return new x(3100,!1)}()),a=!0),s<0&&(e.push(function nh1(){return new x(3101,!1)}()),a=!0),a&&e.splice(c,0,Jie())}return{duration:i,delay:s,easing:o}}(n,e,t)}function J5(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function u3e(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function x4(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function d3e(n,e,t){return t?e+":"+t+";":""}function h3e(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=d3e(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=d3e(0,jh1(t),n.style[t]));n.setAttribute("style",e)}function Vi(n,e,t){n.style&&(e.forEach((r,i)=>{const s=lD(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),XN()&&h3e(n))}function po(n,e){n.style&&(e.forEach((t,r)=>{const i=lD(r);n.style[i]=""}),XN()&&h3e(n))}function el(n){return Array.isArray(n)?1==n.length?n[0]:Yie(n):n}const cD=new RegExp("{{\\s*(.+?)\\s*}}","g");function p3e(n){let e=[];if("string"==typeof n){let t;for(;t=cD.exec(n);)e.push(t[1]);cD.lastIndex=0}return e}function tl(n,e,t){const r=n.toString(),i=r.replace(cD,(s,o)=>{let a=e[o];return null==a&&(t.push(function ih1(n){return new x(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Uh(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Gh1=/-+([a-z0-9])/g;function lD(n){return n.replace(Gh1,(...e)=>e[1].toUpperCase())}function jh1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function sh1(n){return new x(3004,!1)}()}}function m3e(n,e){return window.getComputedStyle(n)[e]}const jh="*";function Zh1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Xh1(n,e,t){if(":"==n[0]){const c=function Jh1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function yh1(n){return new x(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function _h1(n){return new x(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(g3e(i,o));"<"==s[0]&&!(i==jh&&o==jh)&&e.push(g3e(o,i))}(r,t,e)):t.push(n),t}const Wh=new Set(["true","1"]),qh=new Set(["false","0"]);function g3e(n,e){const t=Wh.has(n)||qh.has(n),r=Wh.has(e)||qh.has(e);return(i,s)=>{let o=n==jh||n==i,a=e==jh||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Wh.has(n):qh.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Wh.has(e):qh.has(e)),o&&a}}const ep1=new RegExp("s*:selfs*,?","g");function uD(n,e,t,r){return new tp1(n).build(e,t,r)}class tp1{constructor(e){this._driver=e}build(e,t,r){const i=new ip1(t);return this._resetContextStyleTimingState(i),Yn(this,el(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function ah1(){return new x(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function ch1(){return new x(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{p3e(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(Uh(s.values()),t.errors.push(function lh1(n,e){return new x(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Yn(this,el(e.animation),t);return{type:1,matchers:Zh1(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:mo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Yn(this,r,t)),options:mo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Yn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:mo(e.options)}}visitAnimate(e,t){const r=function op1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fD(Bh(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=fD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Bh(t,e);return fD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Qie({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Qie(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===V3?r.push(a):t.errors.push(new x(3002,!1)):r.push(u3e(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let f=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function fh1(n,e,t,r,i){return new x(3010,!1)}()),f=!1),s=u.startTime),f&&l.set(c,{startTime:s,endTime:i}),t.options&&function $h1(n,e,t){const r=e.params||{},i=p3e(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function rh1(n){return new x(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function dh1(){return new x(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,l=0;const u=e.steps.map(_=>{const b=this._makeStyleAst(_,t);let y=null!=b.offset?b.offset:function sp1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),T=0;return null!=y&&(s++,T=b.offset=y),c=c||T<0||T>1,a=a||T<l,l=T,o.push(T),b});c&&t.errors.push(function hh1(){return new x(3012,!1)}()),a&&t.errors.push(function ph1(){return new x(3200,!1)}());const f=e.steps.length;let d=0;s>0&&s<f?t.errors.push(function mh1(){return new x(3202,!1)}()):0==s&&(d=1/(f-1));const h=f-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((_,b)=>{const y=d>0?b==h?1:d*b:o[b],T=y*g;t.currentTime=p+m.delay+T,m.duration=T,this._validateStyleAst(_,t),_.offset=y,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:Yn(this,el(e.animation),t),options:mo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:mo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:mo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function np1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ep1,"")),n=n.replace(/@\*/g,Fh).replace(/@\w+/g,t=>Fh+"-"+t.slice(1)).replace(/:animating/g,oD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Kn(t.collectedStyles,t.currentQuerySelector,new Map);const a=Yn(this,el(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:mo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function gh1(){return new x(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Bh(e.timings,t.errors,!0);return{type:12,animation:Yn(this,el(e.animation),t),timings:r,options:null}}}class ip1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mo(n){return n?(n=J5(n)).params&&(n.params=function rp1(n){return n?J5(n):null}(n.params)):n={},n}function fD(n,e,t){return{duration:n,delay:e,easing:t}}function dD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Kh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lp1=new RegExp(":enter","g"),fp1=new RegExp(":leave","g");function hD(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return(new dp1).buildKeyframes(n,e,t,r,i,s,o,a,c,l)}class dp1{buildKeyframes(e,t,r,i,s,o,a,c,l,u=[]){l=l||new Kh;const f=new pD(e,t,l,i,s,u,[]);f.options=c;const d=c.delay?H3(c.delay):0;f.currentTimeline.delayNextStep(d),f.currentTimeline.setStyles([o],null,f.errors,c),Yn(this,r,f);const h=f.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let m=h.length-1;m>=0;m--){const g=h[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,f.errors,c)}return h.length?h.map(p=>p.buildKeyframes()):[dD(t,[],[],[],0,d,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:H3(tl(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?H3(r.duration):null,a=null!=r.delay?H3(r.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Yn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Yh);const o=H3(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Yn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?H3(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Yn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Bh(t.params?tl(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?H3(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Yh);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const f=t.createSubContext(e.options,l);s&&f.delayNextStep(s),l===t.element&&(c=f.currentTimeline),Yn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const f=u.currentTime;Yn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}}const Yh={};class pD{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Qh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=H3(r.duration)),null!=r.delay&&(i.delay=H3(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=tl(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new pD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Yh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new hp1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(lp1,"."+this._enterClassName)).replace(fp1,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function vh1(n){return new x(3014,!1)}()),a}}class Qh{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Qh(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||V3),this._currentKeyframe.set(t,V3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function pp1(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,V3)}else x4(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=tl(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??V3),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=x4(a,new Map,this._backFill);l.forEach((u,f)=>{u===ZN?e.add(f):u===V3&&t.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});const s=e.size?Uh(e.values()):[],o=t.size?Uh(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return dD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class hp1 extends Qh{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=x4(e[0]);c.set("offset",0),s.push(c);const l=x4(e[0]);l.set("offset",y3e(a)),s.push(l);const u=e.length-1;for(let f=1;f<=u;f++){let d=x4(e[f]);const h=d.get("offset");d.set("offset",y3e((t+h*r)/o)),s.push(d)}r=o,t=0,i="",e=s}return dD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function y3e(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mD{}const mp1=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gp1 extends mD{normalizePropertyName(e,t){return lD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(mp1.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function oh1(n,e){return new x(3005,!1)}())}return o+s}}function C3e(n,e,t,r,i,s,o,a,c,l,u,f,d){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:f,errors:d}}const gD={};class b3e{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function vp1(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,u){const f=[],d=this.ast.options&&this.ast.options.params||gD,p=this.buildStyles(r,a&&a.params||gD,f),m=c&&c.params||gD,g=this.buildStyles(i,m,f),_=new Set,b=new Map,y=new Map,T="void"===i,A={params:_p1(m,d),delay:this.ast.options?.delay},k=u?[]:hD(e,t,this.ast.animation,s,o,p,g,A,l,f);let J=0;if(k.forEach(Ee=>{J=Math.max(Ee.duration+Ee.delay,J)}),f.length)return C3e(t,this._triggerName,r,i,T,p,g,[],[],b,y,J,f);k.forEach(Ee=>{const l1=Ee.element,nt=Kn(b,l1,new Set);Ee.preStyleProps.forEach(ut=>nt.add(ut));const x2=Kn(y,l1,new Set);Ee.postStyleProps.forEach(ut=>x2.add(ut)),l1!==t&&_.add(l1)});const de=Uh(_.values());return C3e(t,this._triggerName,r,i,T,p,g,k,de,b,y,J)}}function _p1(n,e){const t=J5(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class yp1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=J5(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=tl(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class bp1{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new yp1(i.style,i.options&&i.options.params||{},r))}),M3e(this.states,"true","1"),M3e(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new b3e(e,i,this.states))}),this.fallbackTransition=function Mp1(n,e,t){return new b3e(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function M3e(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const wp1=new Kh;class Sp1{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=uD(this._driver,t,r,i);if(r.length)throw function Sh1(n){return new x(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=e3e(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=hD(this._driver,t,s,sD,Oh,new Map,new Map,r,wp1,i),o.forEach(u=>{const f=Kn(a,u.element,new Map);u.postStyleProps.forEach(d=>f.set(d,null))})):(i.push(function zh1(){return new x(3300,!1)}()),o=[]),i.length)throw function Eh1(n){return new x(3504,!1)}();a.forEach((u,f)=>{u.forEach((d,h)=>{u.set(h,this._driver.computeStyle(f,h,V3))})});const l=I4(o.map(u=>{const f=a.get(u.element);return this._buildPlayer(u,new Map,f)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Th1(n){return new x(3301,!1)}();return t}listen(e,t,r,i){const s=tD(t,"","","");return JN(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const w3e="ng-animate-queued",vD="ng-animate-disabled",Dp1=[],S3e={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vp1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gr="__ng_removed";class _D{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Ap1(n){return n??null}(r?e.value:e),r){const s=J5(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const nl="void",yD=new _D(nl);class Hp1{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Nh1(n,e){return new x(3302,!1)}();if(null==r||0==r.length)throw function Dh1(n){return new x(3303,!1)}();if(!function Lp1(n){return"start"==n||"done"==n}(r))throw function Vh1(n,e){return new x(3400,!1)}();const s=Kn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Kn(this._engine.statesByElement,e,new Map);return a.has(t)||(vr(e,Ph),vr(e,Ph+"-"+t),a.set(t,yD)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Hh1(n){return new x(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new CD(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(vr(e,Ph),vr(e,Ph+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new _D(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=yD),l.value!==nl&&c.value===l.value){if(!function Op1(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,l.params)){const m=[],g=s.matchStyles(c.value,c.params,m),_=s.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{po(e,g),Vi(e,_)})}return}const d=Kn(this._engine.playersByElement,e,[]);d.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let h=s.matchTransition(c.value,l.value,e,l.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:l,player:o,isFallbackTransition:p}),p||(vr(e,w3e),o.onStart(()=>{r6(e,w3e)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let _=g.indexOf(o);_>=0&&g.splice(_,1)}}),this.players.push(o),d.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Fh,!0);r.forEach(i=>{if(i[gr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,nl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&I4(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,l=r.get(o)||yD,u=new _D(nl),f=new CD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[gr];(!s||s===S3e)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){vr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=tD(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,JN(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Ip1{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Hp1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Zh(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Zh(t))return;const s=t[gr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vr(e,vD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),r6(e,vD))}removeNode(e,t,r,i){if(Zh(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[gr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Zh(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Fh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return I4(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[gr];if(t&&t.setForRemoval){if(e[gr]=S3e,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(vD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?I4(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Ih1(n){return new x(3402,!1)}()}_flushAnimations(e,t){const r=new Kh,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(Y=>{u.add(Y);const oe=this.driver.query(Y,".ng-animate-queued",!0);for(let pe=0;pe<oe.length;pe++)u.add(oe[pe])});const f=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=T3e(d,this.collectedEnterElements),p=new Map;let m=0;h.forEach((Y,oe)=>{const pe=sD+m++;p.set(oe,pe),Y.forEach(Pe=>vr(Pe,pe))});const g=[],_=new Set,b=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){const oe=this.collectedLeaveElements[Y],pe=oe[gr];pe&&pe.setForRemoval&&(g.push(oe),_.add(oe),pe.hasAnimation?this.driver.query(oe,".ng-star-inserted",!0).forEach(Pe=>_.add(Pe)):b.add(oe))}const y=new Map,T=T3e(d,Array.from(_));T.forEach((Y,oe)=>{const pe=Oh+m++;y.set(oe,pe),Y.forEach(Pe=>vr(Pe,pe))}),e.push(()=>{h.forEach((Y,oe)=>{const pe=p.get(oe);Y.forEach(Pe=>r6(Pe,pe))}),T.forEach((Y,oe)=>{const pe=y.get(oe);Y.forEach(Pe=>r6(Pe,pe))}),g.forEach(Y=>{this.processLeaveNode(Y)})});const A=[],k=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(t).forEach(pe=>{const Pe=pe.player,ft=pe.element;if(A.push(Pe),this.collectedEnterElements.length){const Vt=ft[gr];if(Vt&&Vt.setForMove){if(Vt.previousTriggersValues&&Vt.previousTriggersValues.has(pe.triggerName)){const an=Vt.previousTriggersValues.get(pe.triggerName),W2=this.statesByElement.get(pe.element);if(W2&&W2.has(pe.triggerName)){const _6=W2.get(pe.triggerName);_6.value=an,W2.set(pe.triggerName,_6)}}return void Pe.destroy()}}const En=!f||!this.driver.containsElement(f,ft),n2=y.get(ft),Jn=p.get(ft),y1=this._buildInstruction(pe,r,Jn,n2,En);if(y1.errors&&y1.errors.length)return void k.push(y1);if(En)return Pe.onStart(()=>po(ft,y1.fromStyles)),Pe.onDestroy(()=>Vi(ft,y1.toStyles)),void i.push(Pe);if(pe.isFallbackTransition)return Pe.onStart(()=>po(ft,y1.fromStyles)),Pe.onDestroy(()=>Vi(ft,y1.toStyles)),void i.push(Pe);const qr=[];y1.timelines.forEach(Vt=>{Vt.stretchStartingKeyframe=!0,this.disabledNodes.has(Vt.element)||qr.push(Vt)}),y1.timelines=qr,r.append(ft,y1.timelines),o.push({instruction:y1,player:Pe,element:ft}),y1.queriedElements.forEach(Vt=>Kn(a,Vt,[]).push(Pe)),y1.preStyleProps.forEach((Vt,an)=>{if(Vt.size){let W2=c.get(an);W2||c.set(an,W2=new Set),Vt.forEach((_6,No)=>W2.add(No))}}),y1.postStyleProps.forEach((Vt,an)=>{let W2=l.get(an);W2||l.set(an,W2=new Set),Vt.forEach((_6,No)=>W2.add(No))})});if(k.length){const Y=[];k.forEach(oe=>{Y.push(function xh1(n,e){return new x(3505,!1)}())}),A.forEach(oe=>oe.destroy()),this.reportError(Y)}const J=new Map,de=new Map;o.forEach(Y=>{const oe=Y.element;r.has(oe)&&(de.set(oe,oe),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,J))}),i.forEach(Y=>{const oe=Y.element;this._getPreviousPlayers(oe,!1,Y.namespaceId,Y.triggerName,null).forEach(Pe=>{Kn(J,oe,[]).push(Pe),Pe.destroy()})});const Ee=g.filter(Y=>D3e(Y,c,l)),l1=new Map;E3e(l1,this.driver,b,l,V3).forEach(Y=>{D3e(Y,c,l)&&Ee.push(Y)});const x2=new Map;h.forEach((Y,oe)=>{E3e(x2,this.driver,new Set(Y),c,ZN)}),Ee.forEach(Y=>{const oe=l1.get(Y),pe=x2.get(Y);l1.set(Y,new Map([...Array.from(oe?.entries()??[]),...Array.from(pe?.entries()??[])]))});const ut=[],ki=[],Ri={};o.forEach(Y=>{const{element:oe,player:pe,instruction:Pe}=Y;if(r.has(oe)){if(u.has(oe))return pe.onDestroy(()=>Vi(oe,Pe.toStyles)),pe.disabled=!0,pe.overrideTotalTime(Pe.totalTime),void i.push(pe);let ft=Ri;if(de.size>1){let n2=oe;const Jn=[];for(;n2=n2.parentNode;){const y1=de.get(n2);if(y1){ft=y1;break}Jn.push(n2)}Jn.forEach(y1=>de.set(y1,ft))}const En=this._buildAnimation(pe.namespaceId,Pe,J,s,x2,l1);if(pe.setRealPlayer(En),ft===Ri)ut.push(pe);else{const n2=this.playersByElement.get(ft);n2&&n2.length&&(pe.parentPlayer=I4(n2)),i.push(pe)}}else po(oe,Pe.fromStyles),pe.onDestroy(()=>Vi(oe,Pe.toStyles)),ki.push(pe),u.has(oe)&&i.push(pe)}),ki.forEach(Y=>{const oe=s.get(Y.element);if(oe&&oe.length){const pe=I4(oe);Y.setRealPlayer(pe)}}),i.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<g.length;Y++){const oe=g[Y],pe=oe[gr];if(r6(oe,Oh),pe&&pe.hasAnimation)continue;let Pe=[];if(a.size){let En=a.get(oe);En&&En.length&&Pe.push(...En);let n2=this.driver.query(oe,oD,!0);for(let Jn=0;Jn<n2.length;Jn++){let y1=a.get(n2[Jn]);y1&&y1.length&&Pe.push(...y1)}}const ft=Pe.filter(En=>!En.destroyed);ft.length?kp1(this,oe,ft):this.processLeaveNode(oe)}return g.length=0,ut.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();const oe=this.players.indexOf(Y);this.players.splice(oe,1)}),Y.play()}),ut}elementContainsData(e,t){let r=!1;const i=t[gr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==nl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==s,f=Kn(r,l,[]);this._getPreviousPlayers(l,u,o,a,t.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),f.push(h)})}po(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,l=[],u=new Set,f=new Set,d=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[gr];if(g&&g.removedBeforeQueried)return new X5(p.duration,p.delay);const _=m!==c,b=function Rp1(n){const e=[];return N3e(n,e),e}((r.get(m)||Dp1).map(J=>J.getRealPlayer())).filter(J=>!!J.element&&J.element===m),y=s.get(m),T=o.get(m),A=e3e(0,this._normalizer,0,p.keyframes,y,T),k=this._buildPlayer(p,A,b);if(p.subTimeline&&i&&f.add(m),_){const J=new CD(e,a,m);J.setRealPlayer(k),l.push(J)}return k});l.forEach(p=>{Kn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function xp1(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>vr(p,l3e));const h=I4(d);return h.onDestroy(()=>{u.forEach(p=>r6(p,l3e)),Vi(c,t.toStyles)}),f.forEach(p=>{Kn(i,p,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new X5(e.duration,e.delay)}}class CD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new X5,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>JN(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Kn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Zh(n){return n&&1===n.nodeType}function z3e(n,e){const t=n.style.display;return n.style.display=e??"none",t}function E3e(n,e,t,r,i){const s=[];t.forEach(c=>s.push(z3e(c)));const o=[];r.forEach((c,l)=>{const u=new Map;c.forEach(f=>{const d=e.computeStyle(l,f,i);u.set(f,d),(!d||0==d.length)&&(l[gr]=Vp1,o.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>z3e(c,s[a++])),o}function T3e(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?r:o(l),s.set(a,c),c}return e.forEach(a=>{const c=o(a);c!==r&&t.get(c).push(a)}),t}function vr(n,e){n.classList?.add(e)}function r6(n,e){n.classList?.remove(e)}function kp1(n,e,t){I4(t).onDone(()=>n.processLeaveNode(e))}function N3e(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Xie?N3e(r.players,e):e.push(r)}}function D3e(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Xh{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Ip1(e,t,r),this._timelineEngine=new Sp1(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],l=[],u=uD(this._driver,s,c,l);if(c.length)throw function Mh1(n,e){return new x(3404,!1)}();a=function Cp1(n,e,t){return new bp1(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=t3e(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=t3e(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Fp1=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Vi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vi(this._element,this._initialStyles),this._endStyles&&(Vi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(po(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(po(this._element,this._endStyles),this._endStyles=null),Vi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bD(n){let e=null;return n.forEach((t,r)=>{(function Bp1(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class V3e{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:m3e(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Up1{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return s3e(e,t)}getParentElement(e){return rD(e)}query(e,t,r){return o3e(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const l=new Map,u=o.filter(h=>h instanceof V3e);(function Wh1(n,e){return 0===n||0===e})(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,m)=>l.set(m,p))});let f=function Uh1(n){return n.length?n[0]instanceof Map?n:n.map(e=>u3e(e)):[]}(t).map(h=>x4(h));f=function qh1(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,m3e(n,a)))}}return e}(e,f,l);const d=function Pp1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=bD(e[0]),e.length>1&&(r=bD(e[e.length-1]))):e instanceof Map&&(t=bD(e)),t||r?new Fp1(n,t,r):null}(e,f);return new V3e(e,f,c,d)}}let $p1=(()=>{class n extends Kie{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:br.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Yie(t):t;return H3e(this._renderer,null,r,"register",[i]),new Gp1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(O(ra),O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class Gp1 extends eh1{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new jp1(this._id,e,t||{},this._renderer)}}class jp1{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return H3e(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function H3e(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const I3e="@.disabled";let Wp1=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new x3e("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(c),new qp1(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(O(ra),O(Xh),O(Ce))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class x3e{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==I3e?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class qp1 extends x3e{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==I3e?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Kp1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Yp1(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Qp1=(()=>{class n extends Xh{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(O(G1),O(iD),O(mD),O(Na))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const A3e=[{provide:Kie,useClass:$p1},{provide:mD,useFactory:function Zp1(){return new gp1}},{provide:Xh,useClass:Qp1},{provide:ra,useFactory:function Xp1(n,e,t){return new Wp1(n,e,t)},deps:[yu,Xh,Ce]}],MD=[{provide:iD,useFactory:()=>new Up1},{provide:Nk,useValue:"BrowserAnimations"},...A3e],L3e=[{provide:iD,useClass:a3e},{provide:Nk,useValue:"NoopAnimations"},...A3e];let Jp1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?L3e:MD}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:MD,imports:[JR]}),n})();const wD_firebase={projectId:"website-frontend-firebase",appId:"1:100730812687:web:1dc297c1e1fe548ee8267a",databaseURL:"https://website-frontend-firebase-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"website-frontend-firebase.appspot.com",locationId:"europe-west",apiKey:"AIzaSyCrn5ifRu3Q0qDKy6oE_lOeigl0Tcx4bYg",authDomain:"website-frontend-firebase.firebaseapp.com",messagingSenderId:"100730812687",measurementId:"G-5SC1C33J1T"},wD_google_client_id="100730812687-lh1opcloap262quiioatcae8hs799skl.apps.googleusercontent.com";class rl{constructor(e){return e}}const R3e=G9.async,rm1=X1(HSe,!0),im1=X1(w$,!0),sm1=X1(ASe,!0);let O3e=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],Ge("angularfire",Un.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),R3e().then(()=>{const o=i.get(rl);o?this.disposables=[LNe(t).subscribe(a=>{sm1(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(O(vf),O(Ce),O(T1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const P3e="firebase_screen_id",SD="outlet",il="screen_class",F3e="screen_name";let vm1=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const zD={},_m1=n=>{const e=[n[il],n[SD]].join("#");if(zD.hasOwnProperty(e))return zD[e];{const t=vm1++;return zD[e]=t,t}},ym1=(n,e,t)=>n.events.pipe(zt(i=>i instanceof kP)).pipe(_n(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",c=n.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!c)return he(null);let l=c;for(;l.firstChild;)l=l.firstChild;const u=l.pathFromRoot.map(h=>{var p;return null===(p=h.routeConfig)||void 0===p?void 0:p.path}).filter(h=>h).join("/")||"/",f={[F3e]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[SD]:i.snapshot.outlet};e&&(f.page_title=e.getTitle());let d=c.component;if(d){if(d===Wu){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;d=h.component}}else d=i.snapshot.component;if("string"==typeof d)return he(Object.assign(Object.assign({},f),{[il]:d}));if(d){const h=t.resolveComponentFactory(d);return he(Object.assign(Object.assign({},f),{[il]:h.selector}))}return he(null)}),zt(i=>!!i),ge(i=>Object.assign({firebase_screen_class:i[il],[P3e]:_m1(i)},i)),function em1(n,e,t,r){return V1((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(m=>m.error(p));let u=0,f=!1;const d=new Pl(s,p=>{try{const m=n(p);let g=a.get(m);if(!g){a.set(m,g=r?r():new qe);const _=function h(p,m){const g=new Je(_=>{u++;const b=m.subscribe(_);return()=>{b.unsubscribe(),0==--u&&f&&d.unsubscribe()}});return g.key=p,g}(m,g);if(s.next(_),t){const b=C1(g,()=>{g.complete(),b?.unsubscribe()},void 0,void 0,()=>a.delete(m));d.add(It(t(_)).subscribe(b))}}g.next(o?o(p):p)}catch(m){l(m)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(f=!0,0===u));i.subscribe(d)})}(i=>i[SD]),xt(i=>i.pipe(s9((s,o)=>JSON.stringify(s)===JSON.stringify(o)),V0(void 0),function tm1(){return V1((n,e)=>{let t,r=!1;n.subscribe(C1(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),ge(([s,o])=>s?Object.assign({firebase_previous_class:s[il],firebase_previous_screen:s[F3e],firebase_previous_id:s[P3e]},o):o))));let Cm1=(()=>{class n{constructor(t,r,i,s,o,a){Ge("angularfire",Un.full,"screen-tracking"),R3e().then(()=>{const c=a.get(rl);!t||!c||s.runOutsideAngular(()=>{this.disposable=ym1(t,r,i).pipe(_n(l=>S(this,void 0,void 0,function*(){return o&&(yield o.initialized),im1(c,"screen_view",l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(O(r2,8),O(Kv,8),O(ta),O(Ce),O(O3e,8),O(T1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const ED=new te("angularfire2.analytics-instances");function Mm1(n){return(e,t)=>{if(!G9.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new rl(r)}}const wm1={provide:class nm1{constructor(){return mi("analytics")}},deps:[[new Ze,ED]]},Sm1={provide:rl,useFactory:function bm1(n,e){if(!G9.sync())return null;const t=pi("analytics",n,e);return t&&new rl(t)},deps:[[new Ze,ED],$n]};let zm1=(()=>{class n{constructor(t,r){Ge("angularfire",Un.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(O(Cm1,8),O(O3e,8))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[Sm1,wm1,{provide:os,useValue:G9.async,multi:!0}]}),n})();function Em1(n,...e){return{ngModule:zm1,providers:[{provide:ED,useFactory:Mm1(n),multi:!0,deps:[Ce,T1,gi,vi,...e]}]}}const B3e="@firebase/database";let TD="";class Nm1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),S2(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:a8(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Dm1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return s3(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $3e=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nm1(e)}}catch{}return new Dm1},go=$3e("localStorage"),ND=$3e("sessionStorage"),i6=new i4("@firebase/database"),G3e=function(){let n=1;return function(){return n++}}(),j3e=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,q(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new PCe;t.update(e);const r=t.digest();return S9.encodeByteArray(r)},sl=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=sl.apply(null,r):e+="object"==typeof r?S2(r):r,e+=" "}return e};let vo=null,W3e=!0;const h2=function(...n){if(!0===W3e&&(W3e=!1,null===vo&&!0===ND.get("logging_enabled")&&function(n,e){q(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(i6.logLevel=Qe.VERBOSE,vo=i6.log.bind(i6),e&&ND.set("logging_enabled",!0)):"function"==typeof n?vo=n:(vo=null,ND.remove("logging_enabled"))}(!0)),vo){const e=sl.apply(null,n);vo(e)}},ol=function(n){return function(...e){h2(n,...e)}},DD=function(...n){const e="FIREBASE INTERNAL ERROR: "+sl(...n);i6.error(e)},Hi=function(...n){const e=`FIREBASE FATAL ERROR: ${sl(...n)}`;throw i6.error(e),new Error(e)},j2=function(...n){const e="FIREBASE WARNING: "+sl(...n);i6.warn(e)},ep=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},A4="[MIN_NAME]",I3="[MAX_NAME]",_o=function(n,e){if(n===e)return 0;if(n===A4||e===I3)return-1;if(e===A4||n===I3)return 1;{const t=Q3e(n),r=Q3e(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Im1=function(n,e){return n===e?0:n<e?-1:1},al=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+S2(e))},VD=function(n){if("object"!=typeof n||null===n)return S2(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=S2(e[r]),t+=":",t+=VD(n[e[r]]);return t+="}",t},K3e=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function p2(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Y3e=function(n){q(!ep(n),"Invalid JSON number");const r=1023;let i,s,o,a,c;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=11;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const u=l.join("");let f="";for(c=0;c<64;c+=8){let d=parseInt(u.substr(c,8),2).toString(16);1===d.length&&(d="0"+d),f+=d}return f.toLowerCase()},km1=new RegExp("^-?(0*)\\d{1,10}$"),Q3e=function(n){if(km1.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},s6=function(n){try{n()}catch(e){setTimeout(()=>{throw j2("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Pm1=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},cl=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Fm1{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){j2(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bm1{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(h2("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',j2(e)}}let ll=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const t4e=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,i4e="websocket",s4e="long_polling";class ID{constructor(e,t,r,i,s=!1,o="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=go.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&go.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function o4e(n,e,t){let r;if(q("string"==typeof e,"typeof type must == string"),q("object"==typeof t,"typeof params must == object"),e===i4e)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==s4e)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Um1(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return p2(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class $m1{constructor(){this.counters_={}}incrementCounter(e,t=1){s3(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ECe(this.counters_)}}const xD={},AD={};function LD(n){const e=n.toString();return xD[e]||(xD[e]=new $m1),xD[e]}class jm1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&s6(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class L4{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ol(e),this.stats_=LD(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),o4e(t,s4e,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new jm1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if(i3()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kD((...s)=>{const[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=c;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&t4e.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){L4.forceAllow_=!0}static forceDisallow(){L4.forceDisallow_=!0}static isAvailable(){return!(i3()||!L4.forceAllow_&&(L4.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=S2(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=fU(t),i=K3e(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(i3())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=S2(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class kD{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,i3())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=G3e(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=kD.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){h2("frame writing exception"),a.stack&&h2(a.stack),h2(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||h2("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){i3()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{h2("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let np=null;typeof MozWebSocket<"u"?np=MozWebSocket:typeof WebSocket<"u"&&(np=WebSocket);let o6=(()=>{class n{constructor(t,r,i,s,o,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ol(this.connId),this.stats_=LD(r),this.connURL=n.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return!i3()&&typeof location<"u"&&location.hostname&&t4e.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),o4e(t,i4e,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,go.set("previous_websocket_failure",!0);try{let i;if(i3()){i={headers:{"User-Agent":`Firebase/5/${TD}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new np(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==np&&!n.forceDisallow_}static previouslyFailed(){return go.isInMemoryStorage||!0===go.get("previous_websocket_failure")}markConnectionHealthy(){go.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=a8(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(q(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=S2(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=K3e(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),h4e=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[L4,o6]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=o6&&o6.isAvailable();let i=r&&!o6.previouslyFailed();if(t.webSocketOnly&&(r||j2("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[o6];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class C4e{constructor(e,t,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ol("c:"+this.id+":"),this.transportManager_=new h4e(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=al("t",e),r=al("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=al("t",e),r=al("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=al("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?DD("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):DD("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&j2("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class b4e{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class M4e{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){q(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class rp extends M4e{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ty()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rp}getInitialEvent(e){return q("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const w4e=32,S4e=768;class _1{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function f1(){return new _1("")}function je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function k4(n){return n.pieces_.length-n.pieceNum_}function D1(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new _1(n.pieces_,e)}function OD(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ul(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function z4e(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new _1(e,0)}function tt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof _1)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new _1(t,0)}function We(n){return n.pieceNum_>=n.pieces_.length}function on(n,e){const t=je(n),r=je(e);if(null===t)return e;if(t===r)return on(D1(n),D1(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function PD(n,e){if(k4(n)!==k4(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function _r(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(k4(n)>k4(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class pg1{constructor(e,t){this.errorPrefix_=t,this.parts_=ul(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=x9(this.parts_[r]);E4e(this)}}function E4e(n){if(n.byteLength_>S4e)throw new Error(n.errorPrefix_+"has a key path longer than "+S4e+" bytes ("+n.byteLength_+").");if(n.parts_.length>w4e)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+w4e+") or object contains a cycle "+yo(n))}function yo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class FD extends M4e{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new FD}getInitialEvent(e){return q("visible"===e,"Unknown event type: "+e),[this.visible_]}}const fl=1e3;let sp,Co=(()=>{class n extends b4e{constructor(t,r,i,s,o,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!i3())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");FD.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&rp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(S2(o)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Ja,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&s3(t,"w")){const i=tc(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();j2(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=V9(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=V9(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+S2(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):DD("Unrecognized action received from server: "+S2(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=fl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=fl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return v(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,s())};t.realtime_={close:u,sendRequest:function(h){q(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)}};const d=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[h,p]=yield Promise.all([t.authTokenProvider_.getToken(d),t.appCheckTokenProvider_.getToken(d)]);c?h2("getToken() completed but was canceled"):(h2("getToken() completed. Creating connection."),t.authToken_=h&&h.accessToken,t.appCheckToken_=p&&p.token,l=new C4e(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,m=>{j2(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(h){t.log_("Failed to get token: "+h),c||(t.repoInfo_.nodeAdmin&&j2(h),u())}}})()}interrupt(t){h2("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){h2("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Dy(this.interruptReasons_)&&(this.reconnectDelay_=fl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>VD(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new _1(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){h2("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){h2("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";i3()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+TD.replace(/\./g,"-")]=1,Ty()?t["framework.cordova"]=1:gU()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=rp.getInstance().currentlyOnline();return Dy(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ke{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ke(e,t)}}class ip{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ke(A4,e),i=new Ke(A4,t);return 0!==this.compare(r,i)}minPost(){return Ke.MIN}}class D4e extends ip{static get __EMPTY_NODE(){return sp}static set __EMPTY_NODE(e){sp=e}compare(e,t){return _o(e.name,t.name)}isDefinedOn(e){throw Xa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ke.MIN}maxPost(){return new Ke(I3,sp)}makePost(e,t){return q("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ke(e,sp)}toString(){return".key"}}const Ii=new D4e;class op{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let UD,$r=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??zn.EMPTY_NODE,this.right=o??zn.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return zn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return zn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class zn{constructor(e,t=zn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new zn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,$r.BLACK,null,null))}remove(e){return new zn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$r.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new op(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new op(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new op(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new op(this.root_,null,this.comparator_,!0,e)}}function Mg1(n,e){return _o(n.name,e.name)}function BD(n,e){return _o(n,e)}zn.EMPTY_NODE=new class bg1{copy(e,t,r,i,s){return this}insert(e,t,r){return new $r(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const V4e=function(n){return"number"==typeof n?"number:"+Y3e(n):"string:"+n},H4e=function(n){if(n.isLeafNode()){const e=n.val();q("string"==typeof e||"number"==typeof e||"object"==typeof e&&s3(e,".sv"),"Priority must be a string or number.")}else q(n===UD||n.isEmpty(),"priority of unexpected type.");q(n===UD||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let I4e,x4e,A4e,a6=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,q(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),H4e(this.priorityNode_)}static set __childrenNodeConstructor(t){I4e=t}static get __childrenNodeConstructor(){return I4e}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return We(t)?this:".priority"===je(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=je(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(q(".priority"!==i||1===k4(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(D1(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+V4e(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?Y3e(this.value_):this.value_,this.lazyHash_=j3e(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return q(s>=0,"Unknown leaf type: "+r),q(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const O1=new class Eg1 extends ip{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?_o(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ke.MIN}maxPost(){return new Ke(I3,new a6("[PRIORITY-POST]",A4e))}makePost(e,t){const r=x4e(e);return new Ke(t,new a6("[PRIORITY-POST]",r))}toString(){return".priority"}},Tg1=Math.log(2);class Ng1{constructor(e){this.count=parseInt(Math.log(e+1)/Tg1,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ap=function(n,e,t,r){n.sort(e);const i=function(c,l){const u=l-c;let f,d;if(0===u)return null;if(1===u)return f=n[c],d=t?t(f):f,new $r(d,f.node,$r.BLACK,null,null);{const h=parseInt(u/2,10)+c,p=i(c,h),m=i(h+1,l);return f=n[h],d=t?t(f):f,new $r(d,f.node,$r.BLACK,p,m)}},a=function(c){let l=null,u=null,f=n.length;const d=function(p,m){const g=f-p,_=f;f-=p;const b=i(g+1,_),y=n[g],T=t?t(y):y;h(new $r(T,y.node,m,null,b))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){const m=c.nextBitIsOne(),g=Math.pow(2,c.count-(p+1));m?d(g,$r.BLACK):(d(g,$r.BLACK),d(g,$r.RED))}return u}(new Ng1(n.length));return new zn(r||e,a)};let $D;const c6={};class x3{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return q(c6&&O1,"ChildrenNode.ts has not been loaded"),$D=$D||new x3({".priority":c6},{".priority":O1}),$D}get(e){const t=tc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof zn?t:null}hasIndex(e){return s3(this.indexSet_,e.toString())}addIndex(e,t){q(e!==Ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Ke.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?ap(r,e.getCompare()):c6;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new x3(u,l)}addToIndexes(e,t){const r=H9(this.indexes_,(i,s)=>{const o=tc(this.indexSet_,s);if(q(o,"Missing index implementation for "+s),i===c6){if(o.isDefinedOn(e.node)){const a=[],c=t.getIterator(Ke.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),ap(a,o.getCompare())}return c6}{const a=t.get(e.name);let c=i;return a&&(c=c.remove(new Ke(e.name,a))),c.insert(e,e.node)}});return new x3(r,this.indexSet_)}removeFromIndexes(e,t){const r=H9(this.indexes_,i=>{if(i===c6)return i;{const s=t.get(e.name);return s?i.remove(new Ke(e.name,s)):i}});return new x3(r,this.indexSet_)}}let dl,Le=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&H4e(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dl||(dl=new n(new zn(BD),null,x3.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dl}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?dl:r}}getChild(t){const r=je(t);return null===r?this:this.getImmediateChild(r).getChild(D1(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(q(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Ke(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?dl:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=je(t);if(null===i)return r;{q(".priority"!==je(t)||1===k4(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(D1(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(O1,(a,c)=>{r[a]=c.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+V4e(this.getPriority().val())+":"),this.forEachChild(O1,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":j3e(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Ke(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ke(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ke(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ke.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ke.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===hl?-1:0}withIndex(t){if(t===Ii||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ii||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(O1),s=r.getIterator(O1);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Ii?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const hl=new class Dg1 extends Le{constructor(){super(new zn(BD),Le.EMPTY_NODE,x3.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Le.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ke,{MIN:{value:new Ke(A4,Le.EMPTY_NODE)},MAX:{value:new Ke(I3,hl)}}),D4e.__EMPTY_NODE=Le.EMPTY_NODE,a6.__childrenNodeConstructor=Le,function wg1(n){UD=n}(hl),function zg1(n){A4e=n}(hl);const Vg1=!0;function lt(n,e=null){if(null===n)return Le.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),q(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new a6(n,lt(e));if(n instanceof Array||!Vg1){let t=Le.EMPTY_NODE;return p2(n,(r,i)=>{if(s3(n,r)&&"."!==r.substring(0,1)){const s=lt(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(lt(e))}{const t=[];let r=!1;if(p2(n,(o,a)=>{if("."!==o.substring(0,1)){const c=lt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new Ke(o,c)))}}),0===t.length)return Le.EMPTY_NODE;const s=ap(t,Mg1,o=>o.name,BD);if(r){const o=ap(t,O1.getCompare());return new Le(s,lt(e),new x3({".priority":o},{".priority":O1}))}return new Le(s,lt(e),x3.Default)}}!function Sg1(n){x4e=n}(lt);class GD extends ip{constructor(e){super(),this.indexPath_=e,q(!We(e)&&".priority"!==je(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?_o(e.name,t.name):s}makePost(e,t){const r=lt(e),i=Le.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ke(t,i)}maxPost(){const e=Le.EMPTY_NODE.updateChild(this.indexPath_,hl);return new Ke(I3,e)}toString(){return ul(this.indexPath_,0).join("/")}}const jD=new class Hg1 extends ip{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?_o(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ke.MIN}maxPost(){return Ke.MAX}makePost(e,t){const r=lt(e);return new Ke(t,r)}toString(){return".value"}};function ml(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class qD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=O1}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A4}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I3}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===O1}copy(){const e=new qD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function k4e(n){const e={};if(n.isDefault())return e;let t;if(n.index_===O1?t="$priority":n.index_===jD?t="$value":n.index_===Ii?t="$key":(q(n.index_ instanceof GD,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=S2(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=S2(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+S2(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=S2(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+S2(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function R4e(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==O1&&(e.i=n.index_.toString()),e}class lp extends b4e{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ol("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=lp.getListenId_(e,r),a={};this.listens_[o]=a;const c=k4e(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let f=u;if(404===l&&(f=null,l=null),null===l&&this.onDataUpdate_(s,f,!1,r),tc(this.listens_,o)===a){let d;d=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(d,null)}})}unlisten(e,t){const r=lp.getListenId_(e,t);delete this.listens_[r]}get(e){const t=k4e(e._queryParams),r=e._path.toString(),i=new Ja;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+l8(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=a8(a.responseText)}catch{j2("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&j2("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Pg1{constructor(){this.rootNode_=Le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function up(){return{value:null,children:new Map}}function u6(n,e,t){if(We(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=je(e);n.children.has(r)||n.children.set(r,up()),u6(n.children.get(r),e=D1(e),t)}}function ZD(n,e,t){null!==n.value?t(e,n.value):function Fg1(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{ZD(i,new _1(e.toString()+"/"+r),t)})}class Bg1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&p2(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Gg1{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Bg1(e);const r=1e4+2e4*Math.random();cl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;p2(e,(i,s)=>{s>0&&s3(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),cl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var yr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(yr||(yr={})),yr))();function eV(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class fp{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=yr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(We(this.path)){if(null!=this.affectedTree.value)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new _1(e));return new fp(f1(),t,this.revert)}}return q(je(this.path)===e,"operationForChild called for unrelated child."),new fp(D1(this.path),this.affectedTree,this.revert)}}class bo{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=yr.OVERWRITE}operationForChild(e){return We(this.path)?new bo(this.source,f1(),this.snap.getImmediateChild(e)):new bo(this.source,D1(this.path),this.snap)}}class f6{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=yr.MERGE}operationForChild(e){if(We(this.path)){const t=this.children.subtree(new _1(e));return t.isEmpty()?null:t.value?new bo(this.source,f1(),t.value):new f6(this.source,f1(),t)}return q(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new f6(this.source,D1(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class R4{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(We(e))return this.isFullyInitialized()&&!this.filtered_;const t=je(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function _l(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,c)=>function Kg1(n,e,t){if(null==e.childName||null==t.childName)throw Xa("Should only compare child_ events.");const r=new Ke(e.childName,e.snapshotNode),i=new Ke(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,c)),o.forEach(a=>{const c=function qg1(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function dp(n,e){return{eventCache:n,serverCache:e}}function yl(n,e,t,r){return dp(new R4(e,t,r),n.serverCache)}function P4e(n,e,t,r){return dp(n.eventCache,new R4(e,t,r))}function hp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Mo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let tV;class P1{constructor(e,t=(()=>(tV||(tV=new zn(Im1)),tV))()){this.value=e,this.children=t}static fromObject(e){let t=new P1(null);return p2(e,(r,i)=>{t=t.set(new _1(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:f1(),value:this.value};if(We(e))return null;{const r=je(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(D1(e),t);return null!=s?{path:tt(new _1(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(We(e))return this;{const t=je(e),r=this.children.get(t);return null!==r?r.subtree(D1(e)):new P1(null)}}set(e,t){if(We(e))return new P1(t,this.children);{const r=je(e),s=(this.children.get(r)||new P1(null)).set(D1(e),t),o=this.children.insert(r,s);return new P1(this.value,o)}}remove(e){if(We(e))return this.children.isEmpty()?new P1(null):new P1(null,this.children);{const t=je(e),r=this.children.get(t);if(r){const i=r.remove(D1(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new P1(null):new P1(this.value,s)}return this}}get(e){if(We(e))return this.value;{const t=je(e),r=this.children.get(t);return r?r.get(D1(e)):null}}setTree(e,t){if(We(e))return t;{const r=je(e),s=(this.children.get(r)||new P1(null)).setTree(D1(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new P1(this.value,o)}}fold(e){return this.fold_(f1(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(tt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,f1(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(We(e))return null;{const s=je(e),o=this.children.get(s);return o?o.findOnPath_(D1(e),tt(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,f1(),t)}foreachOnPath_(e,t,r){if(We(e))return this;{this.value&&r(t,this.value);const i=je(e),s=this.children.get(i);return s?s.foreachOnPath_(D1(e),tt(t,i),r):new P1(null)}}foreach(e){this.foreach_(f1(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(tt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Gr{constructor(e){this.writeTree_=e}static empty(){return new Gr(new P1(null))}}function Cl(n,e,t){if(We(e))return new Gr(new P1(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=on(i,e);return s=s.updateChild(o,t),new Gr(n.writeTree_.set(i,s))}{const i=new P1(t),s=n.writeTree_.setTree(e,i);return new Gr(s)}}}function nV(n,e,t){let r=n;return p2(t,(i,s)=>{r=Cl(r,tt(e,i),s)}),r}function F4e(n,e){if(We(e))return Gr.empty();{const t=n.writeTree_.setTree(e,new P1(null));return new Gr(t)}}function rV(n,e){return null!=wo(n,e)}function wo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(on(t.path,e)):null}function B4e(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(O1,(r,i)=>{e.push(new Ke(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Ke(r,i.value))}),e}function O4(n,e){if(We(e))return n;{const t=wo(n,e);return new Gr(null!=t?new P1(t):n.writeTree_.subtree(e))}}function iV(n){return n.writeTree_.isEmpty()}function d6(n,e){return U4e(f1(),n.writeTree_,e)}function U4e(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(q(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=U4e(tt(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(tt(n,".priority"),r)),t}}function pp(n,e){return q4e(e,n)}function ev1(n,e){if(n.snap)return _r(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&_r(tt(n.path,t),e))return!0;return!1}function nv1(n){return n.visible}function $4e(n,e,t){let r=Gr.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)_r(t,o)?(a=on(t,o),r=Cl(r,a,s.snap)):_r(o,t)&&(a=on(o,t),r=Cl(r,f1(),s.snap.getChild(a)));else{if(!s.children)throw Xa("WriteRecord should have .snap or .children");if(_r(t,o))a=on(t,o),r=nV(r,a,s.children);else if(_r(o,t))if(a=on(o,t),We(a))r=nV(r,f1(),s.children);else{const c=tc(s.children,je(a));if(c){const l=c.getChild(D1(a));r=Cl(r,f1(),l)}}}}}return r}function G4e(n,e,t,r,i){if(r||i){const s=O4(n.visibleWrites,e);return!i&&iV(s)?t:i||null!=t||rV(s,f1())?d6($4e(n.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(_r(l.path,e)||_r(e,l.path))},e),t||Le.EMPTY_NODE):null}{const s=wo(n.visibleWrites,e);if(null!=s)return s;{const o=O4(n.visibleWrites,e);return iV(o)?t:null!=t||rV(o,f1())?d6(o,t||Le.EMPTY_NODE):null}}}function mp(n,e,t,r){return G4e(n.writeTree,n.treePath,e,t,r)}function sV(n,e){return function rv1(n,e,t){let r=Le.EMPTY_NODE;const i=wo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(O1,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=O4(n.visibleWrites,e);return t.forEachChild(O1,(o,a)=>{const c=d6(O4(s,new _1(o)),a);r=r.updateImmediateChild(o,c)}),B4e(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return B4e(O4(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function j4e(n,e,t,r){return function iv1(n,e,t,r,i){q(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=tt(e,t);if(rV(n.visibleWrites,s))return null;{const o=O4(n.visibleWrites,s);return iV(o)?i.getChild(t):d6(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function gp(n,e){return function ov1(n,e){return wo(n.visibleWrites,e)}(n.writeTree,tt(n.treePath,e))}function oV(n,e,t){return function sv1(n,e,t,r){const i=tt(e,t),s=wo(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?d6(O4(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function W4e(n,e){return q4e(tt(n.treePath,e),n.writeTree)}function q4e(n,e){return{treePath:n,writeTree:e}}class uv1{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;q("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),q(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,ml(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function pl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function l6(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Xa("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,ml(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const K4e=new class fv1{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class aV{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new R4(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oV(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mo(this.viewCache_),s=function lv1(n,e,t,r,i,s){return function av1(n,e,t,r,i,s,o){let a;const c=O4(n.visibleWrites,e),l=wo(c,f1());if(null!=l)a=l;else{if(null==t)return[];a=d6(c,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],f=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=d.getNext();for(;h&&u.length<i;)0!==f(h,r)&&u.push(h),h=d.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function Y4e(n,e,t,r,i,s){const o=e.eventCache;if(null!=gp(r,t))return e;{let a,c;if(We(t))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Mo(e),f=sV(r,l instanceof Le?l:Le.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const l=mp(r,Mo(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=je(t);if(".priority"===l){q(1===k4(t),"Can't have a priority with additional path components");const u=o.getNode();c=e.serverCache.getNode();const f=j4e(r,t,u,c);a=null!=f?n.filter.updatePriority(u,f):o.getNode()}else{const u=D1(t);let f;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();const d=j4e(r,t,o.getNode(),c);f=null!=d?o.getNode().getImmediateChild(l).updateChild(u,d):o.getNode().getImmediateChild(l)}else f=oV(r,l,e.serverCache);a=null!=f?n.filter.updateChild(o.getNode(),l,f,u,i,s):o.getNode()}}return yl(e,a,o.isFullyInitialized()||We(t),n.filter.filtersNodes())}}function vp(n,e,t,r,i,s,o,a){const c=e.serverCache;let l;const u=o?n.filter:n.filter.getIndexedFilter();if(We(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const h=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),h,null)}else{const h=je(t);if(!c.isCompleteForPath(t)&&k4(t)>1)return e;const p=D1(t),g=c.getNode().getImmediateChild(h).updateChild(p,r);l=".priority"===h?u.updatePriority(c.getNode(),g):u.updateChild(c.getNode(),h,g,p,K4e,null)}const f=P4e(e,l,c.isFullyInitialized()||We(t),u.filtersNodes());return Y4e(n,f,t,i,new aV(i,f,s),a)}function cV(n,e,t,r,i,s,o){const a=e.eventCache;let c,l;const u=new aV(i,e,s);if(We(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=yl(e,l,!0,n.filter.filtersNodes());else{const f=je(t);if(".priority"===f)l=n.filter.updatePriority(e.eventCache.getNode(),r),c=yl(e,l,a.isFullyInitialized(),a.isFiltered());else{const d=D1(t),h=a.getNode().getImmediateChild(f);let p;if(We(d))p=r;else{const m=u.getCompleteChild(f);p=null!=m?".priority"===OD(d)&&m.getChild(z4e(d)).isEmpty()?m:m.updateChild(d,r):Le.EMPTY_NODE}c=h.equals(p)?e:yl(e,n.filter.updateChild(a.getNode(),f,p,d,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function Q4e(n,e){return n.eventCache.isCompleteForChild(e)}function Z4e(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lV(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=We(t)?r:new P1(null).setTree(t,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((f,d)=>{if(u.hasChild(f)){const p=Z4e(0,e.serverCache.getNode().getImmediateChild(f),d);c=vp(n,c,new _1(f),p,i,s,o,a)}}),l.children.inorderTraversal((f,d)=>{const h=!e.serverCache.isCompleteForChild(f)&&null===d.value;if(!u.hasChild(f)&&!h){const m=Z4e(0,e.serverCache.getNode().getImmediateChild(f),d);c=vp(n,c,new _1(f),m,i,s,o,a)}}),c}function wv1(n,e){const t=Mo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!We(e)&&!t.getImmediateChild(je(e)).isEmpty())?t.getChild(e):null}function ese(n,e,t,r){e.type===yr.MERGE&&null!==e.source.queryId&&(q(Mo(n.viewCache_),"We should always have a full cache before handling merges"),q(hp(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function pv1(n,e,t,r,i){const s=new uv1;let o,a;if(t.type===yr.OVERWRITE){const l=t;l.source.fromUser?o=cV(n,e,l.path,l.snap,r,i,s):(q(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!We(l.path),o=vp(n,e,l.path,l.snap,r,i,a,s))}else if(t.type===yr.MERGE){const l=t;l.source.fromUser?o=function gv1(n,e,t,r,i,s,o){let a=e;return r.foreach((c,l)=>{const u=tt(t,c);Q4e(e,je(u))&&(a=cV(n,a,u,l,i,s,o))}),r.foreach((c,l)=>{const u=tt(t,c);Q4e(e,je(u))||(a=cV(n,a,u,l,i,s,o))}),a}(n,e,l.path,l.children,r,i,s):(q(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=lV(n,e,l.path,l.children,r,i,a,s))}else if(t.type===yr.ACK_USER_WRITE){const l=t;o=l.revert?function yv1(n,e,t,r,i,s){let o;if(null!=gp(r,t))return e;{const a=new aV(r,e,i),c=e.eventCache.getNode();let l;if(We(t)||".priority"===je(t)){let u;if(e.serverCache.isFullyInitialized())u=mp(r,Mo(e));else{const f=e.serverCache.getNode();q(f instanceof Le,"serverChildren would be complete if leaf node"),u=sV(r,f)}l=n.filter.updateFullNode(c,u,s)}else{const u=je(t);let f=oV(r,u,e.serverCache);null==f&&e.serverCache.isCompleteForChild(u)&&(f=c.getImmediateChild(u)),l=null!=f?n.filter.updateChild(c,u,f,D1(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,Le.EMPTY_NODE,D1(t),a,s):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=mp(r,Mo(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=gp(r,f1()),yl(e,l,o,n.filter.filtersNodes())}}(n,e,l.path,r,i,s):function vv1(n,e,t,r,i,s,o){if(null!=gp(i,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(We(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return vp(n,e,t,c.getNode().getChild(t),i,s,a,o);if(We(t)){let l=new P1(null);return c.getNode().forEachChild(Ii,(u,f)=>{l=l.set(new _1(u),f)}),lV(n,e,t,l,i,s,a,o)}return e}{let l=new P1(null);return r.foreach((u,f)=>{const d=tt(t,u);c.isCompleteForPath(d)&&(l=l.set(u,c.getNode().getChild(d)))}),lV(n,e,t,l,i,s,a,o)}}(n,e,l.path,l.affectedTree,r,i,s)}else{if(t.type!==yr.LISTEN_COMPLETE)throw Xa("Unknown operation type: "+t.type);o=function _v1(n,e,t,r,i){const s=e.serverCache;return Y4e(n,P4e(e,s.getNode(),s.isFullyInitialized()||We(t),s.isFiltered()),t,r,K4e,i)}(n,e,t.path,r,s)}const c=s.getChanges();return function mv1(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=hp(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function L4e(n){return{type:"value",snapshotNode:n}}(hp(e)))}}(e,o,c),{viewCache:o,changes:c}}(n.processor_,i,e,t,r);return function hv1(n,e){q(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function tse(n,e,t,r){return function Wg1(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Ig1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),_l(n,i,"child_removed",e,r,t),_l(n,i,"child_added",e,r,t),_l(n,i,"child_moved",s,r,t),_l(n,i,"child_changed",e,r,t),_l(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let _p,Cp;function uV(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return q(null!=s,"SyncTree gave us an op for an invalid query."),ese(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(ese(o,e,t,r));return s}}function P4(n,e){let t=null;for(const r of n.views.values())t=t||wv1(r,e);return t}class ase{constructor(e){this.listenProvider_=e,this.syncPointTree_=new P1(null),this.pendingWriteTree_=function cv1(){return{visibleWrites:Gr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fV(n,e,t,r,i){return function Qg1(n,e,t,r,i){q(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Cl(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?h6(n,new bo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function B4(n,e,t=!1){const r=function Xg1(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Jg1(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);q(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&ev1(a,r.path)?i=!1:_r(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function tv1(n){n.visibleWrites=$4e(n.allWrites,nv1,f1()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=F4e(n.visibleWrites,r.path):p2(r.children,c=>{n.visibleWrites=F4e(n.visibleWrites,tt(r.path,c))}),!0))}(n.pendingWriteTree_,e)){let s=new P1(null);return null!=r.snap?s=s.set(f1(),!0):p2(r.children,o=>{s=s.set(new _1(o),!0)}),h6(n,new fp(r.path,s,t))}return[]}function bl(n,e,t){return h6(n,new bo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Mp(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=P4(a,on(o,e));if(l)return l});return G4e(i,e,s,t,!0)}function h6(n,e){return lse(e,n.syncPointTree_,null,pp(n.pendingWriteTree_,f1()))}function lse(n,e,t,r){if(We(n.path))return use(n,e,t,r);{const i=e.get(f1());null==t&&null!=i&&(t=P4(i,f1()));let s=[];const o=je(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){const l=t?t.getImmediateChild(o):null,u=W4e(r,o);s=s.concat(lse(a,c,l,u))}return i&&(s=s.concat(uV(i,n,r,t))),s}}function use(n,e,t,r){const i=e.get(f1());null==t&&null!=i&&(t=P4(i,f1()));let s=[];return e.children.inorderTraversal((o,a)=>{const c=t?t.getImmediateChild(o):null,l=W4e(r,o),u=n.operationForChild(o);u&&(s=s.concat(use(u,a,c,l)))}),i&&(s=s.concat(uV(i,n,r,t))),s}function hV(n,e){return n.tagToQueryMap.get(e)}function pV(n){const e=n.indexOf("$");return q(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new _1(n.substr(0,e))}}function mV(n,e,t){const r=n.syncPointTree_.get(e);return q(r,"Missing sync point for query tag that we're tracking"),uV(r,t,pp(n.pendingWriteTree_,e),null)}class gV{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new gV(t)}node(){return this.node_}}class vV{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=tt(this.path_,e);return new vV(this.syncTree_,t)}node(){return Mp(this.syncTree_,this.path_)}}const Gv1=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},dse=function(n,e,t){return n&&"object"==typeof n?(q(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?jv1(n[".sv"],e,t):"object"==typeof n[".sv"]?Wv1(n[".sv"],e):void q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},jv1=function(n,e,t){if("timestamp"===n)return t.timestamp;q(!1,"Unexpected server value: "+n)},Wv1=function(n,e,t){n.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&q(!1,"Unexpected increment value: "+r);const i=e.node();if(q(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},hse=function(n,e,t,r){return yV(e,new vV(t,n),r)},_V=function(n,e,t){return yV(n,new gV(e),t)};function yV(n,e,t){const r=n.getPriority().val(),i=dse(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=dse(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new a6(a,lt(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new a6(i))),o.forEachChild(O1,(a,c)=>{const l=yV(c,e.getImmediateChild(a),t);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}class CV{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Sp(n,e){let t=e instanceof _1?e:new _1(e),r=n,i=je(t);for(;null!==i;){const s=tc(r.node.children,i)||{children:{},childCount:0};r=new CV(i,r,s),t=D1(t),i=je(t)}return r}function So(n){return n.node.value}function bV(n,e){n.node.value=e,MV(n)}function pse(n){return n.node.childCount>0}function zp(n,e){p2(n.node.children,(t,r)=>{e(new CV(t,n,r))})}function mse(n,e,t,r){t&&!r&&e(n),zp(n,i=>{mse(i,e,!0,r)}),t&&r&&e(n)}function Sl(n){return new _1(null===n.parent?n.name:Sl(n.parent)+"/"+n.name)}function MV(n){null!==n.parent&&function Yv1(n,e,t){const r=function qv1(n){return void 0===So(n)&&!pse(n)}(t),i=s3(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,MV(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,MV(n))}(n.parent,n.name,n)}const Qv1=/[\[\].#$\/\u0000-\u001F\u007F]/,Zv1=/[\[\].#$\u0000-\u001F\u007F]/,wV=10485760,Ep=function(n){return"string"==typeof n&&0!==n.length&&!Qv1.test(n)},El=function(n,e,t){const r=t instanceof _1?new pg1(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+yo(r));if("function"==typeof e)throw new Error(n+"contains a function "+yo(r)+" with contents = "+e.toString());if(ep(e))throw new Error(n+"contains "+e.toString()+" "+yo(r));if("string"==typeof e&&e.length>wV/3&&x9(e)>wV)throw new Error(n+"contains a string greater than "+wV+" utf8 bytes "+yo(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(p2(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Ep(o)))throw new Error(n+" contains an invalid key ("+o+") "+yo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mg1(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=x9(e),E4e(n)})(r,o),El(n,a,r),function gg1(n){const e=n.parts_.pop();n.byteLength_-=x9(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+yo(r)+" in addition to actual children.")}},_se=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ep(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!Zv1.test(n)}(n)}(t))throw new Error(function I9(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class t_1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qn(n,e,t){(function Tp(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!PD(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function Cse(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(n_1(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>_r(r,e)||_r(e,r))}function n_1(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();vo&&h2("event: "+t.toString()),s6(r)}}}const bse="repo_interrupt",r_1=25;class i_1{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t_1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=up(),this.transactionQueueTree_=new CV,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Mse(n){const t=n.infoData_.getNode(new _1(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Nl(n){return Gv1({timestamp:Mse(n)})}function wse(n,e,t,r,i){n.dataUpdateCount++;const s=new _1(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const c=H9(t,l=>lt(l));o=function Ov1(n,e,t,r){const i=hV(n,r);if(i){const s=pV(i),o=s.path,a=s.queryId,c=on(o,e),l=P1.fromObject(t);return mV(n,o,new f6(eV(a),c,l))}return[]}(n.serverSyncTree_,s,c,i)}else{const c=lt(t);o=function cse(n,e,t,r){const i=hV(n,r);if(null!=i){const s=pV(i),o=s.path,a=s.queryId,c=on(o,e);return mV(n,o,new bo(eV(a),c,t))}return[]}(n.serverSyncTree_,s,c,i)}else if(r){const c=H9(t,l=>lt(l));o=function Lv1(n,e,t){const r=P1.fromObject(t);return h6(n,new f6({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,c)}else{const c=lt(t);o=bl(n.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=m6(n,s)),Qn(n.eventQueue_,a,o)}function Sse(n,e){EV(n,"connected",e),!1===e&&function l_1(n){p6(n,"onDisconnectEvents");const e=Nl(n),t=up();ZD(n.onDisconnect_,f1(),(i,s)=>{const o=hse(i,s,n.serverSyncTree_,e);u6(t,i,o)});let r=[];ZD(t,f1(),(i,s)=>{r=r.concat(bl(n.serverSyncTree_,i,s));const o=function VV(n,e){const t=Sl(Tse(n,e)),r=Sp(n.transactionQueueTree_,e);return function Kv1(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{HV(n,i)}),HV(n,r),mse(r,i=>{HV(n,i)}),t}(n,i);m6(n,o)}),n.onDisconnect_=up(),Qn(n.eventQueue_,f1(),r)}(n)}function EV(n,e,t){const r=new _1("/.info/"+e),i=lt(t);n.infoData_.updateSnapshot(r,i);const s=bl(n.infoSyncTree_,r,i);Qn(n.eventQueue_,r,s)}function Np(n){return n.nextWriteId_++}function p6(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),h2(t,...e)}function DV(n,e,t){return Mp(n.serverSyncTree_,e,t)||Le.EMPTY_NODE}function Dp(n,e=n.transactionQueueTree_){if(e||Vp(n,e),So(e)){const t=Nse(n,e);q(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function g_1(n,e,t){const r=t.map(l=>l.currentWriteId),i=DV(n,e,r);let s=i;const o=i.hash();for(let l=0;l<t.length;l++){const u=t[l];q(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=on(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const a=s.val(!0),c=e;n.server_.put(c.toString(),a,l=>{p6(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const f=[];for(let d=0;d<t.length;d++)t[d].status=2,u=u.concat(B4(n.serverSyncTree_,t[d].currentWriteId)),t[d].onComplete&&f.push(()=>t[d].onComplete(null,!0,t[d].currentOutputSnapshotResolved)),t[d].unwatcher();Vp(n,Sp(n.transactionQueueTree_,e)),Dp(n,n.transactionQueueTree_),Qn(n.eventQueue_,e,u);for(let d=0;d<f.length;d++)s6(f[d])}else{if("datastale"===l)for(let f=0;f<t.length;f++)t[f].status=3===t[f].status?4:0;else{j2("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=l}m6(n,e)}},o)}(n,Sl(e),t)}else pse(e)&&zp(e,t=>{Dp(n,t)})}function m6(n,e){const t=Tse(n,e),r=Sl(t);return function v_1(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=on(t,c.path);let f,u=!1;if(q(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,f=c.abortReason,i=i.concat(B4(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=r_1)u=!0,f="maxretry",i=i.concat(B4(n.serverSyncTree_,c.currentWriteId,!0));else{const d=DV(n,c.path,o);c.currentInputSnapshot=d;const h=e[a].update(d.val());if(void 0!==h){El("transaction failed: Data returned ",h,c.path);let p=lt(h);"object"==typeof h&&null!=h&&s3(h,".priority")||(p=p.updatePriority(d.getPriority()));const g=c.currentWriteId,_=Nl(n),b=_V(p,d,_);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=b,c.currentWriteId=Np(n),o.splice(o.indexOf(g),1),i=i.concat(fV(n.serverSyncTree_,c.path,b,c.currentWriteId,c.applyLocally)),i=i.concat(B4(n.serverSyncTree_,g,!0))}else u=!0,f="nodata",i=i.concat(B4(n.serverSyncTree_,c.currentWriteId,!0))}Qn(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}Vp(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)s6(r[a]);Dp(n,n.transactionQueueTree_)}(n,Nse(n,t),r),r}function Tse(n,e){let t,r=n.transactionQueueTree_;for(t=je(e);null!==t&&void 0===So(r);)r=Sp(r,t),t=je(e=D1(e));return r}function Nse(n,e){const t=[];return Dse(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Dse(n,e,t){const r=So(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);zp(e,i=>{Dse(n,i,t)})}function Vp(n,e){const t=So(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,bV(e,t.length>0?t:void 0)}zp(e,r=>{Vp(n,r)})}function HV(n,e){const t=So(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(q(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(q(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(B4(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?bV(e,void 0):t.length=s+1,Qn(n.eventQueue_,Sl(e),i);for(let o=0;o<r.length;o++)s6(r[o])}}const IV=function(n,e){const t=C_1(n),r=t.namespace;return"firebase.com"===t.domain&&Hi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&j2("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ID(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new _1(t.pathString)}},C_1=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),e=n.substring(0,Math.min(u,f)),u<f&&(i=function __1(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(u,f)));const d=function y_1(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):j2(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,f)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const h=e.slice(0,l);if("localhost"===h.toLowerCase())t="localhost";else if(h.split(".").length<=2)t=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Zn{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return We(this._path)?null:OD(this._path)}get ref(){return new jr(this._repo,this._path)}get _queryIdentifier(){const e=R4e(this._queryParams),t=VD(e);return"{}"===t?"default":t}get _queryObject(){return R4e(this._queryParams)}isEqual(e){if(!((e=u1(e))instanceof Zn))return!1;const t=this._repo===e._repo,r=PD(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function dg1(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class jr extends Zn{constructor(e,t){super(e,t,new qD,!1)}get parent(){const e=z4e(this._path);return null===e?null:new jr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Ev1(n){q(!_p,"__referenceConstructor has already been defined"),_p=n})(jr),function Hv1(n){q(!Cp,"__referenceConstructor has already been defined"),Cp=n}(jr);const A_1="FIREBASE_DATABASE_EMULATOR_HOST",AV={};let kse=!1;class F_1{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function s_1(n,e,t){if(n.stats_=LD(n.repoInfo_),n.forceRestClient_||Pm1())n.server_=new lp(n.repoInfo_,(r,i,s,o)=>{wse(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Sse(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{S2(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Co(n.repoInfo_,e,(r,i,s,o)=>{wse(n,r,i,s,o)},r=>{Sse(n,r)},r=>{!function o_1(n,e){p2(e,(t,r)=>{EV(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Gm1(n,e){const t=n.toString();return AD[t]||(AD[t]=e()),AD[t]}(n.repoInfo_,()=>new Gg1(n.stats_,n.server_)),n.infoData_=new Pg1,n.infoSyncTree_=new ase({startListening:(r,i,s,o)=>{let a=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=bl(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),EV(n,"connected",!1),n.serverSyncTree_=new ase({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,c)=>{const l=o(a,c);Qn(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jr(this._repo,f1())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function R_1(n,e){const t=AV[e];(!t||t[n.key]!==n)&&Hi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function Ese(n){n.persistentConnection_&&n.persistentConnection_.interrupt(bse)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Hi("Cannot call "+e+" on a deleted database.")}}function B_1(n=fi(),e){const t=yn(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=N9("database");r&&function U_1(n,e,t,r={}){(n=u1(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Hi("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ll(ll.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:Ey(r.mockUserToken,n.app.options.projectId);s=new ll(o)}!function L_1(n,e,t,r){n.repoInfo_=new ID(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}Co.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Co.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function $_1(n){(function Tm1(n){TD=n})(c3),Xt(new Pt("database",(e,{instanceIdentifier:t})=>function k_1(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),h2("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,o=IV(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(l=process.env[A_1]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=IV(s,i),a=o.repoInfo):c=!o.repoInfo.secure;const u=i&&c?new ll(ll.OWNER):new Bm1(n.name,n.options,e);_se("Invalid Firebase Database URL",o),We(o.path)||Hi("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function O_1(n,e,t,r){let i=AV[e.name];i||(i={},AV[e.name]=i);let s=i[n.toURLString()];return s&&Hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new i_1(n,kse,t,r),i[n.toURLString()]=s,s}(a,n,u,new Fm1(n.name,t));return new F_1(f,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Ge(B3e,"0.14.4",n),Ge(B3e,"0.14.4","esm2017")}();class LV{constructor(e){return e}}const kV=new te("angularfire2.database-instances");function K_1(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new LV(r)}}const Y_1={provide:class W_1{constructor(){return mi("database")}},deps:[[new Ze,kV]]},Q_1={provide:LV,useFactory:function q_1(n,e){const t=pi("database",n,e);return t&&new LV(t)},deps:[[new Ze,kV],$n]};let Z_1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[Q_1,Y_1]}),n})();function X_1(n,...e){return{ngModule:Z_1,providers:[{provide:kV,useFactory:K_1(n),multi:!0,deps:[Ce,T1,gi,vi,[new Ze,z8],[new Ze,ac],...e]}]}}const J_1=X1(B_1,!0),OV="functions";class iy1{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return v(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return v(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return v(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return v(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const PV="us-central1";class oy1{constructor(e,t,r,i,s=PV,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new iy1(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=PV}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const Use="@firebase/functions";function gy1(n=fi(),e=PV){const r=yn(u1(n),OV).getImmediate({identifier:e}),i=N9("functions");return i&&function vy1(n,e,t){!function ay1(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(u1(n),e,t)}(r,...i),r}!function my1(n,e){Xt(new Pt(OV,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),c=r.getProvider("app-check-internal");return new oy1(s,o,a,c,i,n)},"PUBLIC").setMultipleInstances(!0)),Ge(Use,"0.9.4",e),Ge(Use,"0.9.4","esm2017")}(fetch.bind(self));class UV{constructor(e){return e}}const $V=new te("angularfire2.functions-instances");function Cy1(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new UV(r)}}const by1={provide:class _y1{constructor(){return mi("functions")}},deps:[[new Ze,$V]]},My1={provide:UV,useFactory:function yy1(n,e){const t=pi("functions",n,e);return t&&new UV(t)},deps:[[new Ze,$V],$n]};let wy1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[My1,by1]}),n})();function Sy1(n,...e){return{ngModule:wy1,providers:[{provide:$V,useFactory:Cy1(n),multi:!0,deps:[Ce,T1,gi,vi,[new Ze,z8],[new Ze,ac],...e]}]}}const zy1=X1(gy1,!0);class GV{constructor(e){return e}}const jV=new te("angularfire2.messaging-instances");function Ny1(n){return(e,t)=>{if(!U9.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new GV(r)}}const Dy1={provide:class Ey1{constructor(){return mi("messaging")}},deps:[[new Ze,jV]]},Vy1={provide:GV,useFactory:function Ty1(n,e){if(!U9.sync())return null;const t=pi("messaging",n,e);return t&&new GV(t)},deps:[[new Ze,jV],$n]};let Hy1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[Vy1,Dy1,{provide:os,useValue:U9.async,multi:!0}]}),n})();function Iy1(n,...e){return{ngModule:Hy1,providers:[{provide:jV,useFactory:Ny1(n),multi:!0,deps:[Ce,T1,gi,vi,...e]}]}}const xy1=X1(Qwe,!0),Wse="@firebase/performance",WV="0.6.4",qse=WV,qV="FB-PERF-TRACE-MEASURE",Xse="@firebase/performance/config",Jse="@firebase/performance/configexpire",eoe="Performance",I2=new Lr("performance",eoe,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Li=new i4(eoe);let KV,toe,noe,QV;Li.logLevel=Qe.INFO;class m2{constructor(e){if(this.window=e,!e)throw I2.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&D9()?!!r4()||(Li.info("IndexedDB is not supported by current browswer"),!1):(Li.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===KV&&(KV=new m2(toe)),KV}}function YV(){return noe}function roe(n,e){const t=n.length-e.length;if(t<0||t>1)throw I2.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class Xn{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=roe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=roe("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===QV&&(QV=new Xn),QV}}var Eo=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(Eo||(Eo={})),Eo))();const By1=["firebase_","google_","ga_"],Uy1=new RegExp("^[a-zA-Z]\\w*$");function jy1(){const n=m2.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function ioe(){switch(m2.getInstance().document.visibilityState){case"visible":return Eo.VISIBLE;case"hidden":return Eo.HIDDEN;default:return Eo.UNKNOWN}}function Wy1(){const e=m2.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function soe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw I2.create("no app id");return t}const Zy1="0.0.1",Wr={loggingEnabled:!0},Xy1="FIREBASE_INSTALLATIONS_AUTH";const nC1="Could not fetch config, will use default configs";function ooe(n){if(!n)return n;const e=Xn.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Wr.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Wr.logSource&&(e.logSource=Wr.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Wr.logEndPointUrl&&(e.logEndPointUrl=Wr.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Wr.transportKey&&(e.transportKey=Wr.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Wr.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Wr.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Wr.tracesSamplingRate&&(e.tracesSamplingRate=Wr.tracesSamplingRate),e.logTraceAfterSampling=aoe(e.tracesSamplingRate),e.logNetworkAfterSampling=aoe(e.networkRequestsSamplingRate),n}function aoe(n){return Math.random()<=n}let XV,ZV=1;function coe(n){return ZV=2,XV=XV||function oC1(n){return function aC1(){const n=m2.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function Py1(n){const e=n.getId();return e.then(t=>{noe=t}),e}(n.installations)).then(e=>function Jy1(n,e){const t=function eC1(){const n=m2.getInstance().localStorage;if(!n)return;const e=n.getItem(Jse);if(!e||!function iC1(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(Xse);if(t)try{return JSON.parse(t)}catch{return}}();return t?(ooe(t),Promise.resolve()):function rC1(n,e){return function Fy1(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function Yy1(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw I2.create("no project id");return t}(n.app),i=function Qy1(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw I2.create("no api key");return t}(n.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`${Xy1} ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:soe(n.app),app_version:qse,sdk_version:Zy1})});return fetch(o).then(a=>{if(a.ok)return a.json();throw I2.create("RC response not ok")})}).catch(()=>{Li.info(nC1)})}(n,e).then(ooe).then(r=>function tC1(n){const e=m2.getInstance().localStorage;!n||!e||(e.setItem(Xse,JSON.stringify(n)),e.setItem(Jse,String(Date.now()+60*Xn.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>loe(),()=>loe())}(n),XV}function loe(){ZV=3}const JV=1e4,uoe=3,lC1=1e3;let eH,Lp=uoe,G4=[],foe=!1;function kp(n){setTimeout(()=>{if(0!==Lp){if(!G4.length)return kp(JV);!function fC1(){const n=G4.splice(0,lC1),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function dC1(n,e){return function hC1(n){const e=Xn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||Li.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=JV;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(G4=[...e,...G4],Li.info("Retry transport request later.")),Lp=uoe,kp(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Xn.getInstance().logSource,log_event:e},n).catch(()=>{G4=[...n,...G4],Lp--,Li.info(`Tries left: ${Lp}.`),kp(JV)})}()}},n)}function doe(n,e){eH||(eH=function mC1(n){return(...e)=>{!function pC1(n){if(!n.eventTime||!n.message)throw I2.create("invalid cc log");G4=[...G4,n]}({message:n(...e),eventTime:Date.now()})}}(vC1)),eH(n,e)}function Rp(n){const e=Xn.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||m2.getInstance().requiredApisAvailable()&&(n.isAuto&&ioe()!==Eo.VISIBLE||(function sC1(){return 3===ZV}()?tH(n):coe(n.performanceController).then(()=>tH(n),()=>tH(n))))}function tH(n){if(!YV())return;const e=Xn.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>doe(n,1),0)}function vC1(n,e){return 0===e?function _C1(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:hoe(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function yC1(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:hoe(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function hoe(n){return{google_app_id:soe(n),app_instance_id:YV(),web_app_info:{sdk_version:qse,page_url:m2.getInstance().getUrl(),service_worker_status:jy1(),visibility_state:ioe(),effective_connection_type:Wy1()},application_process_state:0}}const MC1=["_fp","_fcp","_fid"];class j4{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=m2.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${qV}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw I2.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw I2.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Rp(this)}record(e,t,r){if(e<=0)throw I2.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw I2.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));Rp(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function wC1(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&MC1.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw I2.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function SC1(n){const e=Math.floor(n);return e<n&&Li.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function qy1(n){return!(0===n.length||n.length>40||By1.some(t=>n.startsWith(t))||!n.match(Uy1))}(e),i=function Ky1(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw I2.create("invalid attribute name",{attributeName:e});if(!i)throw I2.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=m2.getInstance().getUrl();if(!s)return;const o=new j4(e,"_wt_"+s,!0),a=Math.floor(1e3*m2.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const u=r.find(d=>"first-paint"===d.name);u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));const f=r.find(d=>"first-contentful-paint"===d.name);f&&f.startTime&&o.putMetric("_fcp",Math.floor(1e3*f.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}Rp(o)}static createUserTimingTrace(e,t){Rp(new j4(e,t,!1,t))}}function poe(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=m2.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function gC1(n){const e=Xn.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>doe(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}const zC1=5e3;function moe(n){YV()&&(setTimeout(()=>function TC1(n){const e=m2.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{j4.createOobTrace(n,t,r),i=void 0},zC1);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),j4.createOobTrace(n,t,r,s))})}else j4.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function EC1(n){const e=m2.getInstance(),t=e.getEntriesByType("resource");for(const r of t)poe(n,r);e.setupObserver("resource",r=>poe(n,r))}(n),0),setTimeout(()=>function NC1(n){const e=m2.getInstance(),t=e.getEntriesByType("measure");for(const r of t)goe(n,r);e.setupObserver("measure",r=>goe(n,r))}(n),0))}function goe(n,e){const t=e.name;t.substring(0,qV.length)!==qV&&j4.createUserTimingTrace(n,t)}class DC1{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),m2.getInstance().requiredApisAvailable()?ec().then(t=>{t&&(function uC1(){foe||(kp(5500),foe=!0)}(),coe(this).then(()=>moe(this),()=>moe(this)),this.initialized=!0)}).catch(t=>{Li.info(`Environment doesn't support IndexedDB: ${t}`)}):Li.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Xn.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Xn.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Xn.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Xn.getInstance().dataCollectionEnabled}}function HC1(n=fi()){return yn(n=u1(n),"performance").getImmediate()}const IC1=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw I2.create("FB not default");if(typeof window>"u")throw I2.create("no window");!function Oy1(n){toe=n}(window);const i=new DC1(t,r);return i._init(e),i};!function xC1(){Xt(new Pt("performance",IC1,"PUBLIC")),Ge(Wse,WV),Ge(Wse,WV,"esm2017")}();class nH{constructor(e){return e}}const voe="performance",rH=new te("angularfire2.performance-instances");function kC1(n){return(e,t,r)=>{if(!Pv(t))return null;const i=e.runOutsideAngular(()=>n(r));return new nH(i)}}const RC1={provide:class AC1{constructor(){return mi(voe)}},deps:[[new Ze,rH]]},OC1={provide:nH,useFactory:function LC1(n,e,t){if(!Pv(t))return null;const r=pi(voe,n,e);return r&&new nH(r)},deps:[[new Ze,rH],$n,as]};let PC1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[OC1,RC1]}),n})();function FC1(n,...e){return{ngModule:PC1,providers:[{provide:rH,useFactory:kC1(n),multi:!0,deps:[Ce,as,T1,gi,vi,...e]}]}}const BC1=X1(HC1,!0);class iH{constructor(e){return e}}const _oe="remote-config",sH=new te("angularfire2.remote-config-instances");function GC1(n){return(e,t)=>{if(!$9.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new iH(r)}}const jC1={provide:class UC1{constructor(){return mi(_oe)}},deps:[[new Ze,sH]]},WC1={provide:iH,useFactory:function $C1(n,e){if(!$9.sync())return null;const t=pi(_oe,n,e);return t&&new iH(t)},deps:[[new Ze,sH],$n]};let qC1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[WC1,jC1,{provide:os,useValue:$9.async,multi:!0}]}),n})();function KC1(n,...e){return{ngModule:qC1,providers:[{provide:sH,useFactory:GC1(n),multi:!0,deps:[Ce,T1,gi,vi,...e]}]}}const YC1=X1(WMe,!0);let QC1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n,bootstrap:[Jd1]}),n.\u0275inj=De({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:q0.PROVIDER_ID,provider:new q0(wD_google_client_id)}],onError:e=>{console.error(e)}}}],imports:[JR,l01,hCe,Jp1,Ov,Tde,Nde,Q61,ime,ome,YSe(()=>QSe(wD_firebase)),Oxe(()=>Bxe()),nc1(()=>pre()),Em1(()=>rm1()),ANe(()=>kNe()),X_1(()=>J_1()),Sy1(()=>zy1()),Iy1(()=>xy1()),FC1(()=>BC1()),KC1(()=>YC1())]}),n})();hfe().bootstrapModule(QC1).catch(n=>console.error(n))},321:()=>{const Ue=":";class V1 extends Error{constructor(S){super(`No translation found for ${z6(S)}.`),this.parsedMessage=S,this.type="MissingTranslationError"}}const Bl=function(E,...S){if(Bl.translate){const R=Bl.translate(E,S);E=R[0],S=R[1]}let H=Yp(E[0],E.raw[0]);for(let R=1;R<E.length;R++)H+=S[R-1]+Yp(E[R],E.raw[R]);return H},lH=":";function Yp(E,S){return S.charAt(0)===lH?E.substring(function S6(E,S){for(let H=1,R=1;H<E.length;H++,R++)if("\\"===S[R])R++;else if(E[H]===Ue)return H;throw new Error(`Unterminated $localize metadata block in "${S}".`)}(E,S)+1):E}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Bl}},Ue=>{var A3=L3=>Ue(Ue.s=L3);A3(321),A3(777)}]);