"use strict";(self.webpackChunkulab_webpage_bootstrap=self.webpackChunkulab_webpage_bootstrap||[]).push([[179],{777:()=>{function Ue(n){return"function"==typeof n}function A3(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const W4=A3(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function L3(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class It{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof W4?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Ri(s)}catch(o){e=e??[],o instanceof W4?e=[...e,...o.errors]:e.push(o)}}if(e)throw new W4(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ri(e);else{if(e instanceof It){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&L3(t,e)}remove(e){const{_finalizers:t}=this;t&&L3(t,e),e instanceof It&&e._removeParent(this)}}It.EMPTY=(()=>{const n=new It;return n.closed=!0,n})();const y6=It.EMPTY;function Il(n){return n instanceof It||n&&"closed"in n&&Ue(n.remove)&&Ue(n.add)&&Ue(n.unsubscribe)}function Ri(n){Ue(n)?n():n.unsubscribe()}const k3={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vo={setTimeout(n,e,...t){const{delegate:r}=Vo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Vo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Rp(n){Vo.setTimeout(()=>{const{onUnhandledError:e}=k3;if(!e)throw n;e(n)})}function R3(){}const Op=C6("C",void 0,void 0);function C6(n,e,t){return{kind:n,value:e,error:t}}let Oi=null;function Yr(n){if(k3.useDeprecatedSynchronousErrorHandling){const e=!Oi;if(e&&(Oi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Oi;if(Oi=null,t)throw r}}else n()}class Ho extends It{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Il(e)&&e.add(this)):this.destination=M6}static create(e,t,r){return new O3(e,t,r)}next(e){this.isStopped?b6(function Fp(n){return C6("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?b6(function Pp(n){return C6("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?b6(Op,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xl=Function.prototype.bind;function Io(n,e){return xl.call(n,e)}class Al{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Tn(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Tn(r)}else Tn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Tn(t)}}}class O3 extends Ho{constructor(e,t,r){let i;if(super(),Ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&k3.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Io(e.next,s),error:e.error&&Io(e.error,s),complete:e.complete&&Io(e.complete,s)}):i=e}this.destination=new Al(i)}}function Tn(n){k3.useDeprecatedSynchronousErrorHandling?function Bp(n){k3.useDeprecatedSynchronousErrorHandling&&Oi&&(Oi.errorThrown=!0,Oi.error=n)}(n):Rp(n)}function b6(n,e){const{onStoppedNotification:t}=k3;t&&Vo.setTimeout(()=>t(n,e))}const M6={closed:!0,next:R3,error:function Ll(n){throw n},complete:R3},w6="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cr(n){return n}function Rl(n){return 0===n.length?Cr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Je=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function $p(n){return n&&n instanceof Ho||function Up(n){return n&&Ue(n.next)&&Ue(n.error)&&Ue(n.complete)}(n)&&Il(n)}(t)?t:new O3(t,r,i);return Yr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ol(r))((i,s)=>{const o=new O3({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[w6](){return this}pipe(...t){return Rl(t)(this)}toPromise(t){return new(t=Ol(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Ol(n){var e;return null!==(e=n??k3.Promise)&&void 0!==e?e:Promise}const Gp=A3(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ke=(()=>{class n extends Je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Pl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Gp}next(t){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?y6:(this.currentObservers=null,s.push(t),new It(()=>{this.currentObservers=null,L3(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Je;return t.source=this,t}}return n.create=(e,t)=>new Pl(e,t),n})();class Pl extends Ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:y6}}function S6(n){return Ue(n?.lift)}function D1(n){return e=>{if(S6(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function C1(n,e,t,r,i){return new Fl(n,e,t,r,i)}class Fl extends Ho{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(n,e){return D1((t,r)=>{let i=0;t.subscribe(C1(r,s=>{r.next(n.call(e,s,i++))}))})}function Wp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function S(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function cn(n){return this instanceof cn?(this.v=n,this):new cn(n)}function T6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function se(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}const Kp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fH(n){return Ue(n?.then)}function dH(n){return Ue(n[w6])}function hH(n){return Symbol.asyncIterator&&Ue(n?.[Symbol.asyncIterator])}function pH(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mH=function Noe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function gH(n){return Ue(n?.[mH])}function vH(n){return function q4(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{!function c(d){d.value instanceof cn?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield cn(t.read());if(i)return yield cn(void 0);yield yield cn(r)}}finally{t.releaseLock()}})}function _H(n){return Ue(n?.getReader)}function xt(n){if(n instanceof Je)return n;if(null!=n){if(dH(n))return function Doe(n){return new Je(e=>{const t=n[w6]();if(Ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Kp(n))return function Voe(n){return new Je(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(fH(n))return function Hoe(n){return new Je(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Rp)})}(n);if(hH(n))return yH(n);if(gH(n))return function Ioe(n){return new Je(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(_H(n))return function xoe(n){return yH(vH(n))}(n)}throw pH(n)}function yH(n){return new Je(e=>{(function Aoe(n,e){var t,r,i,s;return S(this,void 0,void 0,function*(){try{for(t=T6(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Pi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function At(n,e,t=1/0){return Ue(e)?At((r,i)=>ge((s,o)=>e(r,s,i,o))(xt(n(r,i))),t):("number"==typeof e&&(t=e),D1((r,i)=>function Loe(n,e,t,r,i,s,o,a){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&e.complete()},h=m=>l<r?p(m):c.push(m),p=m=>{s&&e.next(m),l++;let g=!1;xt(t(m,u++)).subscribe(C1(e,_=>{i?.(_),s?h(_):e.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){const _=c.shift();o?Pi(e,o,()=>p(_)):p(_)}d()}catch(_){e.error(_)}}))};return n.subscribe(C1(e,h,()=>{f=!0,d()})),()=>{a?.()}}(r,i,n,t)))}function Lo(n=1/0){return At(Cr,n)}const tr=new Je(n=>n.complete());function CH(n){return n&&Ue(n.schedule)}function Yp(n){return n[n.length-1]}function $l(n){return Ue(Yp(n))?n.pop():void 0}function N6(n){return CH(Yp(n))?n.pop():void 0}function Gl(n,e=0){return D1((t,r)=>{t.subscribe(C1(r,i=>Pi(r,n,()=>r.next(i),e),()=>Pi(r,n,()=>r.complete(),e),i=>Pi(r,n,()=>r.error(i),e)))})}function jl(n,e=0){return D1((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function bH(n,e){if(!n)throw new Error("Iterable cannot be null");return new Je(t=>{Pi(t,e,()=>{const r=n[Symbol.asyncIterator]();Pi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Lt(n,e){return e?function $oe(n,e){if(null!=n){if(dH(n))return function Ooe(n,e){return xt(n).pipe(jl(e),Gl(e))}(n,e);if(Kp(n))return function Foe(n,e){return new Je(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(fH(n))return function Poe(n,e){return xt(n).pipe(jl(e),Gl(e))}(n,e);if(hH(n))return bH(n,e);if(gH(n))return function Boe(n,e){return new Je(t=>{let r;return Pi(t,e,()=>{r=n[mH](),Pi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(n,e);if(_H(n))return function Uoe(n,e){return bH(vH(n),e)}(n,e)}throw pH(n)}(n,e):xt(n)}function MH(...n){const e=N6(n),t=function Roe(n,e){return"number"==typeof Yp(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?xt(r[0]):Lo(t)(Lt(r,e)):tr}function Qp(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new O3({next:()=>{r.unsubscribe(),n()}});return xt(e(...t)).subscribe(r)}function E1(n){for(let e in n)if(n[e]===E1)return e;throw Error("Could not find renamed property on target object.")}function Zp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function V1(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(V1).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Xp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const joe=E1({__forward_ref__:E1});function Se(n){return n.__forward_ref__=Se,n.toString=function(){return V1(this())},n}function ve(n){return Jp(n)?n():n}function Jp(n){return"function"==typeof n&&n.hasOwnProperty(joe)&&n.__forward_ref__===Se}function em(n){return n&&!!n.\u0275providers}const Wl="https://g.co/ng/security#xss";class I extends Error{constructor(e,t){super(ql(e,t)),this.code=e}}function ql(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Ne(n){return"string"==typeof n?n:null==n?"":String(n)}function Kl(n,e){throw new I(-201,!1)}function p1(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function De(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yl(n){return wH(n,Ql)||wH(n,zH)}function wH(n,e){return n.hasOwnProperty(e)?n[e]:null}function SH(n){return n&&(n.hasOwnProperty(tm)||n.hasOwnProperty(Joe))?n[tm]:null}const Ql=E1({\u0275prov:E1}),tm=E1({\u0275inj:E1}),zH=E1({ngInjectableDef:E1}),Joe=E1({ngInjectorDef:E1});var _e=(()=>((_e=_e||{})[_e.Default=0]="Default",_e[_e.Host=1]="Host",_e[_e.Self=2]="Self",_e[_e.SkipSelf=4]="SkipSelf",_e[_e.Optional=8]="Optional",_e))();let nm;function rr(n){const e=nm;return nm=n,e}function EH(n,e,t){const r=Yl(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&_e.Optional?null:void 0!==e?e:void Kl(V1(n))}const B1=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),D6={},rm="__NG_DI_FLAG__",Zl="ngTempTokenPath",tae="ngTokenPath",nae=/\n/gm,rae="\u0275",TH="__source";let V6;function ko(n){const e=V6;return V6=n,e}function iae(n,e=_e.Default){if(void 0===V6)throw new I(-203,!1);return null===V6?EH(n,void 0,e):V6.get(n,e&_e.Optional?null:void 0,e)}function O(n,e=_e.Default){return(function eae(){return nm}()||iae)(ve(n),e)}function Fe(n,e=_e.Default){return O(n,Xl(e))}function Xl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function im(n){const e=[];for(let t=0;t<n.length;t++){const r=ve(n[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=_e.Default;for(let o=0;o<r.length;o++){const a=r[o],c=sae(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function H6(n,e){return n[rm]=e,n.prototype[rm]=e,n}function sae(n){return n[rm]}function Fi(n){return{toString:n}.toString()}var Qr=(()=>((Qr=Qr||{})[Qr.OnPush=0]="OnPush",Qr[Qr.Default=1]="Default",Qr))(),br=(()=>{return(n=br||(br={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",br;var n})();const Bi={},d1=[],Jl=E1({\u0275cmp:E1}),sm=E1({\u0275dir:E1}),om=E1({\u0275pipe:E1}),DH=E1({\u0275mod:E1}),Ui=E1({\u0275fac:E1}),I6=E1({__NG_ELEMENT_ID__:E1});let cae=0;function n1(n){return Fi(()=>{const e=HH(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Qr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||br.Emulated,id:"c"+cae++,styles:n.styles||d1,_:null,schemas:n.schemas||null,tView:null};IH(t);const r=n.dependencies;return t.directiveDefs=e7(r,!1),t.pipeDefs=e7(r,!0),t})}function uae(n){return m1(n)||A2(n)}function fae(n){return null!==n}function xe(n){return Fi(()=>({type:n.type,bootstrap:n.bootstrap||d1,declarations:n.declarations||d1,imports:n.imports||d1,exports:n.exports||d1,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function VH(n,e){if(null==n)return Bi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function G(n){return Fi(()=>{const e=HH(n);return IH(e),e})}function ln(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function m1(n){return n[Jl]||null}function A2(n){return n[sm]||null}function un(n){return n[om]||null}function Dn(n,e){const t=n[DH]||null;if(!t&&!0===e)throw new Error(`Type ${V1(n)} does not have '\u0275mod' property.`);return t}function HH(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||d1,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VH(n.inputs,e),outputs:VH(n.outputs)}}function IH(n){n.features?.forEach(e=>e(n))}function e7(n,e){if(!n)return null;const t=e?un:uae;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(fae)}const $i=0,ee=1,Re=2,dt=3,Mr=4,K4=5,L2=6,Oo=7,wt=8,t7=9,n7=10,Be=11,am=12,x6=13,xH=14,Po=15,k2=16,A6=17,Fo=18,Zr=19,L6=20,AH=21,U1=22,cm=1,LH=2,r7=7,i7=8,Bo=9,q2=10;function Vn(n){return Array.isArray(n)&&"object"==typeof n[cm]}function wr(n){return Array.isArray(n)&&!0===n[cm]}function lm(n){return 0!=(4&n.flags)}function k6(n){return n.componentOffset>-1}function s7(n){return 1==(1&n.flags)}function Sr(n){return!!n.template}function hae(n){return 0!=(256&n[Re])}function Y4(n,e){return n.hasOwnProperty(Ui)?n[Ui]:null}class gae{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $1(){return OH}function OH(n){return n.type.prototype.ngOnChanges&&(n.setInput=_ae),vae}function vae(){const n=FH(this),e=n?.current;if(e){const t=n.previous;if(t===Bi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function _ae(n,e,t,r){const i=this.declaredInputs[t],s=FH(n)||function yae(n,e){return n[PH]=e}(n,{previous:Bi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new gae(c&&c.currentValue,e,a===Bi),n[r]=e}$1.ngInherit=!0;const PH="__ngSimpleChanges__";function FH(n){return n[PH]||null}const ir=function(n,e,t){};function v2(n){for(;Array.isArray(n);)n=n[$i];return n}function o7(n,e){return v2(e[n])}function Hn(n,e){return v2(e[n.index])}function $H(n,e){return n.data[e]}function Uo(n,e){return n[e]}function fn(n,e){const t=e[n];return Vn(t)?t:t[$i]}function a7(n){return 64==(64&n[Re])}function F3(n,e){return null==e?null:n[e]}function GH(n){n[Fo]=0}function fm(n,e){n[K4]+=e;let t=n,r=n[dt];for(;null!==r&&(1===e&&1===t[K4]||-1===e&&0===t[K4]);)r[K4]+=e,t=r,r=r[dt]}const Ve={lFrame:eI(null),bindingsEnabled:!0};function WH(){return Ve.bindingsEnabled}function P(){return Ve.lFrame.lView}function r1(){return Ve.lFrame.tView}function Me(n){return Ve.lFrame.contextLView=n,n[wt]}function we(n){return Ve.lFrame.contextLView=null,n}function _2(){let n=qH();for(;null!==n&&64===n.type;)n=n.parent;return n}function qH(){return Ve.lFrame.currentTNode}function R6(){const n=Ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Xr(n,e){const t=Ve.lFrame;t.currentTNode=n,t.isParent=e}function dm(){return Ve.lFrame.isParent}function hm(){Ve.lFrame.isParent=!1}function K2(){const n=Ve.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Gi(){return Ve.lFrame.bindingIndex}function $o(){return Ve.lFrame.bindingIndex++}function ji(n){const e=Ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function QH(n){Ve.lFrame.inI18n=n}function Iae(n,e){const t=Ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,pm(e)}function pm(n){Ve.lFrame.currentDirectiveIndex=n}function ZH(){return Ve.lFrame.currentQueryIndex}function gm(n){Ve.lFrame.currentQueryIndex=n}function Aae(n){const e=n[ee];return 2===e.type?e.declTNode:1===e.type?n[L2]:null}function XH(n,e,t){if(t&_e.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&_e.Host||(i=Aae(s),null===i||(s=s[Po],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ve.lFrame=JH();return r.currentTNode=e,r.lView=n,!0}function vm(n){const e=JH(),t=n[ee];Ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function JH(){const n=Ve.lFrame,e=null===n?null:n.child;return null===e?eI(n):e}function eI(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function tI(){const n=Ve.lFrame;return Ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const nI=tI;function _m(){const n=tI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Y2(){return Ve.lFrame.selectedIndex}function Q4(n){Ve.lFrame.selectedIndex=n}function rt(){const n=Ve.lFrame;return $H(n.tView,n.selectedIndex)}function c7(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks??(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks??(n.viewHooks=[])).push(t,l),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,l)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function l7(n,e,t){rI(n,e,3,t)}function u7(n,e,t,r){(3&n[Re])===t&&rI(n,e,t,r)}function ym(n,e){let t=n[Re];(3&t)===e&&(t&=2047,t+=1,n[Re]=t)}function rI(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Fo]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Fo]+=65536),(a<s||-1==s)&&($ae(n,t,e,c),n[Fo]=(4294901760&n[Fo])+c+2),c++}function $ae(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[Re]>>11<n[Fo]>>16&&(3&n[Re])===e){n[Re]+=2048,ir(4,a,s);try{s.call(a)}finally{ir(5,a,s)}}}else{ir(4,a,s);try{s.call(a)}finally{ir(5,a,s)}}}const Go=-1;class O6{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function bm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];sI(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function iI(n){return 3===n||4===n||6===n}function sI(n){return 64===n.charCodeAt(0)}function P6(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||oI(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function oI(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function aI(n){return n!==Go}function f7(n){return 32767&n}function d7(n,e){let t=function qae(n){return n>>16}(n),r=e;for(;t>0;)r=r[Po],t--;return r}let Mm=!0;function h7(n){const e=Mm;return Mm=n,e}const cI=255,lI=5;let Kae=0;const Jr={};function p7(n,e){const t=uI(n,e);if(-1!==t)return t;const r=e[ee];r.firstCreatePass&&(n.injectorIndex=e.length,wm(r.data,n),wm(e,null),wm(r.blueprint,null));const i=Sm(n,e),s=n.injectorIndex;if(aI(i)){const o=f7(i),a=d7(i,e),c=a[ee].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function wm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function uI(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Sm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=vI(i),null===r)return Go;if(t++,i=i[Po],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Go}function zm(n,e,t){!function Yae(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(I6)&&(r=t[I6]),null==r&&(r=t[I6]=Kae++);const i=r&cI;e.data[n+(i>>lI)]|=1<<i}(n,e,t)}function fI(n,e,t){if(t&_e.Optional||void 0!==n)return n;Kl()}function dI(n,e,t,r){if(t&_e.Optional&&void 0===r&&(r=null),!(t&(_e.Self|_e.Host))){const i=n[t7],s=rr(void 0);try{return i?i.get(e,r,t&_e.Optional):EH(e,r,t&_e.Optional)}finally{rr(s)}}return fI(r,0,t)}function hI(n,e,t,r=_e.Default,i){if(null!==n){if(1024&e[Re]){const o=function ece(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[Re]&&!(256&o[Re]);){const a=pI(s,o,t,r|_e.Self,Jr);if(a!==Jr)return a;let c=s.parent;if(!c){const l=o[AH];if(l){const u=l.get(t,Jr,r);if(u!==Jr)return u}c=vI(o),o=o[Po]}s=c}return i}(n,e,t,r,Jr);if(o!==Jr)return o}const s=pI(n,e,t,r,Jr);if(s!==Jr)return s}return dI(e,t,r,i)}function pI(n,e,t,r,i){const s=function Xae(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(I6)?n[I6]:void 0;return"number"==typeof e?e>=0?e&cI:Jae:e}(t);if("function"==typeof s){if(!XH(e,n,r))return r&_e.Host?fI(i,0,r):dI(e,t,r,i);try{const o=s(r);if(null!=o||r&_e.Optional)return o;Kl()}finally{nI()}}else if("number"==typeof s){let o=null,a=uI(n,e),c=Go,l=r&_e.Host?e[k2][L2]:null;for((-1===a||r&_e.SkipSelf)&&(c=-1===a?Sm(n,e):e[a+8],c!==Go&&gI(r,!1)?(o=e[ee],a=f7(c),e=d7(c,e)):a=-1);-1!==a;){const u=e[ee];if(mI(s,a,u.data)){const f=Zae(a,e,t,o,r,l);if(f!==Jr)return f}c=e[a+8],c!==Go&&gI(r,e[ee].data[a+8]===l)&&mI(s,a,e)?(o=u,a=f7(c),e=d7(c,e)):a=-1}}return i}function Zae(n,e,t,r,i,s){const o=e[ee],a=o.data[n+8],u=m7(a,o,t,null==r?k6(a)&&Mm:r!=o&&0!=(3&a.type),i&_e.Host&&s===a);return null!==u?Z4(e,o,u,a):Jr}function m7(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,u=s>>20,d=i?a+u:n.directiveEnd;for(let h=r?a:a+u;h<d;h++){const p=o[h];if(h<c&&t===p||h>=c&&p.type===t)return h}if(i){const h=o[c];if(h&&Sr(h)&&h.type===t)return c}return null}function Z4(n,e,t,r){let i=n[t];const s=e.data;if(function Gae(n){return n instanceof O6}(i)){const o=i;o.resolving&&function Woe(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${t}`)}(function h1(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ne(n)}(s[t]));const a=h7(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?rr(o.injectImpl):null;XH(n,r,_e.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Uae(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=OH(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&rr(c),h7(a),o.resolving=!1,nI()}}return i}function mI(n,e,t){return!!(t[e+(n>>lI)]&1<<n)}function gI(n,e){return!(n&_e.Self||n&_e.Host&&e)}class jo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hI(this._tNode,this._lView,e,Xl(r),t)}}function Jae(){return new jo(_2(),P())}function ht(n){return Fi(()=>{const e=n.prototype.constructor,t=e[Ui]||Em(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ui]||Em(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Em(n){return Jp(n)?()=>{const e=Em(ve(n));return e&&e()}:Y4(n)}function vI(n){const e=n[ee],t=e.type;return 2===t?e.declTNode:1===t?n[L2]:null}function B3(n){return function Qae(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(iI(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(_2(),n)}const qo="__parameters__";function Yo(n,e,t){return Fi(()=>{const r=function Tm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const f=c.hasOwnProperty(qo)?c[qo]:Object.defineProperty(c,qo,{value:[]})[qo];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function X4(n,e){n.forEach(t=>Array.isArray(t)?X4(t,e):e(t))}function yI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function g7(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function U6(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function In(n,e,t){let r=Qo(n,e);return r>=0?n[1|r]=t:(r=~r,function ice(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Dm(n,e){const t=Qo(n,e);if(t>=0)return n[1|t]}function Qo(n,e){return function CI(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ze=H6(Yo("Optional"),8),$6=H6(Yo("SkipSelf"),4);var dn=(()=>((dn=dn||{})[dn.Important=1]="Important",dn[dn.DashCase=2]="DashCase",dn))();const wce=/^>|^->|<!--|-->|--!>|<!-$/g,Sce=/(<|>)/,zce="\u200b$1\u200b";const Lm=new Map;let Ece=0;const Rm="__ngContext__";function R2(n,e){Vn(e)?(n[Rm]=e[L6],function Nce(n){Lm.set(n[L6],n)}(e)):n[Rm]=e}let Om;function Pm(n,e){return Om(n,e)}function q6(n){const e=n[dt];return wr(e)?e[dt]:e}function Fm(n){return FI(n[x6])}function Bm(n){return FI(n[Mr])}function FI(n){for(;null!==n&&!wr(n);)n=n[Mr];return n}function Xo(n,e,t,r,i){if(null!=r){let s,o=!1;wr(r)?s=r:Vn(r)&&(o=!0,r=r[$i]);const a=v2(r);0===n&&null!==t?null==i?WI(e,t,a):J4(e,t,a,i||null,!0):1===n&&null!==t?J4(e,t,a,i||null,!0):2===n?Km(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Zce(n,e,t,r,i){const s=t[r7];s!==v2(t)&&Xo(e,n,r,s,i);for(let a=q2;a<t.length;a++){const c=t[a];K6(c[ee],c,n,e,r,s)}}(e,n,s,t,i)}}function Um(n,e){return n.createText(e)}function BI(n,e,t){n.setValue(e,t)}function Pce(n,e){return n.createComment(function II(n){return n.replace(wce,e=>e.replace(Sce,zce))}(e))}function $m(n,e,t){return n.createElement(e,t)}function UI(n,e){const t=n[Bo],r=t.indexOf(e),i=e[dt];512&e[Re]&&(e[Re]&=-513,fm(i,-1)),t.splice(r,1)}function Gm(n,e){if(n.length<=q2)return;const t=q2+e,r=n[t];if(r){const i=r[A6];null!==i&&i!==n&&UI(i,r),e>0&&(n[t-1][Mr]=r[Mr]);const s=g7(n,q2+e);!function Fce(n,e){K6(n,e,e[Be],2,null,null),e[$i]=null,e[L2]=null}(r[ee],r);const o=s[Zr];null!==o&&o.detachView(s[ee]),r[dt]=null,r[Mr]=null,r[Re]&=-65}return r}function $I(n,e){if(!(128&e[Re])){const t=e[Be];t.destroyNode&&K6(n,e,t,3,null,null),function $ce(n){let e=n[x6];if(!e)return jm(n[ee],n);for(;e;){let t=null;if(Vn(e))t=e[x6];else{const r=e[q2];r&&(t=r)}if(!t){for(;e&&!e[Mr]&&e!==n;)Vn(e)&&jm(e[ee],e),e=e[dt];null===e&&(e=n),Vn(e)&&jm(e[ee],e),t=e&&e[Mr]}e=t}}(e)}}function jm(n,e){if(!(128&e[Re])){e[Re]&=-65,e[Re]|=128,function qce(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof O6)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ir(4,a,c);try{c.call(a)}finally{ir(5,a,c)}}else{ir(4,i,s);try{s.call(i)}finally{ir(5,i,s)}}}}}(n,e),function Wce(n,e){const t=n.cleanup,r=e[Oo];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Oo]=null}}(n,e),1===e[ee].type&&e[Be].destroy();const t=e[A6];if(null!==t&&wr(e[dt])){t!==e[dt]&&UI(t,e);const r=e[Zr];null!==r&&r.detachView(n)}!function Dce(n){Lm.delete(n[L6])}(e)}}function GI(n,e,t){return jI(n,e.parent,t)}function jI(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[$i];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===br.None||s===br.Emulated)return null}return Hn(r,t)}}function J4(n,e,t,r,i){n.insertBefore(e,t,r,i)}function WI(n,e,t){n.appendChild(e,t)}function qI(n,e,t,r,i){null!==r?J4(n,e,t,r,i):WI(n,e,t)}function C7(n,e){return n.parentNode(e)}function KI(n,e,t){return QI(n,e,t)}function YI(n,e,t){return 40&n.type?Hn(n,t):null}let Wm,w7,Zm,S7,QI=YI;function ZI(n,e){QI=n,Wm=e}function b7(n,e,t,r){const i=GI(n,r,e),s=e[Be],a=KI(r.parent||e[L2],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)qI(s,i,t[c],a,!1);else qI(s,i,t,a,!1);void 0!==Wm&&Wm(s,r,e,t,i)}function M7(n,e){if(null!==e){const t=e.type;if(3&t)return Hn(e,n);if(4&t)return qm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return M7(n,r);{const i=n[e.index];return wr(i)?qm(-1,i):v2(i)}}if(32&t)return Pm(e,n)()||v2(n[e.index]);{const r=XI(n,e);return null!==r?Array.isArray(r)?r[0]:M7(q6(n[k2]),r):M7(n,e.next)}}return null}function XI(n,e){return null!==e?n[k2][L2].projection[e.projection]:null}function qm(n,e){const t=q2+n+1;if(t<e.length){const r=e[t],i=r[ee].firstChild;if(null!==i)return M7(r,i)}return e[r7]}function Km(n,e,t){const r=C7(n,e);r&&function Kce(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function Ym(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&R2(v2(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Ym(n,e,t.child,r,i,s,!1),Xo(e,n,i,a,s);else if(32&c){const l=Pm(t,r);let u;for(;u=l();)Xo(e,n,i,u,s);Xo(e,n,i,a,s)}else 16&c?JI(n,e,r,t,i,s):Xo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function K6(n,e,t,r,i,s){Ym(t,r,n.firstChild,e,i,s,!1)}function JI(n,e,t,r,i,s){const o=t[k2],c=o[L2].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Xo(e,n,i,c[l],s);else Ym(n,e,c,o[dt],i,s,!0)}function ex(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function tx(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&bm(n,e,r),null!==i&&ex(n,e,i),null!==s&&function Jce(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Jo(n){return function Qm(){if(void 0===w7&&(w7=null,B1.trustedTypes))try{w7=B1.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return w7}()?.createHTML(n)||n}function nx(){return void 0!==Zm?Zm:typeof document<"u"?document:void 0}function Xm(){if(void 0===S7&&(S7=null,B1.trustedTypes))try{S7=B1.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return S7}function rx(n){return Xm()?.createHTML(n)||n}function sx(n){return Xm()?.createScriptURL(n)||n}class es{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wl})`}}class i6e extends es{getTypeName(){return"HTML"}}class s6e extends es{getTypeName(){return"Style"}}class o6e extends es{getTypeName(){return"Script"}}class a6e extends es{getTypeName(){return"URL"}}class c6e extends es{getTypeName(){return"ResourceURL"}}function xn(n){return n instanceof es?n.changingThisBreaksApplicationSecurity:n}function ei(n,e){const t=function l6e(n){return n instanceof es&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Wl})`)}return t===e}function ox(n){const e=new g6e(n);return function v6e(){try{return!!(new window.DOMParser).parseFromString(Jo(""),"text/html")}catch{return!1}}()?new m6e(e):e}class m6e{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Jo(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class g6e{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Jo(e),t}}const _6e=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function z7(n){return(n=String(n)).match(_6e)?n:"unsafe:"+n}function Wi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Y6(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const ax=Wi("area,br,col,hr,img,wbr"),cx=Wi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lx=Wi("rp,rt"),Jm=Y6(ax,Y6(cx,Wi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Y6(lx,Wi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Y6(lx,cx)),eg=Wi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ux=Y6(eg,Wi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),y6e=Wi("script,style,template");class C6e{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Jm.hasOwnProperty(t))return this.sanitizedSomething=!0,!y6e.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!ux.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;eg[a]&&(c=z7(c)),this.buf.push(" ",o,'="',fx(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Jm.hasOwnProperty(t)&&!ax.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fx(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const b6e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M6e=/([^\#-~ |!])/g;function fx(n){return n.replace(/&/g,"&amp;").replace(b6e,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(M6e,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let E7;function dx(n,e){let t=null;try{E7=E7||ox(n);let r=e?String(e):"";t=E7.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=E7.getInertBodyElement(r)}while(r!==s);return Jo((new C6e).sanitizeChildren(tg(t)||t))}finally{if(t){const r=tg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function tg(n){return"content"in n&&function w6e(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var H1=(()=>((H1=H1||{})[H1.NONE=0]="NONE",H1[H1.HTML=1]="HTML",H1[H1.STYLE=2]="STYLE",H1[H1.SCRIPT=3]="SCRIPT",H1[H1.URL=4]="URL",H1[H1.RESOURCE_URL=5]="RESOURCE_URL",H1))();function hx(n){const e=Q6();return e?rx(e.sanitize(H1.HTML,n)||""):ei(n,"HTML")?rx(xn(n)):dx(nx(),Ne(n))}function ts(n){const e=Q6();return e?e.sanitize(H1.URL,n)||"":ei(n,"URL")?xn(n):z7(Ne(n))}function px(n){const e=Q6();if(e)return sx(e.sanitize(H1.RESOURCE_URL,n)||"");if(ei(n,"ResourceURL"))return sx(xn(n));throw new I(904,!1)}function Q6(){const n=P();return n&&n[am]}const T7=new ne("ENVIRONMENT_INITIALIZER"),gx=new ne("INJECTOR",-1),vx=new ne("INJECTOR_DEF_TYPES");class _x{get(e,t=D6){if(t===D6){const r=new Error(`NullInjectorError: No provider for ${V1(e)}!`);throw r.name="NullInjectorError",r}return t}}function D6e(...n){return{\u0275providers:yx(0,n),\u0275fromNgModule:!0}}function yx(n,...e){const t=[],r=new Set;let i;return X4(e,s=>{const o=s;ng(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Cx(i,t),t}function Cx(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];rg(i,s=>{e.push(s)})}}function ng(n,e,t,r){if(!(n=ve(n)))return!1;let i=null,s=SH(n);const o=!s&&m1(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=SH(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)ng(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{X4(s.imports,u=>{ng(u,e,t,r)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&Cx(l,e)}if(!a){const l=Y4(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:d1},{provide:vx,useValue:i,multi:!0},{provide:T7,useValue:()=>O(i),multi:!0})}const c=s.providers;null==c||a||rg(c,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function rg(n,e){for(let t of n)em(t)&&(t=t.\u0275providers),Array.isArray(t)?rg(t,e):e(t)}const V6e=E1({provide:String,useValue:E1});function ig(n){return null!==n&&"object"==typeof n&&V6e in n}function ns(n){return"function"==typeof n}const sg=new ne("Set Injector scope."),N7={},I6e={};let og;function D7(){return void 0===og&&(og=new _x),og}class zr{}class wx extends zr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cg(e,o=>this.processProvider(o)),this.records.set(gx,ea(void 0,this)),i.has("environment")&&this.records.set(zr,ea(void 0,this));const s=this.records.get(sg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vx.multi,d1,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ko(this),r=rr(void 0);try{return e()}finally{ko(t),rr(r)}}get(e,t=D6,r=_e.Default){this.assertNotDestroyed(),r=Xl(r);const i=ko(this),s=rr(void 0);try{if(!(r&_e.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function R6e(n){return"function"==typeof n||"object"==typeof n&&n instanceof ne}(e)&&Yl(e);a=c&&this.injectableDefInScope(c)?ea(ag(e),N7):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&_e.Self?D7():this.parent).get(e,t=r&_e.Optional&&t===D6?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Zl]=o[Zl]||[]).unshift(V1(e)),i)throw o;return function oae(n,e,t,r){const i=n[Zl];throw e[TH]&&i.unshift(e[TH]),n.message=function aae(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==rae?n.slice(2):n;let i=V1(e);if(Array.isArray(e))i=e.map(V1).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):V1(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(nae,"\n  ")}`}("\n"+n.message,i,t,r),n[tae]=i,n[Zl]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{rr(s),ko(i)}}resolveInjectorInitializers(){const e=ko(this),t=rr(void 0);try{const r=this.get(T7.multi,d1,_e.Self);for(const i of r)i()}finally{ko(e),rr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(V1(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let t=ns(e=ve(e))?e:ve(e&&e.provide);const r=function A6e(n){return ig(n)?ea(void 0,n.useValue):ea(Sx(n),N7)}(e);if(ns(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ea(void 0,N7,!0),i.factory=()=>im(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===N7&&(t.value=I6e,t.value=t.factory()),"object"==typeof t.value&&t.value&&function k6e(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ve(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ag(n){const e=Yl(n),t=null!==e?e.factory:Y4(n);if(null!==t)return t;if(n instanceof ne)throw new I(204,!1);if(n instanceof Function)return function x6e(n){const e=n.length;if(e>0)throw U6(e,"?"),new I(204,!1);const t=function Xoe(n){return n&&(n[Ql]||n[zH])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new I(204,!1)}function Sx(n,e,t){let r;if(ns(n)){const i=ve(n);return Y4(i)||ag(i)}if(ig(n))r=()=>ve(n.useValue);else if(function Mx(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...im(n.deps||[]));else if(function bx(n){return!(!n||!n.useExisting)}(n))r=()=>O(ve(n.useExisting));else{const i=ve(n&&(n.useClass||n.provide));if(!function L6e(n){return!!n.deps}(n))return Y4(i)||ag(i);r=()=>new i(...im(n.deps))}return r}function ea(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function cg(n,e){for(const t of n)Array.isArray(t)?cg(t,e):t&&em(t)?cg(t.\u0275providers,e):e(t)}class O6e{}class zx{}class F6e{resolveComponentFactory(e){throw function P6e(n){const e=Error(`No component factory found for ${V1(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ta=(()=>{class n{}return n.NULL=new F6e,n})();function B6e(){return na(_2(),P())}function na(n,e){return new i1(Hn(n,e))}let i1=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=B6e,n})();function U6e(n){return n instanceof i1?n.nativeElement:n}class ra{}let Q2=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function $6e(){const n=P(),t=fn(_2().index,n);return(Vn(t)?t:n)[Be]}(),n})(),G6e=(()=>{class n{}return n.\u0275prov=$({token:n,providedIn:"root",factory:()=>null}),n})();class ia{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Tx=new ia("15.2.8"),lg={},ug="ngOriginalError";function fg(n){return n[ug]}class sa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&fg(e);for(;t&&fg(t);)t=fg(t);return t||null}}function qi(n){return n instanceof Function?n():n}function Dx(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Vx="ng-template";function t0e(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Dx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Hx(n){return 4===n.type&&n.value!==Vx}function n0e(n,e,t){return e===(4!==n.type||t?n.value:Vx)}function r0e(n,e,t){let r=4;const i=n.attrs||[],s=function o0e(n){for(let e=0;e<n.length;e++)if(iI(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!n0e(n,c,t)||""===c&&1===e.length){if(Er(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!t0e(n.attrs,l,t)){if(Er(r))return!1;o=!0}continue}const f=i0e(8&r?"class":c,i,Hx(n),t);if(-1===f){if(Er(r))return!1;o=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==Dx(h,l,0)||2&r&&l!==d){if(Er(r))return!1;o=!0}}}}else{if(!o&&!Er(r)&&!Er(c))return!1;if(o&&Er(c))continue;o=!1,r=c|1&r}}return Er(r)||o}function Er(n){return 0==(1&n)}function i0e(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function a0e(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Ix(n,e,t=!1){for(let r=0;r<e.length;r++)if(r0e(n,e[r],t))return!0;return!1}function c0e(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function xx(n,e){return n?":not("+e.trim()+")":e}function l0e(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Er(o)&&(e+=xx(s,i),i=""),r=o,s=s||!Er(r);t++}return""!==i&&(e+=xx(s,i)),e}const He={};function H(n){Ax(r1(),P(),Y2()+n,!1)}function Ax(n,e,t,r){if(!r)if(3==(3&e[Re])){const s=n.preOrderCheckHooks;null!==s&&l7(e,s,t)}else{const s=n.preOrderHooks;null!==s&&u7(e,s,0,t)}Q4(t)}function Ox(n,e=null,t=null,r){const i=Px(n,e,t,r);return i.resolveInjectorInitializers(),i}function Px(n,e=null,t=null,r,i=new Set){const s=[t||d1,D6e(n)];return r=r||("object"==typeof n?void 0:V1(n)),new wx(s,e||D7(),r||null,i)}let T1=(()=>{class n{static create(t,r){if(Array.isArray(t))return Ox({name:""},r,t,"");{const i=t.name??"";return Ox({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=D6,n.NULL=new _x,n.\u0275prov=$({token:n,providedIn:"any",factory:()=>O(gx)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=_e.Default){const t=P();return null===t?O(n,e):hI(_2(),t,ve(n),e)}function qx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];gm(t[r]),o.contentQueries(2,e[s],s)}}}function H7(n,e,t,r,i,s,o,a,c,l,u){const f=e.blueprint.slice();return f[$i]=i,f[Re]=76|r,(null!==u||n&&1024&n[Re])&&(f[Re]|=1024),GH(f),f[dt]=f[Po]=n,f[wt]=t,f[n7]=o||n&&n[n7],f[Be]=a||n&&n[Be],f[am]=c||n&&n[am]||null,f[t7]=l||n&&n[t7]||null,f[L2]=s,f[L6]=function Tce(){return Ece++}(),f[AH]=u,f[k2]=2==e.type?n[k2]:f,f}function ca(n,e,t,r,i){let s=n.data[e];if(null===s)s=gg(n,e,t,r,i),function Hae(){return Ve.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=R6();s.injectorIndex=null===o?-1:o.injectorIndex}return Xr(s,!0),s}function gg(n,e,t,r,i){const s=qH(),o=dm(),c=n.data[e]=function L0e(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}function Z6(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vg(n,e,t){vm(e);try{const r=n.viewQuery;null!==r&&Eg(1,r,t);const i=n.template;null!==i&&Kx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qx(n,e),n.staticViewQueries&&Eg(2,n.viewQuery,t);const s=n.components;null!==s&&function I0e(n,e){for(let t=0;t<e.length;t++)t8e(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Re]&=-5,_m()}}function I7(n,e,t,r){const i=e[Re];if(128!=(128&i)){vm(e);try{GH(e),function YH(n){return Ve.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Kx(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&l7(e,l,null)}else{const l=n.preOrderHooks;null!==l&&u7(e,l,0,null),ym(e,0)}if(function J0e(n){for(let e=Fm(n);null!==e;e=Bm(e)){if(!e[LH])continue;const t=e[Bo];for(let r=0;r<t.length;r++){const i=t[r];512&i[Re]||fm(i[dt],1),i[Re]|=512}}}(e),function X0e(n){for(let e=Fm(n);null!==e;e=Bm(e))for(let t=q2;t<e.length;t++){const r=e[t],i=r[ee];a7(r)&&I7(i,r,i.template,r[wt])}}(e),null!==n.contentQueries&&qx(n,e),o){const l=n.contentCheckHooks;null!==l&&l7(e,l)}else{const l=n.contentHooks;null!==l&&u7(e,l,1),ym(e,1)}!function V0e(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Q4(~i);else{const s=i,o=t[++r],a=t[++r];Iae(o,s),a(2,e[s])}}}finally{Q4(-1)}}(n,e);const a=n.components;null!==a&&function H0e(n,e){for(let t=0;t<e.length;t++)e8e(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&Eg(2,c,r),o){const l=n.viewCheckHooks;null!==l&&l7(e,l)}else{const l=n.viewHooks;null!==l&&u7(e,l,2),ym(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Re]&=-41,512&e[Re]&&(e[Re]&=-513,fm(e[dt],-1))}finally{_m()}}}function Kx(n,e,t,r,i){const s=Y2(),o=2&r;try{Q4(-1),o&&e.length>U1&&Ax(n,e,U1,!1),ir(o?2:0,i),t(r,i)}finally{Q4(s),ir(o?3:1,i)}}function _g(n,e,t){if(lm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function yg(n,e,t){WH()&&(function U0e(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;k6(t)&&function Y0e(n,e,t){const r=Hn(e,n),i=Yx(t),s=n[n7],o=x7(n,H7(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||p7(t,e),R2(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],l=Z4(e,n,a,t);R2(l,e),null!==o&&Q0e(0,a-i,l,c,0,o),Sr(c)&&(fn(t.index,e)[wt]=Z4(e,n,a,t))}}(n,e,t,Hn(t,e)),64==(64&t.flags)&&eA(n,e,t))}function Cg(n,e,t=Hn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function Yx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=bg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function bg(n,e,t,r,i,s,o,a,c,l){const u=U1+r,f=u+i,d=function x0e(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:He);return t}(u,f),h="function"==typeof l?l():l;return d[ee]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1}}function Qx(n,e,t,r){const i=nA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&rA(n).push(r,i.length-1))}function Zx(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?Xx(t,e,i,s):r.hasOwnProperty(i)&&Xx(t,e,r[i],s)}return t}function Xx(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function An(n,e,t,r,i,s,o,a){const c=Hn(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Tg(n,t,u,r,i),k6(e)&&function O0e(n,e){const t=fn(e,n);16&t[Re]||(t[Re]|=32)}(t,e.index)):3&e.type&&(r=function R0e(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Mg(n,e,t,r){if(WH()){const i=null===r?null:{"":-1},s=function G0e(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Ix(e,o.selectors,!1))if(r||(r=[]),Sr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),wg(n,e,a.length)}else r.unshift(o),wg(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Jx(n,e,t,o,i,a),i&&function j0e(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new I(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=P6(t.mergedAttrs,t.attrs)}function Jx(n,e,t,r,i,s){for(let l=0;l<r.length;l++)zm(p7(t,e),n,r[l].type);!function q0e(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Z6(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=P6(t.mergedAttrs,u.hostAttrs),K0e(n,t,e,c,u),W0e(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),c++}!function k0e(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=t?t.get(f):null,p=d?d.outputs:null;c=Zx(f.inputs,u,c,d?d.inputs:null),l=Zx(f.outputs,u,l,p);const m=null===c||null===o||Hx(e)?null:Z0e(c,u,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function eA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function xae(){return Ve.lFrame.currentDirectiveIndex}();try{Q4(s);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];pm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&$0e(c,l)}}finally{Q4(-1),pm(o)}}function $0e(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function wg(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function W0e(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Sr(e)&&(t[""]=n)}}function K0e(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Y4(i.type)),o=new O6(s,Sr(i),C);n.blueprint[r]=o,t[r]=o,function F0e(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function B0e(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Z6(n,t,i.hostVars,He),i)}function Sg(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Ne(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function Q0e(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let c=0;c<o.length;){const l=o[c++],u=o[c++],f=o[c++];null!==a?r.setInput(t,f,l,u):t[u]=f}}}function Z0e(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function tA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function e8e(n,e){const t=fn(e,n);if(a7(t)){const r=t[ee];48&t[Re]?I7(r,t,r.template,t[wt]):t[K4]>0&&zg(t)}}function zg(n){for(let r=Fm(n);null!==r;r=Bm(r))for(let i=q2;i<r.length;i++){const s=r[i];if(a7(s))if(512&s[Re]){const o=s[ee];I7(o,s,o.template,s[wt])}else s[K4]>0&&zg(s)}const t=n[ee].components;if(null!==t)for(let r=0;r<t.length;r++){const i=fn(t[r],n);a7(i)&&i[K4]>0&&zg(i)}}function t8e(n,e){const t=fn(e,n),r=t[ee];(function n8e(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),vg(r,t,t[wt])}function x7(n,e){return n[x6]?n[xH][Mr]=e:n[x6]=e,n[xH]=e,e}function A7(n){for(;n;){n[Re]|=32;const e=q6(n);if(hae(n)&&!e)return n;n=e}return null}function L7(n,e,t,r=!0){const i=e[n7];i.begin&&i.begin();try{I7(n,e,n.template,t)}catch(o){throw r&&sA(e,o),o}finally{i.end&&i.end()}}function Eg(n,e,t){gm(0),e(n,t)}function nA(n){return n[Oo]||(n[Oo]=[])}function rA(n){return n.cleanup||(n.cleanup=[])}function sA(n,e){const t=n[t7],r=t?t.get(sa,null):null;r&&r.handleError(e)}function Tg(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],c=e[o],l=n.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function k7(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Xp(i,a):2==s&&(r=Xp(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function R7(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(v2(s)),wr(s))for(let a=q2;a<s.length;a++){const c=s[a],l=c[ee].firstChild;null!==l&&R7(c[ee],c,l,r)}const o=t.type;if(8&o)R7(n,e,t.child,r);else if(32&o){const a=Pm(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=XI(e,t);if(Array.isArray(a))r.push(...a);else{const c=q6(e[k2]);R7(c[ee],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class X6{get rootNodes(){const e=this._lView,t=e[ee];return R7(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wt]}set context(e){this._lView[wt]=e}get destroyed(){return 128==(128&this._lView[Re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[dt];if(wr(e)){const t=e[i7],r=t?t.indexOf(this):-1;r>-1&&(Gm(e,r),g7(t,r))}this._attachedToViewContainer=!1}$I(this._lView[ee],this._lView)}onDestroy(e){Qx(this._lView[ee],this._lView,null,e)}markForCheck(){A7(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-65}reattach(){this._lView[Re]|=64}detectChanges(){L7(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uce(n,e){K6(n,e,e[Be],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class r8e extends X6{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;L7(e[ee],e,e[wt],!1)}checkNoChanges(){}get context(){return null}}class oA extends ta{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=m1(e);return new J6(t,this.ngModule)}}function aA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class s8e{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Xl(r);const i=this.injector.get(e,lg,r);return i!==lg||t===lg?i:this.parentInjector.get(e,t,r)}}class J6 extends zx{get inputs(){return aA(this.componentDef.inputs)}get outputs(){return aA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function u0e(n){return n.map(l0e).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof zr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new s8e(e,s):e,a=o.get(ra,null);if(null===a)throw new I(407,!1);const c=o.get(G6e,null),l=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",f=r?function A0e(n,e,t){return n.selectRootElement(e,t===br.ShadowDom)}(l,r,this.componentDef.encapsulation):$m(l,u,function i8e(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),d=this.componentDef.onPush?288:272,h=bg(0,null,null,1,0,null,null,null,null,null),p=H7(null,h,null,d,null,null,a,l,c,o,null);let m,g;vm(p);try{const _=this.componentDef;let b,y=null;_.findHostDirectiveDefs?(b=[],y=new Map,_.findHostDirectiveDefs(_,b,y),b.push(_)):b=[_];const T=function a8e(n,e){const t=n[ee],r=U1;return n[r]=e,ca(t,r,2,"#host",null)}(p,f),A=function c8e(n,e,t,r,i,s,o,a){const c=i[ee];!function l8e(n,e,t,r){for(const i of n)e.mergedAttrs=P6(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(k7(e,e.mergedAttrs,!0),null!==t&&tx(r,t,e))}(r,n,e,o);const l=s.createRenderer(e,t),u=H7(i,Yx(t),null,t.onPush?32:16,i[n.index],n,s,l,a||null,null,null);return c.firstCreatePass&&wg(c,n,r.length-1),x7(i,u),i[n.index]=u}(T,f,_,b,p,a,l);g=$H(h,U1),f&&function f8e(n,e,t,r){if(r)bm(n,t,["ng-version",Tx.full]);else{const{attrs:i,classes:s}=function f0e(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Er(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&bm(n,t,i),s&&s.length>0&&ex(n,t,s.join(" "))}}(l,_,f,r),void 0!==t&&function d8e(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(g,this.ngContentSelectors,t),m=function u8e(n,e,t,r,i,s){const o=_2(),a=i[ee],c=Hn(o,i);Jx(a,i,o,t,null,r);for(let u=0;u<t.length;u++)R2(Z4(i,a,o.directiveStart+u,o),i);eA(a,i,o),c&&R2(c,i);const l=Z4(i,a,o.directiveStart+o.componentOffset,o);if(n[wt]=i[wt]=l,null!==s)for(const u of s)u(l,e);return _g(a,o,n),l}(A,_,b,y,p,[h8e]),vg(h,p,null)}finally{_m()}return new o8e(this.componentType,m,na(g,p),p,g)}}class o8e extends O6e{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new r8e(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Tg(s[ee],s,i,e,t),A7(fn(this._tNode.index,s))}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function h8e(){const n=_2();c7(P()[ee],n)}function g1(n){let e=function cA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Sr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Ng(n.inputs),o.declaredInputs=Ng(n.declaredInputs),o.outputs=Ng(n.outputs);const a=i.hostBindings;a&&v8e(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&m8e(n,c),l&&g8e(n,l),Zp(n.inputs,i.inputs),Zp(n.declaredInputs,i.declaredInputs),Zp(n.outputs,i.outputs),Sr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===g1&&(t=!1)}}e=Object.getPrototypeOf(e)}!function p8e(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=P6(i.hostAttrs,t=P6(t,i.hostAttrs))}}(r)}function Ng(n){return n===Bi?{}:n===d1?[]:n}function m8e(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function g8e(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function v8e(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function e0(n){return e=>{e.findHostDirectiveDefs=lA,e.hostDirectives=(Array.isArray(n)?n:n()).map(t=>"function"==typeof t?{directive:ve(t),inputs:Bi,outputs:Bi}:{directive:ve(t.directive),inputs:uA(t.inputs),outputs:uA(t.outputs)})}}function lA(n,e,t){if(null!==n.hostDirectives)for(const r of n.hostDirectives){const i=A2(r.directive);b8e(i.declaredInputs,r.inputs),lA(i,e,t),t.set(i,r),e.push(i)}}function uA(n){if(void 0===n||0===n.length)return Bi;const e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function b8e(n,e){for(const t in e)e.hasOwnProperty(t)&&(n[e[t]]=n[t])}function O7(n){return!!Dg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Dg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ni(n,e,t){return n[e]=t}function O2(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function rs(n,e,t,r){const i=O2(n,e,t);return O2(n,e+1,r)||i}function Ye(n,e,t,r){const i=P();return O2(i,$o(),e)&&(r1(),function ti(n,e,t,r,i,s){const o=Hn(n,e);Sg(e[Be],o,s,n.value,t,r,i)}(rt(),i,n,e,t,r)),Ye}function ua(n,e,t,r){return O2(n,$o(),t)?e+Ne(t)+r:He}function B(n,e,t,r,i,s,o,a){const c=P(),l=r1(),u=n+U1,f=l.firstCreatePass?function E8e(n,e,t,r,i,s,o,a,c){const l=e.consts,u=ca(e,n,4,o||null,F3(l,a));Mg(e,t,u,F3(l,c)),c7(e,u);const f=u.tView=bg(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,s,o):l.data[u];Xr(f,!1);const d=c[Be].createComment("");b7(l,c,d,f),R2(d,c),x7(c,c[u]=tA(d,c,d,f)),s7(f)&&yg(l,c,f),null!=o&&Cg(c,f,a)}function I1(n){return Uo(function Vae(){return Ve.lFrame.contextLView}(),U1+n)}function D(n,e,t){const r=P();return O2(r,$o(),e)&&An(r1(),rt(),r,n,e,r[Be],t,!1),D}function Vg(n,e,t,r,i){const o=i?"class":"style";Tg(n,t,e.inputs[o],o,r)}function M(n,e,t,r){const i=P(),s=r1(),o=U1+n,a=i[Be],c=s.firstCreatePass?function N8e(n,e,t,r,i,s){const o=e.consts,c=ca(e,n,2,r,F3(o,i));return Mg(e,t,c,F3(o,s)),null!==c.attrs&&k7(c,c.attrs,!1),null!==c.mergedAttrs&&k7(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],l=i[o]=$m(a,e,function Bae(){return Ve.lFrame.currentNamespace}()),u=s7(c);return Xr(c,!0),tx(a,l,c),32!=(32&c.flags)&&b7(s,i,l,c),0===function zae(){return Ve.lFrame.elementDepthCount}()&&R2(l,i),function Eae(){Ve.lFrame.elementDepthCount++}(),u&&(yg(s,i,c),_g(s,c,i)),null!==r&&Cg(i,c),M}function w(){let n=_2();dm()?hm():(n=n.parent,Xr(n,!1));const e=n;!function Tae(){Ve.lFrame.elementDepthCount--}();const t=r1();return t.firstCreatePass&&(c7(t,n),lm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function jae(n){return 0!=(8&n.flags)}(e)&&Vg(t,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Wae(n){return 0!=(16&n.flags)}(e)&&Vg(t,e,P(),e.stylesWithoutHost,!1),w}function ce(n,e,t,r){return M(n,e,t,r),w(),ce}function ar(n,e,t){const r=P(),i=r1(),s=n+U1,o=i.firstCreatePass?function D8e(n,e,t,r,i){const s=e.consts,o=F3(s,r),a=ca(e,n,8,"ng-container",o);return null!==o&&k7(a,o,!0),Mg(e,t,a,F3(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Xr(o,!0);const a=r[s]=r[Be].createComment("");return b7(i,r,a,o),R2(a,r),s7(o)&&(yg(i,r,o),_g(i,o,r)),null!=t&&Cg(r,o),ar}function cr(){let n=_2();const e=r1();return dm()?hm():(n=n.parent,Xr(n,!1)),e.firstCreatePass&&(c7(e,n),lm(n)&&e.queries.elementEnd(n)),cr}function v1(){return P()}function n0(n){return!!n&&"function"==typeof n.then}const Hg=function MA(n){return!!n&&"function"==typeof n.subscribe};function te(n,e,t,r){const i=P(),s=r1(),o=_2();return function SA(n,e,t,r,i,s,o){const a=s7(r),l=n.firstCreatePass&&rA(n),u=e[wt],f=nA(e);let d=!0;if(3&r.type||o){const m=Hn(r,e),g=o?o(m):m,_=f.length,b=o?T=>o(v2(T[r.index])):r.index;let y=null;if(!o&&a&&(y=function V8e(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Oo],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,d=!1;else{s=EA(r,e,u,s,!1);const T=t.listen(g,i,s);f.push(s,T),l&&l.push(i,b,_,_+1)}}else s=EA(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const A=e[p[g]][p[g+1]].subscribe(s),k=f.length;f.push(s,A),l&&l.push(i,r.index,k,-(k+1))}}}(s,i,i[Be],o,n,e,r),te}function zA(n,e,t,r){try{return ir(6,e,t),!1!==t(r)}catch(i){return sA(n,i),!1}finally{ir(7,e,t)}}function EA(n,e,t,r,i){return function s(o){if(o===Function)return r;A7(n.componentOffset>-1?fn(n.index,e):e);let c=zA(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)c=zA(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function L(n=1){return function Lae(n){return(Ve.lFrame.contextLView=function kae(n,e){for(;n>0;)e=e[Po],n--;return e}(n,Ve.lFrame.contextLView))[wt]}(n)}function H8e(n,e){let t=null;const r=function s0e(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ix(n,s,!0):c0e(r,s))return i}else t=i}return t}function _a(n){const e=P()[k2][L2];if(!e.projection){const r=e.projection=U6(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?H8e(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function ya(n,e=0,t){const r=P(),i=r1(),s=ca(i,U1+n,16,null,t||null);null===s.projection&&(s.projection=e),hm(),32!=(32&s.flags)&&function Qce(n,e,t){JI(e[Be],0,e,t,GI(n,t,e),KI(t.parent||e[L2],t,e))}(i,r,s)}function r0(n,e,t){return F7(n,"",e,"",t),r0}function F7(n,e,t,r,i){const s=P(),o=ua(s,e,t,r);return o!==He&&An(r1(),rt(),s,n,o,s[Be],i,!1),F7}function B7(n,e){return n<<17|e<<2}function U3(n){return n>>17&32767}function Ig(n){return 2|n}function is(n){return(131068&n)>>2}function xg(n,e){return-131069&n|e<<2}function Ag(n){return 1|n}function LA(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?U3(s):is(s),c=!1;for(;0!==a&&(!1===c||o);){const u=n[a+1];R8e(n[a],e)&&(c=!0,n[a+1]=r?Ag(u):Ig(u)),a=r?U3(u):is(u)}c&&(n[t+1]=r?Ig(s):Ag(s))}function R8e(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Qo(n,e)>=0}const Wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kA(n){return n.substring(Wt.key,Wt.keyEnd)}function O8e(n){return n.substring(Wt.value,Wt.valueEnd)}function RA(n,e){const t=Wt.textEnd;return t===e?-1:(e=Wt.keyEnd=function B8e(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Wt.key=e,t),Ca(n,e,t))}function OA(n,e){const t=Wt.textEnd;let r=Wt.key=Ca(n,e,t);return t===r?-1:(r=Wt.keyEnd=function U8e(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=FA(n,r,t),r=Wt.value=Ca(n,r,t),r=Wt.valueEnd=function $8e(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const c=n.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=BA(n,c,o,t):e===o-4&&85===s&&82===i&&76===r&&40===c?a=o=BA(n,41,o,t):c>32&&(a=o),s=i,i=r,r=-33&c}return a}(n,r,t),FA(n,r,t))}function PA(n){Wt.key=0,Wt.keyEnd=0,Wt.value=0,Wt.valueEnd=0,Wt.textEnd=n.length}function Ca(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function FA(n,e,t,r){return(e=Ca(n,e,t))<t&&e++,e}function BA(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function ba(n,e,t){return Nr(n,e,t,!1),ba}function ye(n,e){return Nr(n,e,null,!0),ye}function G8e(n,e){for(let t=function F8e(n){return PA(n),OA(n,Ca(n,0,Wt.textEnd))}(e);t>=0;t=OA(e,t))GA(n,kA(e),O8e(e))}function $3(n){Dr(Q8e,ri,n,!0)}function ri(n,e){for(let t=function P8e(n){return PA(n),RA(n,Ca(n,0,Wt.textEnd))}(e);t>=0;t=RA(e,t))In(n,kA(e),!0)}function Nr(n,e,t,r){const i=P(),s=r1(),o=ji(2);s.firstUpdatePass&&$A(s,n,o,r),e!==He&&O2(i,o,e)&&jA(s,s.data[Y2()],i,i[Be],n,i[o+1]=function X8e(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=V1(xn(n)))),n}(e,t),r,o)}function Dr(n,e,t,r){const i=r1(),s=ji(2);i.firstUpdatePass&&$A(i,null,s,r);const o=P();if(t!==He&&O2(o,s,t)){const a=i.data[Y2()];if(qA(a,r)&&!UA(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Xp(c,t||"")),Vg(i,a,o,t,r)}else!function Z8e(n,e,t,r,i,s,o,a){i===He&&(i=d1);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let m,p=null;u===f?(c+=2,l+=2,d!==h&&(p=f,m=h)):null===f||null!==u&&u<f?(c+=2,p=u):(l+=2,p=f,m=h),null!==p&&jA(n,e,t,r,p,m,o,a),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}(i,a,o,o[Be],o[s+1],o[s+1]=function Y8e(n,e,t){if(null==t||""===t)return d1;const r=[],i=xn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function UA(n,e){return e>=n.expandoStartIndex}function $A(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Y2()],o=UA(n,t);qA(s,r)&&null===e&&!o&&(e=!1),e=function j8e(n,e,t,r){const i=function mm(n){const e=Ve.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=s0(t=Lg(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Lg(i,n,e,t,r),null===s){let c=function W8e(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==is(r))return n[U3(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Lg(null,n,e,c[1],r),c=s0(c,e.attrs,r),function q8e(n,e,t,r){n[U3(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function K8e(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=s0(r,n[s].hostAttrs,t);return s0(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function L8e(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=U3(o),c=is(o);n[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Qo(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const d=U3(n[a+1]);n[r+1]=B7(d,a),0!==d&&(n[d+1]=xg(n[d+1],r)),n[a+1]=function x8e(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=B7(a,0),0!==a&&(n[a+1]=xg(n[a+1],r)),a=r;else n[r+1]=B7(c,0),0===a?a=r:n[c+1]=xg(n[c+1],r),c=r;l&&(n[r+1]=Ig(n[r+1])),LA(n,u,r,!0),LA(n,u,r,!1),function k8e(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Qo(s,e)>=0&&(t[r+1]=Ag(t[r+1]))}(e,u,n,r,s),o=B7(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Lg(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=s0(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function s0(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),In(n,o,!!t||e[++s]))}return void 0===n?null:n}function GA(n,e,t){In(n,e,xn(t))}function Q8e(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&In(n,r,t)}function jA(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function A8e(n){return 1==(1&n)}(l)?WA(c,e,t,i,is(l),o):void 0;U7(u)||(U7(s)||function I8e(n){return 2==(2&n)}(l)&&(s=WA(c,null,t,i,a,o)),function Xce(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:dn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=dn.Important),n.setStyle(t,r,i,s))}}(r,o,o7(Y2(),t),i,s))}function WA(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=t[i+1];d===He&&(d=f?d1:void 0);let h=f?Dm(d,r):u===r?d:void 0;if(l&&!U7(h)&&(h=Dm(c,r)),U7(h)&&(a=h,o))return a;const p=n[i+1];i=o?U3(p):is(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Dm(c,r))}return a}function U7(n){return void 0!==n}function qA(n,e){return 0!=(n.flags&(e?8:16))}function x(n,e=""){const t=P(),r=r1(),i=n+U1,s=r.firstCreatePass?ca(r,i,1,e,null):r.data[i],o=t[i]=Um(t[Be],e);b7(r,t,o,s),Xr(s,!1)}function P2(n){return Yi("",n,""),P2}function Yi(n,e,t){const r=P(),i=ua(r,n,e,t);return i!==He&&function Ki(n,e,t){const r=o7(e,n);BI(n[Be],r,t)}(r,Y2(),i),Yi}function nL(n,e,t,r,i){Dr(In,ri,function fa(n,e,t,r,i,s){const a=rs(n,Gi(),t,i);return ji(2),a?e+Ne(t)+r+Ne(i)+s:He}(P(),n,e,t,r,i),!0)}function pn(n,e,t){const r=P();return O2(r,$o(),e)&&An(r1(),rt(),r,n,e,r[Be],t,!0),pn}const ss=void 0;var v5e=["en",[["a","p"],["AM","PM"],ss],[["AM","PM"],ss,ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ss,"{1} 'at' {0}",ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function g5e(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Ma={};function Z2(n){const e=function _5e(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=pL(e);if(t)return t;const r=e.split("-")[0];if(t=pL(r),t)return t;if("en"===r)return v5e;throw new I(701,!1)}function pL(n){return n in Ma||(Ma[n]=B1.ng&&B1.ng.common&&B1.ng.common.locales&&B1.ng.common.locales[n]),Ma[n]}var Z=(()=>((Z=Z||{})[Z.LocaleId=0]="LocaleId",Z[Z.DayPeriodsFormat=1]="DayPeriodsFormat",Z[Z.DayPeriodsStandalone=2]="DayPeriodsStandalone",Z[Z.DaysFormat=3]="DaysFormat",Z[Z.DaysStandalone=4]="DaysStandalone",Z[Z.MonthsFormat=5]="MonthsFormat",Z[Z.MonthsStandalone=6]="MonthsStandalone",Z[Z.Eras=7]="Eras",Z[Z.FirstDayOfWeek=8]="FirstDayOfWeek",Z[Z.WeekendRange=9]="WeekendRange",Z[Z.DateFormat=10]="DateFormat",Z[Z.TimeFormat=11]="TimeFormat",Z[Z.DateTimeFormat=12]="DateTimeFormat",Z[Z.NumberSymbols=13]="NumberSymbols",Z[Z.NumberFormats=14]="NumberFormats",Z[Z.CurrencyCode=15]="CurrencyCode",Z[Z.CurrencySymbol=16]="CurrencySymbol",Z[Z.CurrencyName=17]="CurrencyName",Z[Z.Currencies=18]="Currencies",Z[Z.Directionality=19]="Directionality",Z[Z.PluralCase=20]="PluralCase",Z[Z.ExtraData=21]="ExtraData",Z))();const y5e=["zero","one","two","few","many"],wa="en-US",$7={marker:"element"},G7={marker:"ICU"};var pt=(()=>((pt=pt||{})[pt.SHIFT=2]="SHIFT",pt[pt.APPEND_EAGERLY=1]="APPEND_EAGERLY",pt[pt.COMMENT=2]="COMMENT",pt))();let mL=wa;function gL(n){(function nr(n,e){null==n&&p1(e,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(mL=n.toLowerCase().replace(/_/g,"-"))}function vL(n,e,t){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?YI(n,0,t):v2(t[i])}function _L(n,e,t,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&-1===e.componentOffset)for(let c=1;c<s.length;c++)J4(n,o,t[s[c]],a,!1)}}function yL(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const r=n[t];CL(r)||w5e(r,e)&&null===S5e(r)&&z5e(r,e.index)}}function CL(n){return!(64&n.type)}function w5e(n,e){return CL(e)||n.index>e.index}function S5e(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function z5e(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(ZI(vL,_L),n.insertBeforeIndex=e)}function o0(n,e){const t=n.data[e];return null===t||"string"==typeof t?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function N5e(n,e,t){const r=gg(n,t,64,null,null);return yL(e,r),r}function j7(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}function bL(n){return n>>>17}function ML(n){return(131070&n)>>>1}let a0=0,c0=0;function SL(n,e,t,r){const i=t[Be];let o,s=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const l=e[++a];null===t[l]&&(t[l]=Um(i,c))}else if("number"==typeof c)switch(1&c){case 0:const l=bL(c);let u,f;if(null===s&&(s=l,o=C7(i,r)),l===s?(u=r,f=o):(u=null,f=v2(t[l])),null!==f){const m=ML(c);J4(i,f,t[m],u,!1);const _=o0(n,m);if(null!==_&&"object"==typeof _){const b=j7(_,t);null!==b&&SL(n,_.create[b],t,t[_.anchorIdx])}}break;case 1:const h=e[++a],p=e[++a];Sg(i,o7(c>>>1,t),null,null,h,p,null)}else switch(c){case G7:const l=e[++a],u=e[++a];null===t[u]&&R2(t[u]=Pce(i,l),t);break;case $7:const f=e[++a],d=e[++a];null===t[d]&&R2(t[d]=$m(i,f,null),t)}}}function zL(n,e,t,r,i){for(let s=0;s<t.length;s++){const o=t[s],a=t[++s];if(o&i){let c="";for(let l=s+1;l<=s+a;l++){const u=t[l];if("string"==typeof u)c+=u;else if("number"==typeof u)if(u<0)c+=Ne(e[r-u]);else{const f=u>>>2;switch(3&u){case 1:const d=t[++l],h=t[++l],p=n.data[f];"string"==typeof p?Sg(e[Be],e[f],null,p,d,c,h):An(n,p,e,d,c,e[Be],h,!1);break;case 0:const m=e[f];null!==m&&BI(e[Be],m,c);break;case 2:x5e(n,o0(n,f),e,c);break;case 3:EL(n,o0(n,f),r,e)}}}}else{const c=t[s+1];if(c>0&&3==(3&c)){const u=o0(n,c>>>2);e[u.currentCaseLViewIndex]<0&&EL(n,u,r,e)}}s+=a}}function EL(n,e,t,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=a0;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),zL(n,r,e.update[i],t,s)}}function x5e(n,e,t,r){const i=function A5e(n,e){let t=n.cases.indexOf(e);if(-1===t)switch(n.type){case 1:{const r=function C5e(n,e){const t=function hL(n){return Z2(n)[Z.PluralCase]}(e)(parseInt(n,10)),r=y5e[t];return void 0!==r?r:"other"}(e,function M5e(){return mL}());t=n.cases.indexOf(r),-1===t&&"other"!==r&&(t=n.cases.indexOf("other"));break}case 0:t=n.cases.indexOf("other")}return-1===t?null:t}(e,r);if(j7(e,t)!==i&&(TL(n,e,t),t[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const o=t[e.anchorIdx];o&&SL(n,e.create[i],t,o)}}function TL(n,e,t){let r=j7(e,t);if(null!==r){const i=e.remove[r];for(let s=0;s<i.length;s++){const o=i[s];if(o>0){const a=o7(o,t);null!==a&&Km(t[Be],a)}else TL(n,o0(n,~o),t)}}}function L5e(){const n=[];let t,r,e=-1;function s(a,c){e=0;const l=j7(a,c);r=null!==l?a.remove[l]:d1}function o(){if(e<r.length){const a=r[e++];return a>0?t[a]:(n.push(e,r),s(t[ee].data[~a],t),o())}return 0===n.length?null:(r=n.pop(),e=n.pop(),o())}return function i(a,c){for(t=c;n.length;)n.pop();return s(a.value,c),o}}const W7=/\ufffd(\d+):?\d*\ufffd/gi,R5e=/\ufffd(\d+)\ufffd/,DL=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,l0="\ufffd",O5e=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,P5e=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,F5e=/\uE500/g;function VL(n,e,t,r,i,s,o){const a=Z6(n,r,1,null);let c=a<<pt.SHIFT,l=R6();e===l&&(l=null),null===l&&(c|=pt.APPEND_EAGERLY),o&&(c|=pt.COMMENT,function kce(n){void 0===Om&&(Om=n())}(L5e)),i.push(c,null===s?"":s);const u=gg(n,a,o?32:1,null===s?"":s,null);yL(t,u);const f=u.index;return Xr(u,!1),null!==l&&e!==l&&function T5e(n,e){let t=n.insertBeforeIndex;null===t?(ZI(vL,_L),t=n.insertBeforeIndex=[null,e]):(function P3(n,e,t){n!=e&&p1(t,n,e,"==")}(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(l,f),u}function $5e(n,e,t,r,i,s,o){const a=o.match(W7),c=VL(n,e,t,s,r,a?null:o,!1);a&&u0(i,o,c.index,null,0,null)}function u0(n,e,t,r,i,s){const o=n.length,a=o+1;n.push(null,null);const c=o+2,l=e.split(W7);let u=0;for(let f=0;f<l.length;f++){const d=l[f];if(1&f){const h=i+parseInt(d,10);n.push(-1-h),u|=HL(h)}else""!==d&&n.push(d)}return n.push(t<<2|(r?1:0)),r&&n.push(r,s),n[o]=u,n[a]=n.length-c,u}function HL(n){return 1<<Math.min(n,31)}function IL(n){let e,s,t="",r=0,i=!1;for(;null!==(e=O5e.exec(n));)i?e[0]===`${l0}/*${s}${l0}`&&(r=e.index,i=!1):(t+=n.substring(r,e.index+e[0].length),s=e[1],i=!0);return t+=n.slice(r),t}function xL(n,e,t,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Z6(n,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function Z5e(n,e,t){n.push(HL(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(t,i,s),function E5e(n,e,t){const r=n.data[e];null===r?n.data[e]=t:r.value=t}(n,s,a);const c=i.values;for(let l=0;l<c.length;l++){const u=c[l],f=[];for(let d=0;d<u.length;d++){const h=u[d];if("string"!=typeof h){const p=f.push(h)-1;u[d]=`\x3c!--\ufffd${p}\ufffd--\x3e`}}o=Y5e(n,a,e,t,r,i.cases[l],u.join(""),f)|o}o&&function X5e(n,e,t){n.push(e,1,t<<2|3)}(t,o,s)}function K5e(n){const e=[],t=[];let r=1,i=0;const s=kg(n=n.replace(DL,function(o,a,c){return r="select"===c?0:1,i=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const c=kg(s[o++]);e.length>t.length&&t.push(c)}return{type:r,mainBinding:i,cases:e,values:t}}function kg(n){if(!n)return[];let e=0;const t=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(n);){const a=s.index;if("}"==s[0]){if(t.pop(),0==t.length){const c=n.substring(e,a);DL.test(c)?r.push(K5e(c)):r.push(c),e=a+1}}else{if(0==t.length){const c=n.substring(e,a);r.push(c),e=a+1}t.push("{")}}const o=n.substring(e);return r.push(o),r}function Y5e(n,e,t,r,i,s,o,a){const c=[],l=[],u=[];e.cases.push(s),e.create.push(c),e.remove.push(l),e.update.push(u);const d=ox(nx()).getInertBodyElement(o),h=tg(d)||d;return h?AL(n,e,t,r,c,l,u,h,i,a,0):0}function AL(n,e,t,r,i,s,o,a,c,l,u){let f=0,d=a.firstChild;for(;d;){const h=Z6(n,t,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,m=p.tagName.toLowerCase();if(Jm.hasOwnProperty(m)){Rg(i,$7,m,c,h),n.data[h]=m;const y=p.attributes;for(let T=0;T<y.length;T++){const A=y.item(T),k=A.name.toLowerCase();A.value.match(W7)?ux.hasOwnProperty(k)&&u0(o,A.value,h,A.name,0,eg[k]?z7:null):J5e(i,h,A)}f=AL(n,e,t,r,i,s,o,d,h,l,u+1)|f,LL(s,h,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",_=g.match(W7);Rg(i,null,_?"":g,c,h),LL(s,h,u),_&&(f=u0(o,g,h,null,0,null)|f);break;case Node.COMMENT_NODE:const b=R5e.exec(d.textContent||"");if(b){const T=l[parseInt(b[1],10)];Rg(i,G7,"",c,h),xL(n,t,r,c,T,h),Q5e(s,h,u)}}d=d.nextSibling}return f}function LL(n,e,t){0===t&&n.push(e)}function Q5e(n,e,t){0===t&&(n.push(~e),n.push(e))}function Rg(n,e,t,r,i){null!==e&&n.push(e),n.push(t,i,function D5e(n,e,t){return n|e<<17|t<<1}(0,r,i))}function J5e(n,e,t){n.push(e<<1|1,t.name,t.value)}function RL(n,e,t=-1){const r=r1(),i=P(),s=U1+n,o=F3(r.consts,e),a=R6();r.firstCreatePass&&function U5e(n,e,t,r,i,s){const o=R6(),a=[],c=[],l=[[]];i=function q5e(n,e){if(function W5e(n){return-1===n}(e))return IL(n);{const t=n.indexOf(`:${e}${l0}`)+2+e.toString().length,r=n.search(new RegExp(`${l0}\\/\\*\\d+:${e}${l0}`));return IL(n.substring(t,r))}}(i,s);const u=function B5e(n){return n.replace(F5e," ")}(i).split(P5e);for(let f=0;f<u.length;f++){let d=u[f];if(1&f){const h=47===d.charCodeAt(0),m=(d.charCodeAt(h?1:0),U1+Number.parseInt(d.substring(h?2:1)));if(h)l.shift(),Xr(R6(),!1);else{const g=N5e(n,l[0],m);l.unshift([]),Xr(g,!0)}}else{const h=kg(d);for(let p=0;p<h.length;p++){let m=h[p];if(1&p){const g=m;if("object"!=typeof g)throw new Error(`Unable to parse ICU expression in "${i}" message.`);xL(n,t,c,e,g,VL(n,o,l[0],t,a,"",!0).index)}else""!==m&&$5e(n,o,l[0],a,c,t,m)}}}n.data[r]={create:a,update:c}}(r,null===a?0:a.index,i,s,o,t);const c=r.data[s],u=jI(r,a===i[L2]?null:a,i);(function I5e(n,e,t,r){const i=n[Be];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],l=(o&pt.APPEND_EAGERLY)===pt.APPEND_EAGERLY,u=o>>>pt.SHIFT;let f=n[u];null===f&&(f=n[u]=(o&pt.COMMENT)===pt.COMMENT?i.createComment(a):Um(i,a)),l&&null!==t&&J4(i,t,f,r,!1)}})(i,c.create,u,a&&8&a.type?i[a.index]:null),QH(!0)}function y2(n,e,t){RL(n,e,t),function OL(){QH(!1)}()}function Sa(n){return function V5e(n){n&&(a0|=1<<Math.min(c0,31)),c0++}(O2(P(),$o(),n)),Sa}function f0(n){!function H5e(n,e,t){if(c0>0){const r=n.data[t];zL(n,e,Array.isArray(r)?r:r.update,Gi()-c0-1,a0)}a0=0,c0=0}(r1(),P(),n+U1)}function Og(n,e,t,r,i){if(n=ve(n),Array.isArray(n))for(let s=0;s<n.length;s++)Og(n[s],e,t,r,i);else{const s=r1(),o=P();let a=ns(n)?n:ve(n.provide),c=Sx(n);const l=_2(),u=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(ns(n)||!n.multi){const h=new O6(c,i,C),p=Fg(a,e,i?u:u+d,f);-1===p?(zm(p7(l,o),s,a),Pg(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(h),o.push(h)):(t[p]=h,o[p]=h)}else{const h=Fg(a,e,u+d,f),p=Fg(a,e,u,u+d),g=p>=0&&t[p];if(i&&!g||!i&&!(h>=0&&t[h])){zm(p7(l,o),s,a);const _=function hle(n,e,t,r,i){const s=new O6(n,t,C);return s.multi=[],s.index=e,s.componentProviders=0,PL(s,i,r&&!t),s}(i?dle:fle,t.length,i,r,c);!i&&g&&(t[p].providerFactory=_),Pg(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)}else Pg(s,n,h>-1?h:p,PL(t[i?p:h],c,!i&&r));!i&&r&&g&&t[p].componentProviders++}}}function Pg(n,e,t,r){const i=ns(e),s=function H6e(n){return!!n.useClass}(e);if(i||s){const c=(s?ve(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function PL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Fg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function fle(n,e,t,r){return Bg(this.multi,[])}function dle(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Z4(t,t[ee],this.providerFactory.index,r);s=a.slice(0,o),Bg(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Bg(i,s);return s}function Bg(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function b1(n,e=[]){return t=>{t.providersResolver=(r,i)=>function ule(n,e,t){const r=r1();if(r.firstCreatePass){const i=Sr(n);Og(t,r.data,r.blueprint,i,!0),Og(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class za{}class FL{}class BL extends za{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oA(this);const r=Dn(e);this._bootstrapComponents=qi(r.bootstrap),this._r3Injector=Px(e,t,[{provide:za,useValue:this},{provide:ta,useValue:this.componentFactoryResolver}],V1(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ug extends FL{constructor(e){super(),this.moduleType=e}create(e){return new BL(this.moduleType,e)}}class mle extends za{constructor(e,t,r){super(),this.componentFactoryResolver=new oA(this),this.instance=null;const i=new wx([...e,{provide:za,useValue:this},{provide:ta,useValue:this.componentFactoryResolver}],t||D7(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function q7(n,e,t=null){return new mle(n,e,t).injector}let gle=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=yx(0,t.type),i=r.length>0?q7([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(O(zr))}),n})();function kt(n){n.getStandaloneInjector=e=>e.get(gle).getOrCreateStandaloneInjector(n)}function K7(n,e,t,r){return KL(P(),K2(),n,e,t,r)}function d0(n,e,t,r,i){return function YL(n,e,t,r,i,s,o){const a=e+t;return rs(n,a,i,s)?ni(n,a+2,o?r.call(o,i,s):r(i,s)):h0(n,a+2)}(P(),K2(),n,e,t,r,i)}function Qi(n,e,t,r,i,s){return function QL(n,e,t,r,i,s,o,a){const c=e+t;return function P7(n,e,t,r,i){const s=rs(n,e,t,r);return O2(n,e+2,i)||s}(n,c,i,s,o)?ni(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):h0(n,c+3)}(P(),K2(),n,e,t,r,i,s)}function h0(n,e){const t=n[e];return t===He?void 0:t}function KL(n,e,t,r,i,s){const o=e+t;return O2(n,o,i)?ni(n,o+1,s?r.call(s,i):r(i)):h0(n,o+1)}function ek(n,e,t){const r=n+U1,i=P(),s=Uo(i,r);return function p0(n,e){return n[ee].data[e].pure}(i,r)?KL(i,K2(),e,s.transform,t,s):s.transform(t)}function Gg(n){return e=>{setTimeout(n,void 0,e)}}const ae=class Rle extends Ke{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Gg(s),i&&(i=Gg(i)),o&&(o=Gg(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof It&&e.add(a),a}};function Ole(){return this._results[Symbol.iterator]()}class jg{get changes(){return this._changes||(this._changes=new ae)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=jg.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Ole)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function sr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function nce(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let x1=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ble,n})();const Ple=x1,Fle=class extends Ple{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=H7(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[A6]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Zr];return null!==o&&(i[Zr]=o.createEmbeddedView(r)),vg(r,i,e),new X6(i)}};function Ble(){return Y7(_2(),P())}function Y7(n,e){return 4&n.type?new Fle(e,n,na(n,e)):null}let lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ule,n})();function Ule(){return rk(_2(),P())}const $le=lr,tk=class extends $le{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sm(this._hostTNode,this._hostLView);if(aI(e)){const t=d7(e,this._hostLView),r=f7(e);return new jo(t[ee].data[r+8],t)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=nk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-q2}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function B6(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const f=t||{};a=f.index,r=f.injector,i=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}const c=o?e:new J6(m1(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const d=(o?l:this.parentInjector).get(zr,null);d&&(s=d)}const u=c.create(l,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[ee];if(function Sae(n){return wr(n[dt])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const f=r[dt],d=new tk(f,f[L2],f[dt]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function Gce(n,e,t,r){const i=q2+r,s=t.length;r>0&&(t[i-1][Mr]=e),r<s-q2?(e[Mr]=t[i],yI(t,q2+r,e)):(t.push(e),e[Mr]=null),e[dt]=t;const o=e[A6];null!==o&&t!==o&&function jce(n,e){const t=n[Bo];e[k2]!==e[dt][dt][k2]&&(n[LH]=!0),null===t?n[Bo]=[e]:t.push(e)}(o,e);const a=e[Zr];null!==a&&a.insertView(n),e[Re]|=64}(i,r,o,s);const a=qm(s,o),c=r[Be],l=C7(c,o[r7]);return null!==l&&function Bce(n,e,t,r,i,s){r[$i]=i,r[L2]=e,K6(n,r,t,1,i,s)}(i,o[L2],c,r,l,a),e.attachToViewContainerRef(),yI(Wg(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=nk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Gm(this._lContainer,t);r&&(g7(Wg(this._lContainer),t),$I(r[ee],r))}detach(e){const t=this._adjustIndex(e,-1),r=Gm(this._lContainer,t);return r&&null!=g7(Wg(this._lContainer),t)?new X6(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function nk(n){return n[i7]}function Wg(n){return n[i7]||(n[i7]=[])}function rk(n,e){let t;const r=e[n.index];if(wr(r))t=r;else{let i;if(8&n.type)i=v2(r);else{const s=e[Be];i=s.createComment("");const o=Hn(n,e);J4(s,C7(s,o),i,function Yce(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=tA(r,e,i,n),x7(e,t)}return new tk(t,n,e)}class qg{constructor(e){this.queryList=e,this.matches=null}clone(){return new qg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kg{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Kg(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==ck(e,t).matches&&this.queries[t].setDirty()}}class ik{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Yg{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Yg(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Qg{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Qg(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Gle(t,s)),this.matchTNodeWithReadOption(e,t,m7(t,e,s,!1,!1))}else r===x1?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,m7(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===i1||i===lr||i===x1&&4&t.type)this.addMatch(t.index,-2);else{const s=m7(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Gle(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Wle(n,e,t,r){return-1===t?function jle(n,e){return 11&n.type?na(n,e):4&n.type?Y7(n,e):null}(e,n):-2===t?function qle(n,e,t){return t===i1?na(e,n):t===x1?Y7(e,n):t===lr?rk(e,n):void 0}(n,e,r):Z4(n,n[ee],t,e)}function sk(n,e,t,r){const i=e[Zr].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:Wle(e,s[l],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function Zg(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=sk(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let f=q2;f<u.length;f++){const d=u[f];d[A6]===d[dt]&&Zg(d[ee],d,l,r)}if(null!==u[Bo]){const f=u[Bo];for(let d=0;d<f.length;d++){const h=f[d];Zg(h[ee],h,l,r)}}}}}return r}function a1(n){const e=P(),t=r1(),r=ZH();gm(r+1);const i=ck(t,r);if(n.dirty&&function wae(n){return 4==(4&n[Re])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Zg(t,e,r,[]):sk(t,e,i,r);n.reset(s,U6e),n.notifyOnChanges()}return!0}return!1}function G3(n,e,t){const r=r1();r.firstCreatePass&&(ak(r,new ik(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),ok(r,P(),e)}function A1(n,e,t,r){const i=r1();if(i.firstCreatePass){const s=_2();ak(i,new ik(e,t,r),s.index),function Yle(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}ok(i,P(),t)}function c1(){return function Kle(n,e){return n[Zr].queries[e].queryList}(P(),ZH())}function ok(n,e,t){const r=new jg(4==(4&t));Qx(n,e,r,r.destroy),null===e[Zr]&&(e[Zr]=new Kg),e[Zr].queries.push(new qg(r))}function ak(n,e,t){null===n.queries&&(n.queries=new Yg),n.queries.track(new Qg(e,t))}function ck(n,e){return n.queries.getByIndex(e)}function St(n,e){return Y7(n,e)}function Z7(...n){}const os=new ne("Application Initializer");let X7=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Z7,this.reject=Z7,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(n0(s))t.push(s);else if(Hg(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(O(os,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g0=new ne("AppId",{providedIn:"root",factory:function Ek(){return`${rv()}${rv()}${rv()}`}});function rv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tk=new ne("Platform Initializer"),as=new ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nk=new ne("AnimationModuleType");let m7e=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ln=new ne("LocaleId",{providedIn:"root",factory:()=>Fe(Ln,_e.Optional|_e.SkipSelf)||function g7e(){return typeof $localize<"u"&&$localize.locale||wa}()});class _7e{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Dk=(()=>{class n{compileModuleSync(t){return new Ug(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=qi(Dn(t).declarations).reduce((o,a)=>{const c=m1(a);return c&&o.push(new J6(c)),o},[]);return new _7e(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b7e=(()=>Promise.resolve(0))();function iv(n){typeof Zone>"u"?b7e.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ce{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function M7e(){let n=B1.requestAnimationFrame,e=B1.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function z7e(n){const e=()=>{!function S7e(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(B1,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ov(n),n.isCheckStableRunning=!0,sv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ov(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return Ik(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),xk(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return Ik(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),xk(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,ov(n),sv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ce.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(Ce.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,w7e,Z7,Z7);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const w7e={};function sv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ov(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ik(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xk(n){n._nesting--,sv(n)}class E7e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Ak=new ne(""),J7=new ne("");let lv,av=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lv||(function T7e(n){lv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),iv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(O(Ce),O(cv),O(J7))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),cv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return lv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zi=!1;let j3=null;const Lk=new ne("AllowMultipleToken"),uv=new ne("PlatformDestroyListeners"),kk=new ne("appBootstrapListener");class Rk{constructor(e,t){this.name=e,this.token=t}}function Pk(n,e,t=[]){const r=`Platform: ${e}`,i=new ne(r);return(s=[])=>{let o=fv();if(!o||o.injector.get(Lk,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function V7e(n){if(j3&&!j3.get(Lk,!1))throw new I(400,!1);j3=n;const e=n.get(Bk);(function Ok(n){const e=n.get(Tk,null);e&&e.forEach(t=>t())})(n)}(function Fk(n=[],e){return T1.create({name:e,providers:[{provide:sg,useValue:"platform"},{provide:uv,useValue:new Set([()=>j3=null])},...n]})}(a,r))}return function I7e(n){const e=fv();if(!e)throw new I(401,!1);return e}()}}function fv(){return j3?.get(Bk)??null}let Bk=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function $k(n,e){let t;return t="noop"===n?new E7e:("zone.js"===n?void 0:n)||new Ce(e),t}(r?.ngZone,function Uk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ce,useValue:i}];return i.run(()=>{const o=T1.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),c=a.injector.get(sa,null);if(!c)throw new I(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:u=>{c.handleError(u)}});a.onDestroy(()=>{eu(this._modules,a),l.unsubscribe()})}),function Gk(n,e,t){try{const r=t();return n0(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(c,i,()=>{const l=a.injector.get(X7);return l.runInitializers(),l.donePromise.then(()=>(gL(a.injector.get(Ln,wa)||wa),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=jk({},r);return function N7e(n,e,t){const r=new Ug(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Na);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(uv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(O(T1))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function jk(n,e){return Array.isArray(e)?e.reduce(jk,n):{...n,...e}}let Na=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Je(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Je(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),iv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=MH(s,o.pipe(function Goe(n={}){const{connector:e=(()=>new Ke),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,u=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},h=()=>{d(),o=c=void 0,u=f=!1},p=()=>{const m=o;h(),m?.unsubscribe()};return D1((m,g)=>{l++,!f&&!u&&d();const _=c=c??e();g.add(()=>{l--,0===l&&!f&&!u&&(a=Qp(p,i))}),_.subscribe(g),!o&&l>0&&(o=new O3({next:b=>_.next(b),error:b=>{f=!0,d(),a=Qp(h,t,b),_.error(b)},complete:()=>{u=!0,d(),a=Qp(h,r),_.complete()}}),xt(m).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof zx;if(!this._injector.get(X7).done){!i&&function Ro(n){const e=m1(n)||A2(n)||un(n);return null!==e&&e.standalone}(t);throw new I(405,Zi)}let o;o=i?t:this._injector.get(ta).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function D7e(n){return n.isBoundToModule}(o)?void 0:this._injector.get(za),l=o.create(T1.NULL,[],r||o.selector,a),u=l.location.nativeElement,f=l.injector.get(Ak,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),eu(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;eu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(kk,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>eu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(O(Ce),O(zr),O(sa))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let mn=(()=>{class n{}return n.__NG_ELEMENT_ID__=A7e,n})();function A7e(n){return function L7e(n,e,t){if(k6(n)&&!t){const r=fn(n.index,e);return new X6(r,r)}return 47&n.type?new X6(e[k2],e):null}(_2(),P(),16==(16&n))}class Qk{constructor(){}supports(e){return O7(e)}create(e){return new B7e(e)}}const F7e=(n,e)=>e;class B7e{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||F7e}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<Xk(r,i,s)?t:r,a=Xk(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!O7(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function w8e(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new U7e(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Zk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class U7e{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $7e{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Zk{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new $7e,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xk(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Jk{constructor(){}supports(e){return e instanceof Map||Dg(e)}create(){return new G7e}}class G7e{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Dg(e)))throw new I(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new j7e(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class j7e{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eR(){return new ru([new Qk])}let ru=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eR()),deps:[[n,new $6,new Ze]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new I(901,!1)}}return n.\u0275prov=$({token:n,providedIn:"root",factory:eR}),n})();function tR(){return new v0([new Jk])}let v0=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tR()),deps:[[n,new $6,new Ze]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new I(901,!1)}}return n.\u0275prov=$({token:n,providedIn:"root",factory:tR}),n})();const K7e=Pk(null,"core",[]);let Y7e=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(O(Na))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();function Da(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function gv(n,e){const t=m1(n),r=e.elementInjector||D7();return new J6(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let vv=null;function Xi(){return vv}class X7e{}const G1=new ne("DocumentToken");let _v=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function J7e(){return O(nR)}()},providedIn:"platform"}),n})();const eue=new ne("Location Initialized");let nR=(()=>{class n extends _v{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xi().getBaseHref(this._doc)}onPopState(t){const r=Xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){rR()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){rR()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:function(){return function tue(){return new nR(O(G1))}()},providedIn:"platform"}),n})();function rR(){return!!window.history.pushState}function yv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function iR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ji(n){return n&&"?"!==n[0]?"?"+n:n}let ls=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return Fe(oR)},providedIn:"root"}),n})();const sR=new ne("appBaseHref");let oR=(()=>{class n extends ls{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Fe(G1).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ji(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ji(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ji(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(O(_v),O(sR,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nue=(()=>{class n extends ls{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=yv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ji(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ji(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(O(_v),O(sR,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),Cv=(()=>{class n{constructor(t){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function sue(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(iR(aR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ji(r))}normalize(t){return n.stripTrailingSlash(function iue(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,aR(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ji,n.joinWithSlash=yv,n.stripTrailingSlash=iR,n.\u0275fac=function(t){return new(t||n)(O(ls))},n.\u0275prov=$({token:n,factory:function(){return function rue(){return new Cv(O(ls))}()},providedIn:"root"}),n})();function aR(n){return n.replace(/\/index.html$/,"")}var gn=(()=>((gn=gn||{})[gn.Decimal=0]="Decimal",gn[gn.Percent=1]="Percent",gn[gn.Currency=2]="Currency",gn[gn.Scientific=3]="Scientific",gn))(),j1=(()=>((j1=j1||{})[j1.Format=0]="Format",j1[j1.Standalone=1]="Standalone",j1))(),Ie=(()=>((Ie=Ie||{})[Ie.Narrow=0]="Narrow",Ie[Ie.Abbreviated=1]="Abbreviated",Ie[Ie.Wide=2]="Wide",Ie[Ie.Short=3]="Short",Ie))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function lR(n,e,t){const r=Z2(n),s=fr([r[Z.DayPeriodsFormat],r[Z.DayPeriodsStandalone]],e);return fr(s,t)}function uR(n,e,t){const r=Z2(n),s=fr([r[Z.DaysFormat],r[Z.DaysStandalone]],e);return fr(s,t)}function bv(n,e,t){const r=Z2(n),s=fr([r[Z.MonthsFormat],r[Z.MonthsStandalone]],e);return fr(s,t)}function iu(n,e){return fr(Z2(n)[Z.DateFormat],e)}function su(n,e){return fr(Z2(n)[Z.TimeFormat],e)}function ou(n,e){return fr(Z2(n)[Z.DateTimeFormat],e)}function ur(n,e){const t=Z2(n),r=t[Z.NumberSymbols][e];if(typeof r>"u"){if(e===me.CurrencyDecimal)return t[Z.NumberSymbols][me.Decimal];if(e===me.CurrencyGroup)return t[Z.NumberSymbols][me.Group]}return r}function fR(n){if(!n[Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function wv(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const mue=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_0={},gue=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),be=(()=>((be=be||{})[be.FullYear=0]="FullYear",be[be.Month=1]="Month",be[be.Date=2]="Date",be[be.Hours=3]="Hours",be[be.Minutes=4]="Minutes",be[be.Seconds=5]="Seconds",be[be.FractionalSeconds=6]="FractionalSeconds",be[be.Day=7]="Day",be))(),Oe=(()=>((Oe=Oe||{})[Oe.DayPeriods=0]="DayPeriods",Oe[Oe.Days=1]="Days",Oe[Oe.Months=2]="Months",Oe[Oe.Eras=3]="Eras",Oe))();function dR(n,e,t,r){let i=function zue(n){if(mR(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return au(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(mue))return function Eue(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,c,l),e}(r)}const e=new Date(n);if(!mR(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=e3(t,e)||e;let a,o=[];for(;e;){if(a=gue.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let c=i.getTimezoneOffset();r&&(c=pR(r,c),i=function Sue(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function wue(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(pR(e,i)-i))}(i,r,!0));let l="";return o.forEach(u=>{const f=function Mue(n){if(zv[n])return zv[n];let e;switch(n){case"G":case"GG":case"GGG":e=L1(Oe.Eras,Ie.Abbreviated);break;case"GGGG":e=L1(Oe.Eras,Ie.Wide);break;case"GGGGG":e=L1(Oe.Eras,Ie.Narrow);break;case"y":e=Ot(be.FullYear,1,0,!1,!0);break;case"yy":e=Ot(be.FullYear,2,0,!0,!0);break;case"yyy":e=Ot(be.FullYear,3,0,!1,!0);break;case"yyyy":e=Ot(be.FullYear,4,0,!1,!0);break;case"Y":e=fu(1);break;case"YY":e=fu(2,!0);break;case"YYY":e=fu(3);break;case"YYYY":e=fu(4);break;case"M":case"L":e=Ot(be.Month,1,1);break;case"MM":case"LL":e=Ot(be.Month,2,1);break;case"MMM":e=L1(Oe.Months,Ie.Abbreviated);break;case"MMMM":e=L1(Oe.Months,Ie.Wide);break;case"MMMMM":e=L1(Oe.Months,Ie.Narrow);break;case"LLL":e=L1(Oe.Months,Ie.Abbreviated,j1.Standalone);break;case"LLLL":e=L1(Oe.Months,Ie.Wide,j1.Standalone);break;case"LLLLL":e=L1(Oe.Months,Ie.Narrow,j1.Standalone);break;case"w":e=Sv(1);break;case"ww":e=Sv(2);break;case"W":e=Sv(1,!0);break;case"d":e=Ot(be.Date,1);break;case"dd":e=Ot(be.Date,2);break;case"c":case"cc":e=Ot(be.Day,1);break;case"ccc":e=L1(Oe.Days,Ie.Abbreviated,j1.Standalone);break;case"cccc":e=L1(Oe.Days,Ie.Wide,j1.Standalone);break;case"ccccc":e=L1(Oe.Days,Ie.Narrow,j1.Standalone);break;case"cccccc":e=L1(Oe.Days,Ie.Short,j1.Standalone);break;case"E":case"EE":case"EEE":e=L1(Oe.Days,Ie.Abbreviated);break;case"EEEE":e=L1(Oe.Days,Ie.Wide);break;case"EEEEE":e=L1(Oe.Days,Ie.Narrow);break;case"EEEEEE":e=L1(Oe.Days,Ie.Short);break;case"a":case"aa":case"aaa":e=L1(Oe.DayPeriods,Ie.Abbreviated);break;case"aaaa":e=L1(Oe.DayPeriods,Ie.Wide);break;case"aaaaa":e=L1(Oe.DayPeriods,Ie.Narrow);break;case"b":case"bb":case"bbb":e=L1(Oe.DayPeriods,Ie.Abbreviated,j1.Standalone,!0);break;case"bbbb":e=L1(Oe.DayPeriods,Ie.Wide,j1.Standalone,!0);break;case"bbbbb":e=L1(Oe.DayPeriods,Ie.Narrow,j1.Standalone,!0);break;case"B":case"BB":case"BBB":e=L1(Oe.DayPeriods,Ie.Abbreviated,j1.Format,!0);break;case"BBBB":e=L1(Oe.DayPeriods,Ie.Wide,j1.Format,!0);break;case"BBBBB":e=L1(Oe.DayPeriods,Ie.Narrow,j1.Format,!0);break;case"h":e=Ot(be.Hours,1,-12);break;case"hh":e=Ot(be.Hours,2,-12);break;case"H":e=Ot(be.Hours,1);break;case"HH":e=Ot(be.Hours,2);break;case"m":e=Ot(be.Minutes,1);break;case"mm":e=Ot(be.Minutes,2);break;case"s":e=Ot(be.Seconds,1);break;case"ss":e=Ot(be.Seconds,2);break;case"S":e=Ot(be.FractionalSeconds,1);break;case"SS":e=Ot(be.FractionalSeconds,2);break;case"SSS":e=Ot(be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=lu(qt.Short);break;case"ZZZZZ":e=lu(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=lu(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=lu(qt.Long);break;default:return null}return zv[n]=e,e}(u);l+=f?f(i,t,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function au(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function e3(n,e){const t=function oue(n){return Z2(n)[Z.LocaleId]}(n);if(_0[t]=_0[t]||{},_0[t][e])return _0[t][e];let r="";switch(e){case"shortDate":r=iu(n,it.Short);break;case"mediumDate":r=iu(n,it.Medium);break;case"longDate":r=iu(n,it.Long);break;case"fullDate":r=iu(n,it.Full);break;case"shortTime":r=su(n,it.Short);break;case"mediumTime":r=su(n,it.Medium);break;case"longTime":r=su(n,it.Long);break;case"fullTime":r=su(n,it.Full);break;case"short":const i=e3(n,"shortTime"),s=e3(n,"shortDate");r=cu(ou(n,it.Short),[i,s]);break;case"medium":const o=e3(n,"mediumTime"),a=e3(n,"mediumDate");r=cu(ou(n,it.Medium),[o,a]);break;case"long":const c=e3(n,"longTime"),l=e3(n,"longDate");r=cu(ou(n,it.Long),[c,l]);break;case"full":const u=e3(n,"fullTime"),f=e3(n,"fullDate");r=cu(ou(n,it.Full),[u,f])}return r&&(_0[t][e]=r),r}function cu(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Hr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Ot(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function _ue(n,e){switch(n){case be.FullYear:return e.getFullYear();case be.Month:return e.getMonth();case be.Date:return e.getDate();case be.Hours:return e.getHours();case be.Minutes:return e.getMinutes();case be.Seconds:return e.getSeconds();case be.FractionalSeconds:return e.getMilliseconds();case be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===be.Hours)0===a&&-12===t&&(a=12);else if(n===be.FractionalSeconds)return function vue(n,e){return Hr(n,3).substring(0,e)}(a,e);const c=ur(o,me.MinusSign);return Hr(a,e,c,r,i)}}function L1(n,e,t=j1.Format,r=!1){return function(i,s){return function yue(n,e,t,r,i,s){switch(t){case Oe.Months:return bv(e,i,r)[n.getMonth()];case Oe.Days:return uR(e,i,r)[n.getDay()];case Oe.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const l=function uue(n){const e=Z2(n);return fR(e),(e[Z.ExtraData][2]||[]).map(r=>"string"==typeof r?wv(r):[wv(r[0]),wv(r[1])])}(e),u=function fue(n,e,t){const r=Z2(n);fR(r);const s=fr([r[Z.ExtraData][0],r[Z.ExtraData][1]],e)||[];return fr(s,t)||[]}(e,i,r),f=l.findIndex(d=>{if(Array.isArray(d)){const[h,p]=d,m=o>=h.hours&&a>=h.minutes,g=o<p.hours||o===p.hours&&a<p.minutes;if(h.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(d.hours===o&&d.minutes===a)return!0;return!1});if(-1!==f)return u[f]}return lR(e,i,r)[o<12?0:1];case Oe.Eras:return function aue(n,e){return fr(Z2(n)[Z.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function lu(n){return function(e,t,r){const i=-1*r,s=ur(t,me.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+Hr(o,2,s)+Hr(Math.abs(i%60),2,s);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+Hr(o,1,s);case qt.Long:return"GMT"+(i>=0?"+":"")+Hr(o,2,s)+":"+Hr(Math.abs(i%60),2,s);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+Hr(o,2,s)+":"+Hr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Cue=0,uu=4;function hR(n){return au(n.getFullYear(),n.getMonth(),n.getDate()+(uu-n.getDay()))}function Sv(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=hR(t),o=function bue(n){const e=au(n,Cue,1).getDay();return au(n,0,1+(e<=uu?uu:uu+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Hr(i,n,ur(r,me.MinusSign))}}function fu(n,e=!1){return function(t,r){return Hr(hR(t).getFullYear(),n,ur(r,me.MinusSign),e)}}const zv={};function pR(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function mR(n){return n instanceof Date&&!isNaN(n.valueOf())}const Tue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,gR=22,du=".",y0="0",Nue=";",Due=",",Ev="#";function Dv(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const Hv=/\s+/,yR=[];let CR=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=yR,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Hv):yR}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Hv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Hv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(C(ru),C(v0),C(i1),C(Q2))},n.\u0275dir=G({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Fue{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Fue(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),wR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{wR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(lr),C(x1),C(ru))},n.\u0275dir=G({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function wR(n,e){n.context.$implicit=e.item}let n2=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Uue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){SR("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){SR("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(lr),C(x1))},n.\u0275dir=G({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Uue{constructor(){this.$implicit=null,this.ngIf=null}}function SR(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${V1(e)}'.`)}let ii=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(C(lr))},n.\u0275dir=G({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[$1]}),n})();let TR=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function Av(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Iue(n,e,t){return function Tv(n,e,t,r,i,s,o=!1){let a="",c=!1;if(isFinite(n)){let l=function Lue(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(du))>-1&&(e=e.replace(du,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===y0;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===y0;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>gR&&(r=r.splice(0,gR-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(l=function Aue(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const b=s.match(Tue);if(null===b)throw new Error(`${s} is not a valid digit info`);const y=b[1],T=b[3],A=b[5];null!=y&&(u=Dv(y)),null!=T&&(f=Dv(T)),null!=A?d=Dv(A):null!=T&&f>d&&(d=f)}!function kue(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+n.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),d>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const m=l.exponent;let g=[];for(c=h.every(b=>!b);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?g=h.splice(p,h.length):(g=h,h=[0]);const _=[];for(h.length>=e.lgSize&&_.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)_.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),a=_.join(ur(t,r)),g.length&&(a+=ur(t,i)+g.join("")),m&&(a+=ur(t,me.Exponential)+"+"+m)}else a=ur(t,me.Infinity);return a=n<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function Nv(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Nue),i=r[0],s=r[1],o=-1!==i.indexOf(du)?i.split(du):[i.substring(0,i.lastIndexOf(y0)+1),i.substring(i.lastIndexOf(y0)+1)],a=o[0],c=o[1]||"";t.posPre=a.substring(0,a.indexOf(Ev));for(let u=0;u<c.length;u++){const f=c.charAt(u);f===y0?t.minFrac=t.maxFrac=u+1:f===Ev?t.maxFrac=u+1:t.posSuf+=f}const l=a.split(Due);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,f=s.indexOf(Ev);t.negPre=s.substring(0,f).replace(/'/g,""),t.negSuf=s.slice(f+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Mv(n,e){return Z2(n)[Z.NumberFormats][e]}(e,gn.Percent),ur(e,me.MinusSign)),e,me.Group,me.Decimal,t,!0).replace(new RegExp("%","g"),ur(e,me.PercentSign))}(function Lv(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw function Ir(n,e){return new I(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(C(Ln,16))},n.\u0275pipe=ln({name:"percent",type:n,pure:!0,standalone:!0}),n})();let kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();const NR="browser";function Rv(n){return n===NR}let v9e=(()=>{class n{}return n.\u0275prov=$({token:n,providedIn:"root",factory:()=>new _9e(O(G1),window)}),n})();class _9e{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function y9e(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=DR(this.window.history)||DR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function DR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class q9e extends X7e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fv extends q9e{static makeCurrent(){!function Z7e(n){vv||(vv=n)}(new Fv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function K9e(){return b0=b0||document.querySelector("base"),b0?b0.getAttribute("href"):null}();return null==t?null:function Y9e(n){mu=mu||document.createElement("a"),mu.setAttribute("href",n);const e=mu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){b0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Oue(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let mu,b0=null;const AR=new ne("TRANSITION_ID"),Z9e=[{provide:os,useFactory:function Q9e(n,e,t){return()=>{t.get(X7).donePromise.then(()=>{const r=Xi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[AR,G1,T1],multi:!0}];let J9e=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const gu=new ne("EventManagerPlugins");let vu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(O(gu),O(Ce))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class LR{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Xi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let kR=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),M0=(()=>{class n extends kR{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Bv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uv=/%COMP%/g,PR=new ne("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function FR(n,e){return e.flat(100).map(t=>t.replace(Uv,n))}function BR(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _u=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new $v(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof GR?i.applyToHost(t):i instanceof Gv&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(r.encapsulation){case br.Emulated:s=new GR(o,a,r,this.appId,c);break;case br.ShadowDom:return new ofe(o,a,t,r);default:s=new Gv(o,a,r,c)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(O(vu),O(M0),O(g0),O(PR))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class $v{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){($R(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($R(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Bv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Bv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dn.DashCase|dn.Important)?e.style.setProperty(t,r,i&dn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,BR(r)):this.eventManager.addEventListener(e,t,BR(r))}}function $R(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ofe extends $v{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=FR(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Gv extends $v{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=FR(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class GR extends Gv{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function rfe(n){return"_ngcontent-%COMP%".replace(Uv,n)}(o),this.hostAttr=function ife(n){return"_nghost-%COMP%".replace(Uv,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let afe=(()=>{class n extends LR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const jR=["alt","control","meta","shift"],cfe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lfe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ufe=(()=>{class n extends LR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jR.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=cfe[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jR.forEach(o=>{o!==i&&(0,lfe[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const qR=[{provide:as,useValue:NR},{provide:Tk,useValue:function ffe(){Fv.makeCurrent()},multi:!0},{provide:G1,useFactory:function hfe(){return function r6e(n){Zm=n}(document),document},deps:[]}],pfe=Pk(K7e,"browser",qR),KR=new ne(""),YR=[{provide:J7,useClass:class X9e{addToWindow(e){B1.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},B1.getAllAngularTestabilities=()=>e.getAllTestabilities(),B1.getAllAngularRootElements=()=>e.getAllRootElements(),B1.frameworkStabilizers||(B1.frameworkStabilizers=[]),B1.frameworkStabilizers.push(r=>{const i=B1.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Xi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Ak,useClass:av,deps:[Ce,cv,J7]},{provide:av,useClass:av,deps:[Ce,cv,J7]}],QR=[{provide:sg,useValue:"root"},{provide:sa,useFactory:function dfe(){return new sa},deps:[]},{provide:gu,useClass:afe,multi:!0,deps:[G1,Ce,as]},{provide:gu,useClass:ufe,multi:!0,deps:[G1]},{provide:_u,useClass:_u,deps:[vu,M0,g0,PR]},{provide:ra,useExisting:_u},{provide:kR,useExisting:M0},{provide:M0,useClass:M0,deps:[G1]},{provide:vu,useClass:vu,deps:[gu,Ce]},{provide:class C9e{},useClass:J9e,deps:[]},[]];let ZR=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g0,useValue:t.appId},{provide:AR,useExisting:g0},Z9e]}}}return n.\u0275fac=function(t){return new(t||n)(O(KR,12))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[...QR,...YR],imports:[kv,Y7e]}),n})(),Wv=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function gfe(){return new Wv(O(G1))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let eO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new(t||n):O(tO),r},providedIn:"root"}),n})(),tO=(()=>{class n extends eO{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case H1.NONE:return r;case H1.HTML:return ei(r,"HTML")?xn(r):dx(this._doc,String(r)).toString();case H1.STYLE:return ei(r,"Style")?xn(r):r;case H1.SCRIPT:if(ei(r,"Script"))return xn(r);throw new Error("unsafe value used in a script context");case H1.URL:return ei(r,"URL")?xn(r):z7(String(r));case H1.RESOURCE_URL:if(ei(r,"ResourceURL"))return xn(r);throw new Error(`unsafe value used in a resource URL context (see ${Wl})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${Wl})`)}}bypassSecurityTrustHtml(t){return function u6e(n){return new i6e(n)}(t)}bypassSecurityTrustStyle(t){return function f6e(n){return new s6e(n)}(t)}bypassSecurityTrustScript(t){return function d6e(n){return new o6e(n)}(t)}bypassSecurityTrustUrl(t){return function h6e(n){return new a6e(n)}(t)}bypassSecurityTrustResourceUrl(t){return function p6e(n){return new c6e(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function bfe(n){return new tO(n.get(G1))}(O(T1)),r},providedIn:"root"}),n})();const{isArray:Mfe}=Array,{getPrototypeOf:wfe,prototype:Sfe,keys:zfe}=Object;function nO(n){if(1===n.length){const e=n[0];if(Mfe(e))return{args:e,keys:null};if(function Efe(n){return n&&"object"==typeof n&&wfe(n)===Sfe}(e)){const t=zfe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Tfe}=Array;function Kv(n){return ge(e=>function Nfe(n,e){return Tfe(e)?n(...e):n(e)}(n,e))}function rO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let iO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(Q2),C(i1))},n.\u0275dir=G({type:n}),n})(),us=(()=>{class n extends iO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=G({type:n,features:[g1]}),n})();const vn=new ne("NgValueAccessor"),Hfe={provide:vn,useExisting:Se(()=>yu),multi:!0},xfe=new ne("CompositionEventMode");let yu=(()=>{class n extends iO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ife(){const n=Xi()?Xi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Q2),C(i1),C(xfe,8))},n.\u0275dir=G({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[b1([Hfe]),g1]}),n})();const Afe=!1;function q3(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const C2=new ne("NgValidators"),K3=new ne("NgAsyncValidators");function lO(n){return q3(n.value)?{required:!0}:null}function Cu(n){return null}function mO(n){return null!=n}function gO(n){const e=n0(n)?Lt(n):n;if(Afe&&!Hg(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new I(-1101,t)}return e}function vO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _O(n,e){return e.map(t=>t(n))}function yO(n){return n.map(e=>function kfe(n){return!n.validate}(e)?e:t=>e.validate(t))}function Yv(n){return null!=n?function CO(n){if(!n)return null;const e=n.filter(mO);return 0==e.length?null:function(t){return vO(_O(t,e))}}(yO(n)):null}function Qv(n){return null!=n?function bO(n){if(!n)return null;const e=n.filter(mO);return 0==e.length?null:function(t){return function Dfe(...n){const e=$l(n),{args:t,keys:r}=nO(n),i=new Je(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let f=!1;xt(t[u]).subscribe(C1(s,d=>{f||(f=!0,l--),a[u]=d},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?rO(r,a):a),s.complete())}))}});return e?i.pipe(Kv(e)):i}(_O(t,e).map(gO)).pipe(ge(vO))}}(yO(n)):null}function MO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zv(n){return n?Array.isArray(n)?n:[n]:[]}function bu(n,e){return Array.isArray(n)?n.includes(e):n===e}function zO(n,e){const t=Zv(e);return Zv(n).forEach(i=>{bu(t,i)||t.push(i)}),t}function EO(n,e){return Zv(e).filter(t=>!bu(n,t))}class TO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class J2 extends TO{get formDirective(){return null}get path(){return null}}class Y3 extends TO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let DO=(()=>{class n extends NO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Y3,2))},n.\u0275dir=G({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g1]}),n})(),VO=(()=>{class n extends NO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(J2,10))},n.\u0275dir=G({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g1]}),n})();function HO(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const e_=!1,w0="VALID",wu="INVALID",Va="PENDING",S0="DISABLED";function t_(n){return(Su(n)?n.validators:n)||null}function n_(n,e){return(Su(e)?e.asyncValidators:n)||null}function Su(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class AO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===w0}get invalid(){return this.status===wu}get pending(){return this.status==Va}get disabled(){return this.status===S0}get enabled(){return this.status!==S0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(EO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(EO(e,this._rawAsyncValidators))}hasValidator(e){return bu(this._rawValidators,e)}hasAsyncValidator(e){return bu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Va,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=S0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=w0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w0||this.status===Va)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?S0:w0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Va,this._hasOwnPendingAsyncValidator=!0;const t=gO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?S0:this.errors?wu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Va)?Va:this._anyControlsHaveStatus(wu)?wu:w0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Su(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function $fe(n){return Array.isArray(n)?Yv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Gfe(n){return Array.isArray(n)?Qv(n):n||null}(this._rawAsyncValidators)}}class r_ extends AO{constructor(e,t,r){super(t_(t),n_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function xO(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new I(1002,e_?function Ufe(n,e){return`Must supply a value for form control ${HO(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function IO(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,e_?function Ffe(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new I(1001,e_?function Bfe(n,e){return`Cannot find form control ${HO(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const fs=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>z0}),z0="always";function E0(n,e,t=z0){i_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function qfe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&LO(n,e)})}(n,e),function Yfe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Kfe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&LO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Wfe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Tu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function i_(n,e){const t=function wO(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(MO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function SO(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(MO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Tu(e._rawValidators,i),Tu(e._rawAsyncValidators,i)}function LO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const ede={provide:J2,useExisting:Se(()=>Du)},T0=(()=>Promise.resolve())();let Du=(()=>{class n extends J2{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ae,this.form=new r_({},Yv(t),Qv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){T0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),E0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){T0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){T0.then(()=>{const r=this._findContainer(t.path),i=new r_({});(function kO(n,e){i_(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){T0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){T0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function RO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(C(C2,10),C(K3,10),C(fs,8))},n.\u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b1([ede]),g1]}),n})();function OO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function PO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const FO=class extends AO{constructor(e=null,t,r){super(t_(t),n_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Su(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=PO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){PO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},rde={provide:Y3,useExisting:Se(()=>c_)},$O=(()=>Promise.resolve())();let c_=(()=>{class n extends Y3{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new FO,this._registered=!1,this.update=new ae,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function a_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===yu?t=s:function Xfe(n){return Object.getPrototypeOf(n.constructor)===us}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function o_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){E0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){$O.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Da(r);$O.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function zu(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(C(J2,9),C(C2,10),C(K3,10),C(vn,10),C(mn,8),C(fs,8))},n.\u0275dir=G({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b1([rde]),g1,$1]}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const sde={provide:vn,useExisting:Se(()=>l_),multi:!0};let WO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})(),ode=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:WO}),n})(),l_=(()=>{class n extends us{constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Fe(fs,{optional:!0})??z0}ngOnInit(){this._control=this._injector.get(Y3),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(C(Q2),C(i1),C(ode),C(T1))},n.\u0275dir=G({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&te("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[b1([sde]),g1]}),n})();const u_=new ne("NgModelWithFormControlWarning");let ds=(()=>{class n{constructor(){this._validator=Cu}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,features:[$1]}),n})();const bde={provide:C2,useExisting:Se(()=>Vu),multi:!0};let Vu=(()=>{class n extends ds{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Da,this.createValidator=t=>lO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=G({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Ye("required",r._enabled?"":null)},inputs:{required:"required"},features:[b1([bde]),g1]}),n})();const Sde={provide:C2,useExisting:Se(()=>g_),multi:!0};let g_=(()=>{class n extends ds{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function JO(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function dO(n){return e=>q3(e.value)||!function oO(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275dir=G({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ye("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[b1([Sde]),g1]}),n})(),aP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[WO]}),n})(),Nde=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fs,useValue:t.callSetDisabledState??z0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[aP]}),n})(),Dde=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:u_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:fs,useValue:t.callSetDisabledState??z0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[aP]}),n})();function he(...n){return Lt(n,N6(n))}class mt extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Hu=A3(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Iu(...n){const e=N6(n),t=$l(n),{args:r,keys:i}=nO(n);if(0===r.length)return Lt([],e);const s=new Je(function Vde(n,e,t=Cr){return r=>{cP(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)cP(e,()=>{const l=Lt(n[c],e);let u=!1;l.subscribe(C1(r,f=>{s[c]=f,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>rO(i,o):Cr));return t?s.pipe(Kv(t)):s}function cP(n,e,t){n?Pi(t,n,e):e()}function N0(...n){return function Hde(){return Lo(1)}()(Lt(n,N6(n)))}function lP(n){return new Je(e=>{xt(n()).subscribe(e)})}function D0(n,e){const t=Ue(n)?n:()=>n,r=i=>i.error(t());return new Je(e?i=>e.schedule(r,0,i):r)}function v_(){return D1((n,e)=>{let t=null;n._refCount++;const r=C1(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class uP extends Je{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,S6(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new It;const t=this.getSubject();e.add(this.source.subscribe(C1(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=It.EMPTY)}return e}refCount(){return v_()(this)}}function _n(n,e){return D1((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(C1(r,c=>{i?.unsubscribe();let l=0;const u=s++;xt(n(c,u)).subscribe(i=C1(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function gt(n){return n<=0?()=>tr:D1((e,t)=>{let r=0;e.subscribe(C1(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function V0(...n){const e=N6(n);return D1((t,r)=>{(e?N0(n,t,e):N0(n,t)).subscribe(r)})}function Et(n,e){return D1((t,r)=>{let i=0;t.subscribe(C1(r,s=>n.call(e,s,i++)&&r.next(s)))})}function xu(n){return D1((e,t)=>{let r=!1;e.subscribe(C1(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fP(n=Ide){return D1((e,t)=>{let r=!1;e.subscribe(C1(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ide(){return new Hu}function Q3(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Et((i,s)=>n(i,s,r)):Cr,gt(1),t?xu(e):fP(()=>new Hu))}function hs(n,e){return Ue(e)?At(n,e,1):At(n,1)}function Kt(n,e,t){const r=Ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?D1((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(C1(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Cr}function Z3(n){return D1((e,t)=>{let s,r=null,i=!1;r=e.subscribe(C1(t,void 0,void 0,o=>{s=xt(n(o,Z3(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function dP(n,e){return D1(function xde(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(C1(o,u=>{const f=l++;c=a?n(c,u,f):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function __(n){return n<=0?()=>tr:D1((e,t)=>{let r=[];e.subscribe(C1(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function hP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Et((i,s)=>n(i,s,r)):Cr,__(1),t?xu(e):fP(()=>new Hu))}function y_(n){return D1((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ae="primary",H0=Symbol("RouteTitle");class Lde{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ha(n){return new Lde(n)}function kde(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function si(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mP(n[i],e[i]))return!1;return!0}function mP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function gP(n){return Array.prototype.concat.apply([],n)}function vP(n){return n.length>0?n[n.length-1]:null}function b2(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function X3(n){return Hg(n)?n:n0(n)?Lt(Promise.resolve(n)):he(n)}const Au=!1,Ode={exact:function CP(n,e,t){if(!ps(n.segments,e.segments)||!Lu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!CP(n.children[r],e.children[r],t))return!1;return!0},subset:bP},_P={exact:function Pde(n,e){return si(n,e)},subset:function Fde(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mP(n[t],e[t]))},ignored:()=>!0};function yP(n,e,t){return Ode[t.paths](n.root,e.root,t.matrixParams)&&_P[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bP(n,e,t){return MP(n,e,e.segments,t)}function MP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ps(i,t)||e.hasChildren()||!Lu(i,t,r))}if(n.segments.length===t.length){if(!ps(n.segments,t)||!Lu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!bP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ps(n.segments,i)&&Lu(n.segments,i,r)&&n.children[Ae])&&MP(n.children[Ae],e,s,r)}}function Lu(n,e,t){return e.every((r,i)=>_P[t](n[i].parameters,r.parameters))}class J3{constructor(e=new $e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ha(this.queryParams)),this._queryParamMap}toString(){return $de.serialize(this)}}class $e{constructor(e,t){this.segments=e,this.children=t,this.parent=null,b2(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ku(this)}}class I0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ha(this.parameters)),this._parameterMap}toString(){return zP(this)}}function ps(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let x0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return new C_},providedIn:"root"}),n})();class C_{parse(e){const t=new Xde(e);return new J3(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${A0(e.root,!0)}`,r=function Wde(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ru(t)}=${Ru(i)}`).join("&"):`${Ru(t)}=${Ru(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Gde(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $de=new C_;function ku(n){return n.segments.map(e=>zP(e)).join("/")}function A0(n,e){if(!n.hasChildren())return ku(n);if(e){const t=n.children[Ae]?A0(n.children[Ae],!1):"",r=[];return b2(n.children,(i,s)=>{s!==Ae&&r.push(`${s}:${A0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ude(n,e){let t=[];return b2(n.children,(r,i)=>{i===Ae&&(t=t.concat(e(r,i)))}),b2(n.children,(r,i)=>{i!==Ae&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ae?[A0(n.children[Ae],!1)]:[`${i}:${A0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ae]?`${ku(n)}/${t[0]}`:`${ku(n)}/(${t.join("//")})`}}function wP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ru(n){return wP(n).replace(/%3B/gi,";")}function b_(n){return wP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ou(n){return decodeURIComponent(n)}function SP(n){return Ou(n.replace(/\+/g,"%20"))}function zP(n){return`${b_(n.path)}${function jde(n){return Object.keys(n).map(e=>`;${b_(e)}=${b_(n[e])}`).join("")}(n.parameters)}`}const qde=/^[^\/()?;=#]+/;function Pu(n){const e=n.match(qde);return e?e[0]:""}const Kde=/^[^=?&#]+/,Qde=/^[^&#]+/;class Xde{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ae]=new $e(e,t)),r}parseSegment(){const e=Pu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,Au);return this.capture(e),new I0(Ou(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Pu(this.remaining);i&&(r=i,this.capture(r))}e[Ou(t)]=Ou(r)}parseQueryParam(e){const t=function Yde(n){const e=n.match(Kde);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Zde(n){const e=n.match(Qde);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=SP(t),s=SP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,Au);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ae);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ae]:new $e([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,Au)}}function M_(n){return n.segments.length>0?new $e([],{[Ae]:n}):n}function Fu(n){const e={};for(const r of Object.keys(n.children)){const s=Fu(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Jde(n){if(1===n.numberOfChildren&&n.children[Ae]){const e=n.children[Ae];return new $e(n.segments.concat(e.segments),e.children)}return n}(new $e(n.segments,e))}function ms(n){return n instanceof J3}const w_=!1;function ehe(n,e,t,r,i){if(0===t.length)return Ia(e.root,e.root,e.root,r,i);const s=function VP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new DP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return b2(s.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new DP(t,e,r)}(t);return s.toRoot()?Ia(e.root,e.root,new $e([],{}),r,i):function o(c){const l=function nhe(n,e,t,r){if(n.isAbsolute)return new xa(e.root,!0,0);if(-1===r)return new xa(t,t===e.root,0);return function HP(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,w_&&"Invalid number of '../'");i=r.segments.length}return new xa(r,!1,i-s)}(t,r+(L0(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,c),u=l.processChildren?Aa(l.segmentGroup,l.index,s.commands):S_(l.segmentGroup,l.index,s.commands);return Ia(e.root,l.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function L0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function k0(n){return"object"==typeof n&&null!=n&&n.outlets}function Ia(n,e,t,r,i){let o,s={};r&&b2(r,(c,l)=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:NP(n,e,t);const a=M_(Fu(o));return new J3(a,s,i)}function NP(n,e,t){const r={};return b2(n.children,(i,s)=>{r[s]=i===e?t:NP(i,e,t)}),new $e(n.segments,r)}class DP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&L0(r[0]))throw new I(4003,w_&&"Root segment cannot have matrix parameters");const i=r.find(k0);if(i&&i!==vP(r))throw new I(4004,w_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function S_(n,e,t){if(n||(n=new $e([],{})),0===n.segments.length&&n.hasChildren())return Aa(n,e,t);const r=function ihe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(k0(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!xP(c,l,o))return s;r+=2}else{if(!xP(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new $e(n.segments.slice(0,r.pathIndex),{});return s.children[Ae]=new $e(n.segments.slice(r.pathIndex),n.children),Aa(s,0,i)}return r.match&&0===i.length?new $e(n.segments,{}):r.match&&!n.hasChildren()?z_(n,e,t):r.match?Aa(n,0,i):z_(n,e,t)}function Aa(n,e,t){if(0===t.length)return new $e(n.segments,{});{const r=function rhe(n){return k0(n[0])?n[0].outlets:{[Ae]:n}}(t),i={};if(!r[Ae]&&n.children[Ae]&&1===n.numberOfChildren&&0===n.children[Ae].segments.length){const s=Aa(n.children[Ae],e,t);return new $e(n.segments,s.children)}return b2(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=S_(n.children[o],e,s))}),b2(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new $e(n.segments,i)}}function z_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(k0(s)){const c=she(s.outlets);return new $e(r,c)}if(0===i&&L0(t[0])){r.push(new I0(n.segments[e].path,IP(t[0]))),i++;continue}const o=k0(s)?s.outlets[Ae]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&L0(a)?(r.push(new I0(o,IP(a))),i+=2):(r.push(new I0(o,{})),i++)}return new $e(r,{})}function she(n){const e={};return b2(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=z_(new $e([],{}),0,t))}),e}function IP(n){const e={};return b2(n,(t,r)=>e[r]=`${t}`),e}function xP(n,e,t){return n==t.path&&si(e,t.parameters)}const R0="imperative";class oi{constructor(e,t){this.id=e,this.url=t}}class E_ extends oi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gs extends oi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bu extends oi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uu extends oi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class T_ extends oi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ohe extends oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ahe extends oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class che extends oi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lhe extends oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uhe extends oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fhe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dhe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hhe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class phe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mhe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AP{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let _he=(()=>{class n{createUrlTree(t,r,i,s,o,a){return ehe(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),Che=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(e){return _he.\u0275fac(e)},providedIn:"root"}),n})();class kP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=N_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=N_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=D_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return D_(e,this._root).map(t=>t.value)}}function N_(n,e){if(n===e.value)return e;for(const t of e.children){const r=N_(n,t);if(r)return r}return null}function D_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=D_(n,t);if(r.length)return r.unshift(e),r}return[]}class t3{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function La(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class RP extends kP{constructor(e,t){super(e),this.snapshot=t,V_(this,e)}toString(){return this.snapshot.toString()}}function OP(n,e){const t=function bhe(n,e){const o=new $u([],{},{},"",{},Ae,e,null,n.root,-1,{});return new FP("",new t3(o,[]))}(n,e),r=new mt([new I0("",{})]),i=new mt({}),s=new mt({}),o=new mt({}),a=new mt(""),c=new vs(r,i,o,a,s,Ae,e,t.root);return c.snapshot=t.root,new RP(new t3(c,[]),t)}class vs{constructor(e,t,r,i,s,o,a,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ge(l=>l[H0]))??he(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>Ha(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>Ha(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Mhe(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $u{get title(){return this.data?.[H0]}constructor(e,t,r,i,s,o,a,c,l,u,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ha(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ha(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FP extends kP{constructor(e,t){super(t),this.url=e,V_(this,t)}toString(){return BP(this._root)}}function V_(n,e){e.value._routerState=n,e.children.forEach(t=>V_(n,t))}function BP(n){const e=n.children.length>0?` { ${n.children.map(BP).join(", ")} } `:"";return`${n.value}${e}`}function H_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,si(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),si(e.params,t.params)||n.params.next(t.params),function Rde(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!si(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),si(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function I_(n,e){const t=si(n.params,e.params)&&function Bde(n,e){return ps(n,e)&&n.every((t,r)=>si(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||I_(n.parent,e.parent))}function O0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function She(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return O0(n,r,i);return O0(n,r)})}(n,e,t);return new t3(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>O0(n,a)),o}}const r=function zhe(n){return new vs(new mt(n.url),new mt(n.params),new mt(n.queryParams),new mt(n.fragment),new mt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>O0(n,s));return new t3(r,i)}}const x_="ngNavigationCancelingError";function UP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$P(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $P(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[x_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function GP(n){return jP(n)&&ms(n.url)}function jP(n){return n&&n[x_]}class Ehe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new P0,this.attachRef=null}}let P0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ehe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gu=!1;let A_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=Fe(P0),this.location=Fe(lr),this.changeDetector=Fe(mn),this.environmentInjector=Fe(zr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,Gu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,Gu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,Gu);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,Gu);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new The(t,a,i.injector);if(r&&function Nhe(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,c)}else this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$1]}),n})();class The{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vs?this.route:e===P0?this.childContexts:this.parent.get(e,t)}}let ju=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["ng-component"]],standalone:!0,features:[kt],decls:1,vars:0,template:function(t,r){1&t&&ce(0,"router-outlet")},dependencies:[A_],encapsulation:2}),n})();function WP(n,e){return n.providers&&!n._injector&&(n._injector=q7(n.providers,e,`Route: ${n.path}`)),n._injector??e}function k_(n){const e=n.children&&n.children.map(k_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ae&&(t.component=ju),t}function dr(n){return n.outlet||Ae}function qP(n,e){const t=n.filter(r=>dr(r)===e);return t.push(...n.filter(r=>dr(r)!==e)),t}function F0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class xhe{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),H_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=La(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),b2(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=La(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=La(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=La(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new AP(s.value.snapshot))}),e.children.length&&this.forwardEvent(new phe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(H_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),H_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=F0(i.snapshot),c=a?.get(ta)??null;o.attachRef=null,o.route=i,o.resolver=c,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class KP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wu{constructor(e,t){this.component=e,this.route=t}}function Ahe(n,e,t){const r=n._root;return B0(r,e?e._root:null,t,[r.value])}function ka(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Zoe(n){return null!==Yl(n)}(n)?e.get(n):n:r}function B0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=La(e);return n.children.forEach(o=>{(function khe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Rhe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ps(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ps(n.url,e.url)||!si(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I_(n,e)||!si(n.queryParams,e.queryParams);default:return!I_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new KP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),B0(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wu(a.outlet.component,o))}else o&&U0(e,a,i),i.canActivateChecks.push(new KP(r)),B0(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),b2(s,(o,a)=>U0(o,t.getContext(a),i)),i}function U0(n,e,t){const r=La(n),i=n.value;b2(r,(s,o)=>{U0(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Wu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $0(n){return"function"==typeof n}function R_(n){return n instanceof Hu||"EmptyError"===n?.name}const qu=Symbol("INITIAL_VALUE");function Ra(){return _n(n=>Iu(n.map(e=>e.pipe(gt(1),V0(qu)))).pipe(ge(e=>{for(const t of e)if(!0!==t){if(t===qu)return qu;if(!1===t||t instanceof J3)return t}return!0}),Et(e=>e!==qu),gt(1)))}function YP(n){return function kl(...n){return Rl(n)}(Kt(e=>{if(ms(e))throw UP(0,e)}),ge(e=>!0===e))}const O_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QP(n,e,t,r,i){const s=P_(n,e,t);return s.matched?function epe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?he(i.map(o=>{const a=ka(o,n);return X3(function $he(n){return n&&$0(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),YP()):he(!0)}(r=WP(e,r),e,t).pipe(ge(o=>!0===o?s:{...O_})):he(s)}function P_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...O_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||kde)(t,n,e);if(!i)return{...O_};const s={};b2(i.posParams,(a,c)=>{s[c]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Ku(n,e,t,r){if(t.length>0&&function rpe(n,e,t){return t.some(r=>Yu(n,e,r)&&dr(r)!==Ae)}(n,t,r)){const s=new $e(e,function npe(n,e,t,r){const i={};i[Ae]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&dr(s)!==Ae){const o=new $e([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[dr(s)]=o}return i}(n,e,r,new $e(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function ipe(n,e,t){return t.some(r=>Yu(n,e,r))}(n,t,r)){const s=new $e(n.segments,function tpe(n,e,t,r,i){const s={};for(const o of r)if(Yu(n,t,o)&&!i[dr(o)]){const a=new $e([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[dr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new $e(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Yu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ZP(n,e,t,r){return!!(dr(n)===r||r!==Ae&&Yu(e,t,n))&&("**"===n.path||P_(e,n,t).matched)}function XP(n,e,t){return 0===e.length&&!n.children[t]}const Qu=!1;class Zu{constructor(e){this.segmentGroup=e||null}}class JP{constructor(e){this.urlTree=e}}function G0(n){return D0(new Zu(n))}function eF(n){return D0(new JP(n))}class cpe{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Ku(this.urlTree.root,[],[],this.config).segmentGroup,t=new $e(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ae).pipe(ge(s=>this.createUrlTree(Fu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Z3(s=>{if(s instanceof JP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Zu?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ae).pipe(ge(i=>this.createUrlTree(Fu(i),e.queryParams,e.fragment))).pipe(Z3(i=>{throw i instanceof Zu?this.noMatchError(i):i}))}noMatchError(e){return new I(4002,Qu)}createUrlTree(e,t,r){const i=M_(e);return new J3(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ge(s=>new $e([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Lt(i).pipe(hs(s=>{const o=r.children[s],a=qP(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ge(c=>({segment:c,outlet:s})))}),dP((s,o)=>(s[o.outlet]=o.segment,s),{}),hP())}expandSegment(e,t,r,i,s,o){return Lt(r).pipe(hs(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Z3(l=>{if(l instanceof Zu)return he(null);throw l}))),Q3(a=>!!a),Z3((a,c)=>{if(R_(a))return XP(t,i,s)?he(new $e([],{})):G0(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return ZP(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):G0(t):G0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?eF(s):this.lineralizeSegments(r,s).pipe(At(o=>{const a=new $e(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=P_(t,i,s);if(!a)return G0(t);const f=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?eF(f):this.lineralizeSegments(i,f).pipe(At(d=>this.expandSegment(e,t,r,d.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=WP(r,e),r.loadChildren?(r._loadedRoutes?he({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ge(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new $e(i,{})))):he(new $e(i,{}))):QP(t,r,i,e).pipe(_n(({matched:o,consumedSegments:a,remainingSegments:c})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(At(u=>{const f=u.injector??e,d=u.routes,{segmentGroup:h,slicedSegments:p}=Ku(t,a,c,d),m=new $e(h.segments,h.children);if(0===p.length&&m.hasChildren())return this.expandChildren(f,d,m).pipe(ge(y=>new $e(a,y)));if(0===d.length&&0===p.length)return he(new $e(a,{}));const g=dr(r)===s;return this.expandSegment(f,m,d,p,g?Ae:s,!0).pipe(ge(b=>new $e(a.concat(b.segments),b.children)))})):G0(t)))}getChildConfig(e,t,r){return t.children?he({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?he({routes:t._loadedRoutes,injector:t._loadedInjector}):function Jhe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?he(!0):he(i.map(o=>{const a=ka(o,n);return X3(function Phe(n){return n&&$0(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),YP())}(e,t,r).pipe(At(i=>i?this.configLoader.loadChildren(e,t).pipe(Kt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function ope(n){return D0($P(Qu,3))}())):he({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return he(r);if(i.numberOfChildren>1||!i.children[Ae])return e.redirectTo,D0(new I(4e3,Qu));i=i.children[Ae]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new J3(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return b2(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return b2(t.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new $e(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,Qu);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class upe{}class hpe{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Ku(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ae).pipe(ge(t=>{if(null===t)return null;const r=new $u([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new t3(r,t),s=new FP(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=PP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Lt(Object.keys(r.children)).pipe(hs(i=>{const s=r.children[i],o=qP(t,i);return this.processSegmentGroup(e,o,s,i)}),dP((i,s)=>i&&s?(i.push(...s),i):null),function Ade(n,e=!1){return D1((t,r)=>{let i=0;t.subscribe(C1(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),xu(null),hP(),ge(i=>{if(null===i)return null;const s=nF(i);return function ppe(n){n.sort((e,t)=>e.value.outlet===Ae?-1:t.value.outlet===Ae?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return Lt(t).pipe(hs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Q3(o=>!!o),Z3(o=>{if(R_(o))return XP(r,i,s)?he([]):he(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!ZP(t,r,i,s))return he(null);let o;if("**"===t.path){const a=i.length>0?vP(i).parameters:{},c=iF(r)+i.length;o=he({snapshot:new $u(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sF(t),dr(t),t.component??t._loadedComponent??null,t,rF(r),c,oF(t)),consumedSegments:[],remainingSegments:[]})}else o=QP(r,t,i,e).pipe(ge(({matched:a,consumedSegments:c,remainingSegments:l,parameters:u})=>{if(!a)return null;const f=iF(r)+c.length;return{snapshot:new $u(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sF(t),dr(t),t.component??t._loadedComponent??null,t,rF(r),f,oF(t)),consumedSegments:c,remainingSegments:l}}));return o.pipe(_n(a=>{if(null===a)return he(null);const{snapshot:c,consumedSegments:l,remainingSegments:u}=a;e=t._injector??e;const f=t._loadedInjector??e,d=function mpe(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:h,slicedSegments:p}=Ku(r,l,u,d.filter(g=>void 0===g.redirectTo));if(0===p.length&&h.hasChildren())return this.processChildren(f,d,h).pipe(ge(g=>null===g?null:[new t3(c,g)]));if(0===d.length&&0===p.length)return he([new t3(c,[])]);const m=dr(t)===s;return this.processSegment(f,d,h,p,m?Ae:s).pipe(ge(g=>null===g?null:[new t3(c,g)]))}))}}function gpe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nF(n){const e=[],t=new Set;for(const r of n){if(!gpe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=nF(r.children);e.push(new t3(r.value,i))}return e.filter(r=>!t.has(r))}function rF(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function iF(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function sF(n){return n.data||{}}function oF(n){return n.resolve||{}}function ype(n,e){return At(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return he(t);let s=0;return Lt(i).pipe(hs(o=>function Cpe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!aF(i)&&(s[H0]=i.title),function bpe(n,e,t,r){const i=function Mpe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return he({});const s={};return Lt(i).pipe(At(o=>function wpe(n,e,t,r){const i=F0(e)??r,s=ka(n,i);return X3(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Q3(),Kt(a=>{s[o]=a}))),__(1),function pP(n){return ge(()=>n)}(s),Z3(o=>R_(o)?tr:D0(o)))}(s,n,e,r).pipe(ge(o=>(n._resolvedData=o,n.data=PP(n,t).resolve,i&&aF(i)&&(n.data[H0]=i.title),null)))}(o.route,r,n,e)),Kt(()=>s++),__(1),At(o=>s===i.length?he(t):tr))})}function aF(n){return"string"==typeof n.title||null===n.title}function F_(n){return _n(e=>{const t=n(e);return t?Lt(t).pipe(ge(()=>e)):he(e)})}const Oa=new ne("ROUTES");let B_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Fe(Dk)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return he(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=X3(t.loadComponent()).pipe(ge(lF),Kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),y_(()=>{this.componentLoaders.delete(t)})),i=new uP(r,()=>new Ke).pipe(v_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ge(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l,u=!1;Array.isArray(a)?l=a:(c=a.create(t).injector,l=gP(c.get(Oa,[],_e.Self|_e.Optional)));return{routes:l.map(k_),injector:c}}),y_(()=>{this.childrenLoaders.delete(r)})),o=new uP(s,()=>new Ke).pipe(v_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return X3(t()).pipe(ge(lF),At(r=>r instanceof FL||Array.isArray(r)?he(r):Lt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lF(n){return function Spe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ju=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.configLoader=Fe(B_),this.environmentInjector=Fe(zr),this.urlSerializer=Fe(x0),this.rootContexts=Fe(P0),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new dhe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fhe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new mt({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:R0,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Et(r=>0!==r.id),ge(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),_n(r=>{let i=!1,s=!1;return he(r).pipe(Kt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_n(o=>{const a=t.browserUrlTree.toString(),c=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!c&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Uu(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),tr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return uF(o.source)&&(t.browserUrlTree=o.extractedUrl),he(o).pipe(_n(u=>{const f=this.transitions?.getValue();return this.events.next(new E_(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?tr:Promise.resolve(u)}),function lpe(n,e,t,r){return _n(i=>function ape(n,e,t,r,i){return new cpe(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ge(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Kt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function _pe(n,e,t,r,i){return At(s=>function dpe(n,e,t,r,i,s,o="emptyOnly"){return new hpe(n,e,t,r,i,o,s).recognize().pipe(_n(a=>null===a?function fpe(n){return new Je(e=>e.error(n))}(new upe):he(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ge(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Kt(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const d=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(d,u)}t.browserUrlTree=u.urlAfterRedirects}const f=new ohe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:f,source:d,restoredState:h,extras:p}=o,m=new E_(u,this.urlSerializer.serialize(f),d,h);this.events.next(m);const g=OP(f,this.rootComponentType).snapshot;return he(r={...o,targetSnapshot:g,urlAfterRedirects:f,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Uu(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),tr}}),Kt(o=>{const a=new ahe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ge(o=>r={...o,guards:Ahe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function jhe(n,e){return At(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?he({...t,guardsResult:!0}):function Whe(n,e,t,r){return Lt(n).pipe(At(i=>function Xhe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?he(s.map(a=>{const c=F0(e)??i,l=ka(a,c);return X3(function Uhe(n){return n&&$0(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(Q3())})).pipe(Ra()):he(!0)}(i.component,i.route,t,e,r)),Q3(i=>!0!==i,!0))}(o,r,i,n).pipe(At(a=>a&&function Ohe(n){return"boolean"==typeof n}(a)?function qhe(n,e,t,r){return Lt(e).pipe(hs(i=>N0(function Yhe(n,e){return null!==n&&e&&e(new hhe(n)),he(!0)}(i.route.parent,r),function Khe(n,e){return null!==n&&e&&e(new mhe(n)),he(!0)}(i.route,r),function Zhe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Lhe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>lP(()=>he(o.guards.map(c=>{const l=F0(o.node)??t,u=ka(c,l);return X3(function Bhe(n){return n&&$0(n.canActivateChild)}(u)?u.canActivateChild(r,n):l.runInContext(()=>u(r,n))).pipe(Q3())})).pipe(Ra())));return he(s).pipe(Ra())}(n,i.path,t),function Qhe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return he(!0);const i=r.map(s=>lP(()=>{const o=F0(e)??t,a=ka(s,o);return X3(function Fhe(n){return n&&$0(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Q3())}));return he(i).pipe(Ra())}(n,i.route,t))),Q3(i=>!0!==i,!0))}(r,s,n,e):he(a)),ge(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Kt(o=>{if(r.guardsResult=o.guardsResult,ms(o.guardsResult))throw UP(0,o.guardsResult);const a=new che(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Et(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),F_(o=>{if(o.guards.canActivateChecks.length)return he(o).pipe(Kt(a=>{const c=new lhe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),_n(a=>{let c=!1;return he(a).pipe(ype(t.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Kt(a=>{const c=new uhe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),F_(o=>{const a=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Kt(u=>{c.component=u}),ge(()=>{})));for(const u of c.children)l.push(...a(u));return l};return Iu(a(o.targetSnapshot.root)).pipe(xu(),gt(1))}),F_(()=>this.afterPreactivation()),ge(o=>{const a=function whe(n,e,t){const r=O0(n,e._root,t?t._root:void 0);return new RP(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Kt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ge(r=>(new xhe(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),gt(1),Kt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new gs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),y_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Z3(o=>{if(s=!0,jP(o)){GP(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Bu(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),GP(o)){const c=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||uF(r.source)};t.scheduleNavigation(c,R0,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new T_(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(c){r.reject(c)}}return tr}))}))}cancelNavigationTransition(t,r,i){const s=new Bu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uF(n){return n!==R0}let fF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ae);return r}getResolvedTitleForRoute(t){return t.data[H0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return Fe(zpe)},providedIn:"root"}),n})(),zpe=(()=>{class n extends fF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(O(Wv))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Epe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return Fe(Npe)},providedIn:"root"}),n})();class Tpe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Npe=(()=>{class n extends Tpe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e9=new ne("",{providedIn:"root",factory:()=>({})});let Vpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return Fe(Hpe)},providedIn:"root"}),n})(),Hpe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ipe(n){throw n}function xpe(n,e,t){return e.parse("/")}const Ape={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let r2=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Fe(m7e),this.isNgZoneEnabled=!1,this.options=Fe(e9,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ipe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xpe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Fe(Vpe),this.routeReuseStrategy=Fe(Epe),this.urlCreationStrategy=Fe(Che),this.titleStrategy=Fe(fF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=gP(Fe(Oa,{optional:!0})??[]),this.navigationTransitions=Fe(Ju),this.urlSerializer=Fe(x0),this.location=Fe(Cv),this.isNgZoneEnabled=Fe(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new J3,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),R0,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(k_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ms(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,R0,null,r)}navigate(t,r={skipLocationChange:!1}){return function kpe(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new I(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Ape}:!1===r?{...Lpe}:r,ms(t))return yP(this.currentUrlTree,t,i);const s=this.parseUrl(t);return yP(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l,u;return o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((f,d)=>{a=f,c=d}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n3=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ke;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof gs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Da(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Da(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Da(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function mx(n,e,t){return function N6e(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?px:ts}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(C(r2),C(vs),B3("tabindex"),C(Q2),C(i1),C(ls))},n.\u0275dir=G({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Ye("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[$1]}),n})();class dF{}let Ppe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Et(t=>t instanceof gs),hs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=q7(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Lt(i).pipe(Lo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):he(null);const s=i.pipe(At(o=>null===o?he(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Lt([s,this.loader.loadComponent(r)]).pipe(Lo()):s})}}return n.\u0275fac=function(t){return new(t||n)(O(r2),O(Dk),O(zr),O(dF),O(B_))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $_=new ne("");let hF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof E_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof LP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new LP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function Wx(){throw new Error("invalid")}()},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();var Rn=(()=>((Rn=Rn||{})[Rn.COMPLETE=0]="COMPLETE",Rn[Rn.FAILED=1]="FAILED",Rn[Rn.REDIRECTING=2]="REDIRECTING",Rn))();const Pa=!1;function e4(n,e){return{\u0275kind:n,\u0275providers:e}}const G_=new ne("",{providedIn:"root",factory:()=>!1});function mF(){const n=Fe(T1);return e=>{const t=n.get(Na);if(e!==t.components[0])return;const r=n.get(r2),i=n.get(gF);1===n.get(j_)&&r.initialNavigation(),n.get(vF,null,_e.Optional)?.setUpPreloading(),n.get($_,null,_e.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gF=new ne(Pa?"bootstrap done indicator":"",{factory:()=>new Ke}),j_=new ne(Pa?"initial navigation":"",{providedIn:"root",factory:()=>1});function Gpe(){let n=[];return n=Pa?[{provide:T7,multi:!0,useFactory:()=>{const e=Fe(r2);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function ghe(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],e4(1,n)}const vF=new ne(Pa?"router preloader":"");function jpe(n){return e4(0,[{provide:vF,useExisting:Ppe},{provide:dF,useExisting:n}])}const j0=!1,_F=new ne(j0?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Wpe=[Cv,{provide:x0,useClass:C_},r2,P0,{provide:vs,useFactory:function pF(n){return n.routerState.root},deps:[r2]},B_,j0?{provide:G_,useValue:!0}:[]];function qpe(){return new Rk("Router",r2)}let yF=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Wpe,j0&&r?.enableTracing?Gpe().\u0275providers:[],{provide:Oa,multi:!0,useValue:t},{provide:_F,useFactory:Zpe,deps:[[r2,new Ze,new $6]]},{provide:e9,useValue:r||{}},r?.useHash?{provide:ls,useClass:nue}:{provide:ls,useClass:oR},{provide:$_,useFactory:()=>{const n=Fe(v9e),e=Fe(Ce),t=Fe(e9),r=Fe(Ju),i=Fe(x0);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hF(i,r,n,e,t)}},r?.preloadingStrategy?jpe(r.preloadingStrategy).\u0275providers:[],{provide:Rk,multi:!0,useFactory:qpe},r?.initialNavigation?Xpe(r):[],[{provide:CF,useFactory:mF},{provide:kk,multi:!0,useExisting:CF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Oa,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(O(_F,8))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[ju]}),n})();function Zpe(n){if(j0&&n)throw new I(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Xpe(n){return["disabled"===n.initialNavigation?e4(3,[{provide:os,multi:!0,useFactory:()=>{const e=Fe(r2);return()=>{e.setUpLocationChangeListener()}}},{provide:j_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?e4(2,[{provide:j_,useValue:0},{provide:os,multi:!0,deps:[T1],useFactory:e=>{const t=e.get(eue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(r2),s=e.get(gF);(function Fpe(n,e){n.events.pipe(Et(t=>t instanceof gs||t instanceof Bu||t instanceof T_||t instanceof Uu),ge(t=>t instanceof gs||t instanceof Uu?Rn.COMPLETE:t instanceof Bu&&(0===t.code||1===t.code)?Rn.REDIRECTING:Rn.FAILED),Et(t=>t!==Rn.REDIRECTING),gt(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Ju).afterPreactivation=()=>(r(!0),s.closed?he(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const CF=new ne(j0?"Router Initializer":""),eme=["addListener","removeListener"],tme=["addEventListener","removeEventListener"],nme=["on","off"];function M2(n,e,t,r){if(Ue(t)&&(r=t,t=void 0),r)return M2(n,e,t).pipe(Kv(r));const[i,s]=function sme(n){return Ue(n.addEventListener)&&Ue(n.removeEventListener)}(n)?tme.map(o=>a=>n[o](e,a,t)):function rme(n){return Ue(n.addListener)&&Ue(n.removeListener)}(n)?eme.map(bF(n,e)):function ime(n){return Ue(n.on)&&Ue(n.off)}(n)?nme.map(bF(n,e)):[];if(!i&&Kp(n))return At(o=>M2(o,e,t))(xt(n));if(!i)throw new TypeError("Invalid event target");return new Je(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function bF(n,e){return t=>r=>n[t](e,r)}class ome extends It{constructor(e,t){super()}schedule(e,t=0){return this}}const t9={setInterval(n,e,...t){const{delegate:r}=t9;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=t9;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class MF extends ome{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return t9.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&t9.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,L3(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const W_={now:()=>(W_.delegate||Date).now(),delegate:void 0};class W0{constructor(e,t=W0.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}W0.now=W_.now;class wF extends W0{constructor(e,t=W0.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const q_=new wF(MF),ame=q_;function K_(n=0,e,t=ame){let r=-1;return null!=e&&(CH(e)?t=e:r=e),new Je(i=>{let s=function cme(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const{isArray:lme}=Array;function SF(n){return 1===n.length&&lme(n[0])?n[0]:n}const EF=new Je(R3);function n9(...n){const e=$l(n),t=SF(n);return t.length?new Je(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)xt(t[o]).subscribe(C1(r,a=>{if(i[o].push(a),i.every(c=>c.length)){const c=i.map(l=>l.shift());r.next(e?e(...c):c),i.some((l,u)=>!l.length&&s[u])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):tr}function k1(n){return D1((e,t)=>{xt(n).subscribe(C1(t,()=>t.complete(),R3)),!t.closed&&e.subscribe(t)})}function r9(n,e=Cr){return n=n??dme,D1((t,r)=>{let i,s=!0;t.subscribe(C1(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function dme(n,e){return n===e}function Y_(...n){const e=$l(n);return D1((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let c=0;c<i;c++)xt(n[c]).subscribe(C1(r,l=>{s[c]=l,!a&&!o[c]&&(o[c]=!0,(a=o.every(Cr))&&(o=null))},R3));t.subscribe(C1(r,c=>{if(a){const l=[c,...s];r.next(e?e(...l):l)}}))})}function Q_(n){return Et((e,t)=>n<=t)}function _ge(n,e){}function yge(n,e){if(1&n&&(M(0,"button",3),x(1),B(2,_ge,0,0,"ng-template",4),w()),2&n){const t=e.$implicit;D("ngbPanelToggle",t),H(1),Yi(" ",t.title," "),H(1),D("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function Cge(n,e){}function bge(n,e){}function Mge(n,e){if(1&n){const t=v1();M(0,"div",8),te("ngbRef",function(i){return Me(t),we(L().$implicit.panelDiv=i)}),M(1,"div",9),B(2,bge,0,0,"ng-template",4),w()()}if(2&n){const t=L().$implicit;r0("id",t.id),Ye("aria-labelledby",t.id+"-header"),H(2),D("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const wge=function(n,e){return{$implicit:n,opened:e}};function Sge(n,e){if(1&n&&(M(0,"div")(1,"div",5),B(2,Cge,0,0,"ng-template",6),w(),B(3,Mge,3,3,"div",7),w()),2&n){const t=e.$implicit,r=L(),i=I1(1);$3("accordion-item "+(t.cardClass||"")),H(1),$3("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),F7("id","",t.id,"-header"),H(1),D("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",d0(8,wge,t,t.isOpen)),H(1),D("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}const zge=["ngbAccordionBody",""];function Ege(n,e){}function Tge(n,e){if(1&n){const t=v1();M(0,"button",1),te("click",function(){return Me(t),we(L().close())}),w()}}const c9=["*"];function Nge(n,e){if(1&n){const t=v1();M(0,"button",6),te("click",function(){const s=Me(t).$implicit,o=L();return o.focus(),we(o.select(s.id,o.NgbSlideEventSource.INDICATOR))}),w()}if(2&n){const t=e.$implicit,r=L();ye("active",t.id===r.activeId),Ye("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function Dge(n,e){}function Vge(n,e){if(1&n&&(M(0,"div",7)(1,"span",8),y2(2,9),w(),B(3,Dge,0,0,"ng-template",10),w()),2&n){const t=e.$implicit,r=e.index,i=e.count;D("id","slide-"+t.id),H(2),Sa(r+1)(i),f0(2),H(1),D("ngTemplateOutlet",t.tplRef)}}function Hge(n,e){if(1&n){const t=v1();M(0,"button",11),te("click",function(){return Me(t),we(L().arrowLeft())}),ce(1,"span",12),M(2,"span",8),y2(3,13),w()()}}function Ige(n,e){if(1&n){const t=v1();M(0,"button",14),te("click",function(){return Me(t),we(L().arrowRight())}),ce(1,"span",15),M(2,"span",8),y2(3,16),w()()}}const xge=["ngbDatepickerDayView",""],Age=["month"],Lge=["year"];function kge(n,e){if(1&n&&(M(0,"option",5),x(1),w()),2&n){const t=e.$implicit,r=L();D("value",t),Ye("aria-label",r.i18n.getMonthFullName(t,r.date.year)),H(1),P2(r.i18n.getMonthShortName(t,r.date.year))}}function Rge(n,e){if(1&n&&(M(0,"option",5),x(1),w()),2&n){const t=e.$implicit,r=L();D("value",t),H(1),P2(r.i18n.getYearNumerals(t))}}function Oge(n,e){if(1&n){const t=v1();M(0,"ngb-datepicker-navigation-select",7),te("select",function(i){return Me(t),we(L().select.emit(i))}),w()}if(2&n){const t=L();D("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function Pge(n,e){1&n&&ce(0,"div",0)}function Fge(n,e){1&n&&ce(0,"div",0)}function Bge(n,e){if(1&n&&(B(0,Pge,1,0,"div",9),M(1,"div",10),x(2),w(),B(3,Fge,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=L(2);D("ngIf",r>0),H(2),Yi(" ",i.i18n.getMonthLabel(t.firstDate)," "),H(1),D("ngIf",r!==i.months.length-1)}}function Uge(n,e){1&n&&B(0,Bge,4,3,"ng-template",8),2&n&&D("ngForOf",L().months)}function $ge(n,e){if(1&n&&(M(0,"div",5),x(1),w()),2&n){const t=L(2);H(1),P2(t.i18n.getWeekLabel())}}function Gge(n,e){if(1&n&&(M(0,"div",6),x(1),w()),2&n){const t=e.$implicit;H(1),P2(t)}}function jge(n,e){if(1&n&&(M(0,"div",2),B(1,$ge,2,1,"div",3),B(2,Gge,2,1,"div",4),w()),2&n){const t=L();H(1),D("ngIf",t.datepicker.showWeekNumbers),H(1),D("ngForOf",t.viewModel.weekdays)}}function Wge(n,e){if(1&n&&(M(0,"div",11),x(1),w()),2&n){const t=L(2).$implicit,r=L();H(1),P2(r.i18n.getWeekNumerals(t.number))}}function qge(n,e){}function Kge(n,e){if(1&n&&B(0,qge,0,0,"ng-template",14),2&n){const t=L().$implicit;D("ngTemplateOutlet",L(3).datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function Yge(n,e){if(1&n){const t=v1();M(0,"div",12),te("click",function(i){const o=Me(t).$implicit;return L(3).doSelect(o),we(i.preventDefault())}),B(1,Kge,1,2,"ng-template",13),w()}if(2&n){const t=e.$implicit;ye("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),D("tabindex",t.tabindex),Ye("aria-label",t.ariaLabel),H(1),D("ngIf",!t.hidden)}}function Qge(n,e){if(1&n&&(M(0,"div",8),B(1,Wge,2,1,"div",9),B(2,Yge,2,9,"div",10),w()),2&n){const t=L().$implicit,r=L();H(1),D("ngIf",r.datepicker.showWeekNumbers),H(1),D("ngForOf",t.days)}}function Zge(n,e){1&n&&B(0,Qge,3,2,"div",7),2&n&&D("ngIf",!e.$implicit.collapsed)}const Xge=["defaultDayTemplate"],Jge=["content"];function eve(n,e){if(1&n&&ce(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,s=e.disabled,o=e.focused;D("date",e.date)("currentMonth",r)("selected",i)("disabled",s)("focused",o)}}function tve(n,e){if(1&n&&(M(0,"div",12),x(1),w()),2&n){const t=L().$implicit,r=L(2);H(1),Yi(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function nve(n,e){if(1&n&&(M(0,"div",9),B(1,tve,2,1,"div",10),ce(2,"ngb-datepicker-month",11),w()),2&n){const t=e.$implicit,r=L(2);H(1),D("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),H(1),D("month",t.firstDate)}}function rve(n,e){1&n&&B(0,nve,3,2,"div",8),2&n&&D("ngForOf",L().model.months)}function ive(n,e){if(1&n){const t=v1();M(0,"ngb-datepicker-navigation",13),te("navigate",function(i){return Me(t),we(L().onNavigateEvent(i))})("select",function(i){return Me(t),we(L().onNavigateDateSelect(i))}),w()}if(2&n){const t=L();D("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function sve(n,e){}function ove(n,e){}const ave=["dialog"],cve=["ngbNavOutlet",""];function lve(n,e){}const uve=function(n){return{$implicit:n}};function fve(n,e){if(1&n&&(M(0,"div",2),B(1,lve,0,0,"ng-template",3),w()),2&n){const t=L().$implicit,r=L();D("item",t)("nav",r.nav)("role",r.paneRole),H(1),D("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",K7(5,uve,t.active||r.isPanelTransitioning(t)))}}function dve(n,e){if(1&n&&B(0,fve,2,7,"div",1),2&n){const t=e.$implicit,r=L();D("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function hve(n,e){1&n&&(M(0,"span",9),y2(1,10),w())}function pve(n,e){1&n&&(M(0,"span",9),y2(1,11),w())}function mve(n,e){1&n&&(M(0,"span",9),y2(1,12),w())}function gve(n,e){1&n&&(M(0,"span",9),y2(1,13),w())}function vve(n,e){1&n&&x(0,"...")}function _ve(n,e){1&n&&(M(0,"span",15),x(1,"(current)"),w())}function yve(n,e){if(1&n&&(x(0),B(1,_ve,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;Yi(" ",t," "),H(1),D("ngIf",t===r)}}function Cve(n,e){}const bve=function(n){return{disabled:!0,currentPage:n}};function Mve(n,e){if(1&n&&(M(0,"a",20),B(1,Cve,0,0,"ng-template",8),w()),2&n){const t=L(2).$implicit,r=L(),i=I1(9);H(1),D("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",K7(2,bve,t))}}function wve(n,e){}const Sve=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function zve(n,e){if(1&n){const t=v1();M(0,"a",21),te("click",function(i){Me(t);const s=L().$implicit;return L(2).selectPage(s),we(i.preventDefault())}),B(1,wve,0,0,"ng-template",8),w()}if(2&n){const t=L().$implicit,r=L(),i=r.disabled,s=r.$implicit,o=L(),a=I1(11);Ye("tabindex",i?"-1":null)("aria-disabled",i?"true":null),H(1),D("ngTemplateOutlet",(null==o.tplNumber?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",Qi(4,Sve,i,t,s))}}function Eve(n,e){if(1&n&&(M(0,"li",17),B(1,Mve,2,4,"a",18),B(2,zve,2,8,"a",19),w()),2&n){const t=e.$implicit,r=L(),i=r.$implicit,s=r.disabled,o=L();ye("active",t===i)("disabled",o.isEllipsis(t)||s),Ye("aria-current",t===i?"page":null),H(1),D("ngIf",o.isEllipsis(t)),H(1),D("ngIf",!o.isEllipsis(t))}}function Tve(n,e){1&n&&B(0,Eve,3,7,"li",16),2&n&&D("ngForOf",e.pages)}function Nve(n,e){}const ay=function(n,e){return{disabled:n,currentPage:e}};function Dve(n,e){if(1&n){const t=v1();M(0,"li",17)(1,"a",22),te("click",function(i){return Me(t),L().selectPage(1),we(i.preventDefault())}),B(2,Nve,0,0,"ng-template",8),w()()}if(2&n){const t=L(),r=I1(1);ye("disabled",t.previousDisabled()),H(1),Ye("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),H(1),D("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",d0(6,ay,t.previousDisabled(),t.page))}}function Vve(n,e){}const Hve=function(n){return{disabled:n}};function Ive(n,e){if(1&n){const t=v1();M(0,"li",17)(1,"a",23),te("click",function(i){Me(t);const s=L();return s.selectPage(s.page-1),we(i.preventDefault())}),B(2,Vve,0,0,"ng-template",8),w()()}if(2&n){const t=L(),r=I1(3);ye("disabled",t.previousDisabled()),H(1),Ye("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),H(1),D("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",K7(6,Hve,t.previousDisabled()))}}function xve(n,e){}function Ave(n,e){}function Lve(n,e){if(1&n){const t=v1();M(0,"li",17)(1,"a",24),te("click",function(i){Me(t);const s=L();return s.selectPage(s.page+1),we(i.preventDefault())}),B(2,Ave,0,0,"ng-template",8),w()()}if(2&n){const t=L(),r=I1(5);ye("disabled",t.nextDisabled()),H(1),Ye("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),H(1),D("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",d0(6,ay,t.nextDisabled(),t.page))}}function kve(n,e){}function Rve(n,e){if(1&n){const t=v1();M(0,"li",17)(1,"a",25),te("click",function(i){Me(t);const s=L();return s.selectPage(s.pageCount),we(i.preventDefault())}),B(2,kve,0,0,"ng-template",8),w()()}if(2&n){const t=L(),r=I1(7);ye("disabled",t.nextDisabled()),H(1),Ye("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),H(1),D("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",d0(6,ay,t.nextDisabled(),t.page))}}const Ove=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function Bve(n,e){if(1&n&&(M(0,"span"),y2(1,1),function JL(n,e){const t=r1();let r;const i=n+U1;t.firstCreatePass?(r=function Ile(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Y4(r.type)),o=rr(C);try{const a=h7(!1),c=s();return h7(a),function T8e(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,P(),i,c),c}finally{rr(o)}}(2,"percent"),w()),2&n){const t=L();H(2),Sa(ek(2,1,t.getValue()/t.max)),f0(1)}}function Uve(n,e){1&n&&x(0),2&n&&P2(100===e.fill?"\u2605":"\u2606")}function $ve(n,e){}function Gve(n,e){if(1&n){const t=v1();M(0,"span",2),x(1),w(),M(2,"span",3),te("mouseenter",function(){const s=Me(t).index;return we(L().enter(s+1))})("click",function(){const s=Me(t).index;return we(L().handleClick(s+1))}),B(3,$ve,0,0,"ng-template",4),w()}if(2&n){const t=e.index,r=L(),i=I1(1);H(1),Yi("(",t<r.nextRate?"*":" ",")"),H(1),ba("cursor",r.isInteractive()?"pointer":"default"),H(1),D("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function jve(n,e){if(1&n){const t=v1();M(0,"button",11),te("click",function(){Me(t);const i=L();return we(i.changeHour(i.hourStep))}),ce(1,"span",12),M(2,"span",13),y2(3,14),w()()}if(2&n){const t=L();ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function Wve(n,e){if(1&n){const t=v1();M(0,"button",11),te("click",function(){Me(t);const i=L();return we(i.changeHour(-i.hourStep))}),ce(1,"span",15),M(2,"span",13),y2(3,16),w()()}if(2&n){const t=L();ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function qve(n,e){if(1&n){const t=v1();M(0,"button",11),te("click",function(){Me(t);const i=L();return we(i.changeMinute(i.minuteStep))}),ce(1,"span",12),M(2,"span",13),y2(3,17),w()()}if(2&n){const t=L();ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function Kve(n,e){if(1&n){const t=v1();M(0,"button",11),te("click",function(){Me(t);const i=L();return we(i.changeMinute(-i.minuteStep))}),ce(1,"span",15),M(2,"span",13),y2(3,18),w()()}if(2&n){const t=L();ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function Yve(n,e){1&n&&(M(0,"div",5),x(1,":"),w())}function Qve(n,e){if(1&n){const t=v1();M(0,"button",11),te("click",function(){Me(t);const i=L(2);return we(i.changeSecond(i.secondStep))}),ce(1,"span",12),M(2,"span",13),y2(3,21),w()()}if(2&n){const t=L(2);ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function Zve(n,e){if(1&n){const t=v1();M(0,"button",11),te("click",function(){Me(t);const i=L(2);return we(i.changeSecond(-i.secondStep))}),ce(1,"span",15),M(2,"span",13),y2(3,22),w()()}if(2&n){const t=L(2);ye("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),D("disabled",t.disabled)}}function Xve(n,e){if(1&n){const t=v1();M(0,"div",19),B(1,Qve,4,7,"button",3),M(2,"input",20),te("change",function(i){return Me(t),we(L().updateSecond(i.target.value))})("blur",function(){return Me(t),we(L().handleBlur())})("input",function(i){return Me(t),we(L().formatInput(i.target))})("keydown.ArrowUp",function(i){Me(t);const s=L();return s.changeSecond(s.secondStep),we(i.preventDefault())})("keydown.ArrowDown",function(i){Me(t);const s=L();return s.changeSecond(-s.secondStep),we(i.preventDefault())}),w(),B(3,Zve,4,7,"button",3),w()}if(2&n){const t=L();H(1),D("ngIf",t.spinners),H(1),ye("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),D("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),H(1),D("ngIf",t.spinners)}}function Jve(n,e){1&n&&ce(0,"div",5)}function e_e(n,e){if(1&n&&(ar(0),y2(1,27),cr()),2&n){const t=L(2);H(1),Sa(t.i18n.getAfternoonPeriod()),f0(1)}}function t_e(n,e){1&n&&y2(0,28),2&n&&(Sa(L(2).i18n.getMorningPeriod()),f0(0))}function n_e(n,e){if(1&n){const t=v1();M(0,"div",23)(1,"button",24),te("click",function(){return Me(t),we(L().toggleMeridian())}),B(2,e_e,2,1,"ng-container",25),B(3,t_e,1,1,"ng-template",null,26,St),w()()}if(2&n){const t=I1(4),r=L();H(1),ye("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),D("disabled",r.disabled),H(1),D("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function r_e(n,e){if(1&n&&(M(0,"strong",3),x(1),w()),2&n){const t=L();H(1),P2(t.header)}}function i_e(n,e){}function s_e(n,e){if(1&n){const t=v1();M(0,"div",4),B(1,i_e,0,0,"ng-template",5),M(2,"button",6),te("click",function(){return Me(t),we(L().hide())}),w()()}if(2&n){const t=L(),r=I1(1);H(1),D("ngTemplateOutlet",t.contentHeaderTpl||r)}}function o_e(n,e){if(1&n&&(M(0,"span"),x(1),w()),2&n){const t=L().$implicit;$3(L().highlightClass),H(1),P2(t)}}function a_e(n,e){1&n&&x(0),2&n&&P2(L().$implicit)}function c_e(n,e){if(1&n&&(B(0,o_e,2,3,"span",1),B(1,a_e,1,1,"ng-template",null,2,St)),2&n){const t=e.odd,r=I1(2);D("ngIf",t)("ngIfElse",r)}}function w2(n){return parseInt(`${n}`,10)}function GF(n){return null!=n?`${n}`:""}function l9(n,e,t=0){return Math.max(Math.min(n,e),t)}function Ga(n){return"string"==typeof n}function vt(n){return!isNaN(w2(n))}function st(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Cs(n){return null!=n}function ja(n){return vt(n)?`0${n}`.slice(-2):""}function WF(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function Wa(n){return(n||document.body).getBoundingClientRect()}function qF(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const KF={animation:!0,transitionTimerDelayMs:5},m_e=()=>{},{transitionTimerDelayMs:g_e}=KF,J0=new Map,Yt=(n,e,t,r)=>{let i=r.context||{};const s=J0.get(e);if(s)switch(r.runningTransition){case"continue":return tr;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),J0.delete(e)}const o=t(e,r.animation,i)||m_e;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),he(void 0).pipe(function h_e(n){return e=>new Je(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new Ke,c=new Ke,l=a.pipe(function fme(...n){return e=>N0(e,he(...n))}(!0));J0.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const u=function p_e(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const f=M2(e,"transitionend").pipe(k1(l),Et(({target:h})=>h===e));(function zF(...n){return 1===(n=SF(n)).length?xt(n[0]):new Je(function ume(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(xt(n[r]).subscribe(C1(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(K_(u+g_e).pipe(k1(l)),f,c).pipe(k1(l)).subscribe(()=>{J0.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},cy=(n,e,t)=>{let{direction:r,maxSize:i,dimension:s}=t;const{classList:o}=n;function a(){o.add("collapse"),"show"===r?o.add("show"):o.remove("show")}if(e)return i||(i=function __e(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,s),t.maxSize=i,n.style[s]="show"!==r?i:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),Wa(n),o.add("collapsing")),n.style[s]="show"===r?i:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let bs=(()=>{class n{constructor(){this.animation=KF.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YF=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y_e=0,ly=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),QF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),ZF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),uy=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+y_e++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new ae,this.hidden=new ae}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(A1(i,QF,4),A1(i,ly,4),A1(i,ZF,4)),2&t){let s;a1(s=c1())&&(r.titleTpls=s),a1(s=c1())&&(r.headerTpls=s),a1(s=c1())&&(r.contentTpls=s)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),C_e=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new ae}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(C(i1))},n.\u0275dir=G({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),XF=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(C(Se(()=>fy)),C(uy,9))},n.\u0275dir=G({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&te("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(pn("disabled",r.panel.disabled),Ye("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),ye("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),fy=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new ae,this.shown=new ae,this.hidden=new ae,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){Ga(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(gt(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,Yt(this._ngZone,r,cy,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&Yt(this._ngZone,r.panelDiv,cy,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:s}=r;r.isOpen?(r.shown.emit(),this.shown.emit(s)):(r.hidden.emit(),this.hidden.emit(s))})})}}return n.\u0275fac=function(t){return new(t||n)(C(YF),C(Ce),C(mn))},n.\u0275cmp=n1({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&A1(i,uy,4),2&t){let s;a1(s=c1())&&(r.panels=s)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&Ye("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[kt],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(B(0,yge,3,3,"ng-template",0,1,St),B(2,Sge,4,11,"ng-template",2)),2&t&&(H(2),D("ngForOf",r.panels))},dependencies:[kn,ii,XF,C_e,ly,n2],encapsulation:2}),n})(),b_e=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JF=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ae,this.shown=new ae,this.hidden=new ae,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return Yt(this._zone,this._element.nativeElement,cy,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(C(i1),C(b_e),C(Ce))},n.\u0275dir=G({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&ye("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),M_e=0,eB=(()=>{class n{constructor(t){this._item=t}template(){return!1===this._item.destroyOnHide||this._item.animatingBodyCollapse?this._bodyTpl:null}}return n.\u0275fac=function(t){return new(t||n)(C(Se(()=>Ms)))},n.\u0275cmp=n1({type:n,selectors:[["","ngbAccordionBody",""]],contentQueries:function(t,r,i){if(1&t&&A1(i,x1,7),2&t){let s;a1(s=c1())&&(r._bodyTpl=s.first)}},hostVars:2,hostBindings:function(t,r){2&t&&ye("accordion-body",!0)},standalone:!0,features:[kt],attrs:zge,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&B(0,Ege,0,0,"ng-template",0),2&t&&D("ngTemplateOutlet",r.template())},dependencies:[ii],encapsulation:2}),n})(),tB=(()=>{class n{constructor(t,r){this.item=t,this.ngbCollapse=r}}return n.\u0275fac=function(t){return new(t||n)(C(Se(()=>Ms)),C(JF))},n.\u0275dir=G({type:n,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(t,r){2&t&&(pn("id",r.item.collapseId),Ye("aria-labelledby",r.item.toggleId),ye("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[e0([JF])]}),n})(),Ms=(()=>{class n{constructor(t,r){this._accordion=t,this._cd=r,this._subscriptions=[],this._collapsed=!0,this._id="ngb-accordion-item-"+M_e++,this.animatingBodyCollapse=!1,this.destroyOnHide=this._accordion.destroyOnHide,this.disabled=!1,this.shown=new ae,this.hidden=new ae}set id(t){Ga(t)&&""!==t&&(this._id=t)}set collapsed(t){this.collapsed!==t&&(this._collapsed=t,this._cd.markForCheck(),this._collapsed||(this.animatingBodyCollapse=!0,this._cd.detectChanges()),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=t)}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}ngAfterContentInit(){const{ngbCollapse:t}=this._collapse;t.animation=!1,t.collapsed=this.collapsed,t.animation=this._accordion.animation,this._subscriptions.push(t.hidden.subscribe(()=>{this.animatingBodyCollapse=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),t.shown.subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)}))}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}toggle(){this.collapsed=!this.collapsed}}return n.\u0275fac=function(t){return new(t||n)(C(Se(()=>dy)),C(mn))},n.\u0275dir=G({type:n,selectors:[["","ngbAccordionItem",""]],contentQueries:function(t,r,i){if(1&t&&A1(i,tB,7),2&t){let s;a1(s=c1())&&(r._collapse=s.first)}},hostVars:3,hostBindings:function(t,r){2&t&&(pn("id",r.id),ye("accordion-item",!0))},inputs:{id:["ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0}),n})(),dy=(()=>{class n{constructor(t){this.destroyOnHide=!0,this.shown=new ae,this.hidden=new ae,this.animation=t.animation,this.closeOthers=t.closeOthers}toggle(t){const r=this._getItem(t);if(r){const i=r.collapsed;this._items.forEach(s=>{s===r?s.toggle():this.closeOthers&&i&&(s.collapsed=!0)})}}expand(t){const r=this._getItem(t);r&&this._items.forEach(i=>{i===r?r.collapsed=!1:this.closeOthers&&(i.collapsed=!0)})}expandAll(){this.closeOthers?this._items.find(t=>!t.collapsed)||(this._items.get(0).collapsed=!1):this._items.forEach(t=>{t.collapsed=!1})}collapse(t){const r=this._getItem(t);r&&(r.collapsed=!0)}collapseAll(){this._items.forEach(t=>t.collapsed=!0)}isExpanded(t){const r=this._getItem(t);return!!r&&!r.collapsed}_getItem(t){return this._items.find(r=>r.id===t)}}return n.\u0275fac=function(t){return new(t||n)(C(YF))},n.\u0275dir=G({type:n,selectors:[["","ngbAccordion",""]],contentQueries:function(t,r,i){if(1&t&&A1(i,Ms,4),2&t){let s;a1(s=c1())&&(r._items=s)}},hostVars:2,hostBindings:function(t,r){2&t&&ye("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0}),n})(),rB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[fy,eB]}),n})();const z_e=({classList:n})=>{n.remove("show")};let E_e=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T_e=(()=>{class n{constructor(t,r,i,s){this._renderer=r,this._element=i,this._zone=s,this.closed=new ae,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Yt(this._zone,this._element.nativeElement,z_e,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(C(E_e),C(Q2),C(i1),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&ye("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[$1,kt],ngContentSelectors:c9,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(_a(),ya(0),B(1,Tge,1,0,"button",0)),2&t&&(H(1),D("ngIf",r.dismissible))},dependencies:[n2],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),iB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[T_e]}),n})();var n4=(()=>{return(n=n4||(n4={})).START="start",n.END="end",n4;var n})();const sB=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),e8=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},u9=n=>{e8(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},N_e=(n,e,{direction:t})=>{const{classList:r}=n;return e?(sB(n)?e8(r):(r.add("carousel-item-"+(t===n4.START?"next":"prev")),Wa(n),r.add("carousel-item-"+t)),()=>{u9(r),r.add("active")}):(e8(r),u9(r),void r.add("active"))},D_e=(n,e,{direction:t})=>{const{classList:r}=n;return e?(sB(n)?e8(r):r.add("carousel-item-"+t),()=>{u9(r),r.remove("active")}):(e8(r),u9(r),void r.remove("active"))};let V_e=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H_e=0,oB=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+H_e++,this.slid=new ae}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),aB=(()=>{class n{constructor(t,r,i,s,o){this._platformId=r,this._ngZone=i,this._cd=s,this._container=o,this.NgbSlideEventSource=li,this._destroy$=new Ke,this._interval$=new mt(0),this._mouseHover$=new mt(!1),this._focused$=new mt(!1),this._pauseOnHover$=new mt(!1),this._pauseOnFocus$=new mt(!1),this._pause$=new mt(!1),this._wrap$=new mt(!1),this.slide=new ae,this.slid=new ae,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(li.ARROW_LEFT)}arrowRight(){this.focus(),this.next(li.ARROW_RIGHT)}ngAfterContentInit(){Rv(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Iu([this.slide.pipe(ge(r=>r.current),V0(this.activeId)),this._wrap$,this.slides.changes.pipe(V0(null))]).pipe(ge(([r,i])=>{const s=this.slides.toArray(),o=this._getSlideIdxById(r);return i?s.length>1:o<s.length-1}),r9());Iu([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe(ge(([r,i,s,o,a,c,l])=>r||i&&s||o&&a||!l?0:c),r9(),_n(r=>r>0?K_(r,r):EF),k1(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(li.TIMER)))}),this.slides.changes.pipe(k1(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{J0.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(gt(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),n4.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),n4.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const s=this._transitionIds;if(s&&(s[0]!==t||s[1]!==this.activeId))return;let o=this._getSlideById(t);if(o&&o.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:o.id,direction:r,paused:this._pause$.value,source:i});const a={animation:this.animation,runningTransition:"stop",context:{direction:r}},c=[],l=this._getSlideById(this.activeId);if(l){const h=Yt(this._ngZone,this._getSlideElement(l.id),D_e,a);h.subscribe(()=>{l.slid.emit({isShown:!1,direction:r,source:i})}),c.push(h)}const u=this.activeId;this.activeId=o.id;const f=this._getSlideById(this.activeId),d=Yt(this._ngZone,this._getSlideElement(o.id),N_e,a);d.subscribe(()=>{f?.slid.emit({isShown:!0,direction:r,source:i})}),c.push(d),n9(...c).pipe(gt(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:u,current:o.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?n4.END:n4.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(V_e),C(as),C(Ce),C(mn),C(i1))},n.\u0275cmp=n1({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&A1(i,oB,4),2&t){let s;a1(s=c1())&&(r.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&te("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(Ye("aria-activedescendant","slide-"+r.activeId),ba("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[kt],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(M(0,"div",0),B(1,Nge,1,5,"button",1),w(),M(2,"div",2),B(3,Vge,4,4,"div",3),w(),B(4,Hge,4,0,"button",4),B(5,Ige,4,0,"button",5)),2&t&&(ye("visually-hidden",!r.showNavigationIndicators),H(1),D("ngForOf",r.slides),H(2),D("ngForOf",r.slides),H(1),D("ngIf",r.showNavigationArrows),H(1),D("ngIf",r.showNavigationArrows))},dependencies:[kn,ii,n2],encapsulation:2,changeDetection:0}),n})();var li=(()=>{return(n=li||(li={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",li;var n})();let cB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[aB]}),n})(),lB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();class Qt{constructor(e,t,r){this.year=st(e)?e:null,this.month=st(t)?t:null,this.day=st(r)?r:null}static from(e){return e instanceof Qt?e:e?new Qt(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function qa(n,e){return!function I_e(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function uB(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function f9(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function hy(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:s}=e;return!(null==n||i||s&&s(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function fB(n){return new Qt(n.getFullYear(),n.getMonth()+1,n.getDate())}function d9(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let h9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function B_e(){return new U_e}()},providedIn:"root"}),n})(),U_e=(()=>{class n extends h9{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let s=d9(t),o=!0,a=s.getMonth();switch(r){case"y":s.setFullYear(s.getFullYear()+i);break;case"m":a+=i,s.setMonth(a),a%=12,a<0&&(a+=12);break;case"d":s.setDate(s.getDate()+i),o=!1;break;default:return t}return o&&s.getMonth()!==a&&s.setDate(0),fB(s)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=d9(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const o=d9(t[(11-r)%7]);o.setDate(o.getDate()+4-(o.getDay()||7));const a=o.getTime();return o.setMonth(0),o.setDate(1),Math.floor(Math.round((a-o.getTime())/864e5)/7)+1}getToday(){return fB(new Date)}isValid(t){if(!(t&&st(t.year)&&st(t.month)&&st(t.day)&&0!==t.year))return!1;const r=d9(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function $_e(n){return new G_e(n)}(O(Ln)),r},providedIn:"root"}),n})(),G_e=(()=>{class n extends ws{constructor(t){super(),this._locale=t,this._monthsShort=bv(t,j1.Standalone,Ie.Abbreviated),this._monthsFull=bv(t,j1.Standalone,Ie.Wide)}getWeekdayLabel(t,r){const i=uR(this._locale,j1.Standalone,void 0===r?Ie.Short:r);return i.map((o,a)=>i[(a+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return dR(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(O(Ln))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),py=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(st(i=w2(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(st(i=w2(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const s=this.toValidDate(i,null);if(qa(this._state.maxDate,s))return{maxDate:s}},minDate:i=>{const s=this.toValidDate(i,null);if(qa(this._state.minDate,s))return{minDate:s}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const s=!0===i||!1===i?Ie.Short:i,o=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==s||this._state.weekdaysVisible!==o)return{weekdayWidth:s,weekdaysVisible:o}}},this._model$=new Ke,this._dateSelect$=new Ke,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ie.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Et(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Et(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,s)=>({...i,...s}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&qa(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){hy(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||uB(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(qa(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&hy(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Qt.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:s,focusDate:o,focusVisible:a,disabled:c,outsideDays:l}=t;t.months.forEach(u=>{u.weeks.forEach(f=>{f.days.forEach(d=>{o&&(d.context.focused=o.equals(d.date)&&a),d.tabindex=!c&&o&&d.date.equals(o)&&o.month===u.number?0:-1,!0===c&&(d.context.disabled=!0),void 0!==s&&(d.context.selected=null!==s&&s.equals(d.date)),u.number!==d.date.month&&(d.hidden="hidden"===l||"collapsed"===l||i>1&&d.date.after(r[0].firstDate)&&d.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function x_e(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=f9(r.focusDate,r.minDate,r.maxDate),r.firstDate=f9(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=f9(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=f9(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const o=function O_e(n,e,t,r,i){const{displayMonths:s,months:o}=t,a=o.splice(0,o.length);return Array.from({length:s},(l,u)=>{const f=Object.assign(n.getNext(e,"m",u),{day:1});if(o[u]=null,!i){const d=a.findIndex(h=>h.firstDate.equals(f));-1!==d&&(o[u]=a.splice(d,1)[0])}return f}).forEach((l,u)=>{null===o[u]&&(o[u]=function P_e(n,e,t,r,i={}){const{dayTemplateData:s,minDate:o,maxDate:a,firstDayOfWeek:c,markDisabled:l,outsideDays:u,weekdayWidth:f,weekdaysVisible:d}=t,h=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function F_e(n,e,t){const r=n.getDaysPerWeek(),i=new Qt(e.year,e.month,1),s=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+s-t)%r)}(n,e,c),d||(i.weekdays.length=0);for(let p=0;p<n.getWeeksPerMonth();p++){let m=i.weeks[p];m||(m=i.weeks[p]={number:0,days:[],collapsed:!0});const g=m.days;for(let _=0;_<n.getDaysPerWeek();_++){0===p&&d&&(i.weekdays[_]=r.getWeekdayLabel(n.getWeekday(e),f));const b=new Qt(e.year,e.month,e.day),y=n.getNext(b),T=r.getDayAriaLabel(b);let A=!!(o&&b.before(o)||a&&b.after(a));!A&&l&&(A=l(b,{month:i.number,year:i.year}));let k=b.equals(h),J=s?s(b,{month:i.number,year:i.year}):void 0;null===i.firstDate&&b.month===i.number&&(i.firstDate=b),b.month===i.number&&y.month!==i.number&&(i.lastDate=b);let de=g[_];de||(de=g[_]={}),de.date=b,de.context=Object.assign(de.context||{},{$implicit:b,date:b,data:J,currentMonth:i.number,currentYear:i.year,disabled:A,focused:!1,selected:!1,today:k}),de.tabindex=-1,de.ariaLabel=T,de.hidden=!1,e=y}m.number=n.getWeekNumber(g.map(_=>_.date),c),m.collapsed="collapsed"===u&&g[0].date.month!==i.number&&g[g.length-1].date.month!==i.number}return i}(n,l,t,r,a.shift()||{}))}),o}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=o,r.firstDate=o[0].firstDate,r.lastDate=o[o.length-1].lastDate,"selectedDate"in t&&!hy(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const a=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,c=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||a)&&(r.selectBoxes.years=function L_e(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,s=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,o=Array(s);for(let a=0;a<s;a++)o[a]=r+a;return o}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||a)&&(r.selectBoxes.months=function A_e(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const s=i.findIndex(o=>o===t.month);i=i.slice(s)}if(r&&e.year===r.year){const s=i.findIndex(o=>o===r.month);i=i.slice(0,s+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(c||a||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function R_e(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function k_e(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(O(h9),O(ws))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();var Ka=(()=>{return(n=Ka||(Ka={}))[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",Ka;var n})();let j_e=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(C(ws))},n.\u0275cmp=n1({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&ye("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[kt],attrs:xge,decls:1,vars:1,template:function(t,r){1&t&&x(0),2&t&&P2(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),W_e=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new ae,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Qt(this.date.year,w2(t),1))}changeYear(t){this.select.emit(new Qt(w2(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(C(ws),C(Q2))},n.\u0275cmp=n1({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(G3(Age,7,i1),G3(Lge,7,i1)),2&t){let i;a1(i=c1())&&(r.monthSelect=i.first),a1(i=c1())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[kt],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(M(0,"select",0,1),te("change",function(s){return r.changeMonth(s.target.value)}),B(2,kge,2,3,"option",2),w(),M(3,"select",3,4),te("change",function(s){return r.changeYear(s.target.value)}),B(5,Rge,2,2,"option",2),w()),2&t&&(D("disabled",r.disabled),H(2),D("ngForOf",r.months),H(1),D("disabled",r.disabled),H(2),D("ngForOf",r.years))},dependencies:[kn],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),q_e=(()=>{class n{constructor(t){this.i18n=t,this.navigation=Ka,this.months=[],this.navigate=new ae,this.select=new ae}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(C(ws))},n.\u0275cmp=n1({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[kt],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(M(0,"div",0)(1,"button",1),te("click",function(s){return r.onClickPrev(s)}),ce(2,"span",2),w()(),B(3,Oge,1,4,"ngb-datepicker-navigation-select",3),B(4,Uge,1,1,null,4),M(5,"div",5)(6,"button",6),te("click",function(s){return r.onClickNext(s)}),ce(7,"span",2),w()()),2&t&&(H(1),D("disabled",r.prevDisabled),H(2),D("ngIf",r.showSelect),H(1),D("ngIf",!r.showSelect),H(2),D("disabled",r.nextDisabled))},dependencies:[n2,kn,W_e],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var e1=(()=>{return(n=e1||(e1={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",e1;var n})();let K_e=(()=>{class n{processKey(t,r){const{state:i,calendar:s}=r;switch(t.which){case e1.PageUp:r.focusDate(s.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case e1.PageDown:r.focusDate(s.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case e1.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case e1.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case e1.ArrowLeft:r.focusDate(s.getPrev(i.focusedDate,"d",1));break;case e1.ArrowUp:r.focusDate(s.getPrev(i.focusedDate,"d",s.getDaysPerWeek()));break;case e1.ArrowRight:r.focusDate(s.getNext(i.focusedDate,"d",1));break;case e1.ArrowDown:r.focusDate(s.getNext(i.focusedDate,"d",s.getDaysPerWeek()));break;case e1.Enter:case e1.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),my=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ie.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function Y_e(){return new Q_e}()},providedIn:"root"}),n})(),Q_e=(()=>{class n extends gy{fromModel(t){return t&&st(t.year)&&st(t.month)&&st(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&st(t.year)&&st(t.month)&&st(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),dB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),vy=(()=>{class n{constructor(t,r,i,s){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=s}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(C(ws),C(Se(()=>p9)),C(K_e),C(py))},n.\u0275cmp=n1({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&te("keydown",function(s){return r.onKeyDown(s)})},inputs:{month:"month"},standalone:!0,features:[kt],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(B(0,jge,3,2,"div",0),B(1,Zge,1,1,"ng-template",1)),2&t&&(D("ngIf",r.viewModel.weekdays.length>0),H(1),D("ngForOf",r.viewModel.weeks))},dependencies:[n2,kn,ii],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),p9=(()=>{class n{constructor(t,r,i,s,o,a,c,l){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=a,this._ngbDateAdapter=c,this._ngZone=l,this._controlValue=null,this._destroyed$=new Ke,this._publicState={},this.navigate=new ae,this.dateSelect=new ae,this.onChange=u=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(u=>this[u]=s[u]),t.dateSelect$.pipe(k1(this._destroyed$)).subscribe(u=>{this.dateSelect.emit(u)}),t.model$.pipe(k1(this._destroyed$)).subscribe(u=>{const f=u.firstDate,d=this.model?this.model.firstDate:null;this._publicState={maxDate:u.maxDate,minDate:u.minDate,firstDate:u.firstDate,lastDate:u.lastDate,focusedDate:u.focusDate,months:u.months.map(_=>_.firstDate)};let h=!1;if(!f.equals(d)&&(this.navigate.emit({current:d?{year:d.year,month:d.month}:null,next:{year:f.year,month:f.month},preventDefault:()=>h=!0}),h&&null!==d))return void this._service.open(d);const p=u.selectedDate,m=u.focusDate,g=this.model?this.model.focusDate:null;this.model=u,qa(p,this._controlValue)&&(this._controlValue=p,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(p))),qa(m,g)&&g&&u.focusVisible&&this.focus(),o.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Qt.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(gt(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Qt.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=M2(this._contentEl.nativeElement,"focusin"),r=M2(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;MH(t,r).pipe(Et(({target:s,relatedTarget:o})=>!(WF(s,"ngb-dp-day")&&WF(o,"ngb-dp-day")&&i.contains(s)&&i.contains(o))),k1(this._destroyed$)).subscribe(({type:s})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===s})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:s}=t.startDate;uB(s,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case Ka.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Ka.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Qt.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(C(py),C(h9),C(ws),C(my),C(mn),C(i1),C(gy),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&A1(i,dB,7),2&t){let s;a1(s=c1())&&(r.contentTemplate=s.first)}},viewQuery:function(t,r){if(1&t&&(G3(Xge,7),G3(Jge,7)),2&t){let i;a1(i=c1())&&(r._defaultDayTemplate=i.first),a1(i=c1())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&ye("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[b1([{provide:vn,useExisting:Se(()=>n),multi:!0},py]),$1,kt],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(B(0,eve,1,5,"ng-template",null,0,St),B(2,rve,1,1,"ng-template",null,1,St),M(4,"div",2),B(5,ive,1,7,"ngb-datepicker-navigation",3),w(),M(6,"div",4,5),B(8,sve,0,0,"ng-template",6),w(),B(9,ove,0,0,"ng-template",6)),2&t){const i=I1(3);H(5),D("ngIf","none"!==r.navigation),H(1),ye("ngb-dp-months",!r.contentTemplate),H(2),D("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),H(1),D("ngTemplateOutlet",r.footerTemplate)}},dependencies:[n2,kn,ii,j_e,vy,q_e],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const mB=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gB(n){const e=Array.from(n.querySelectorAll(mB)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[p9,vy]}),n})(),by=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),IB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();class Es{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let bye=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(gt(1)).subscribe(()=>{Yt(this._zone,this._el.nativeElement,(t,r)=>{r&&Wa(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Yt(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(C(i1),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&($3("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ye("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[kt],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class xB{close(e){}dismiss(e){}}class Mye{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Ke,this._dismissed=new Ke,this._hidden=new Ke,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(k1(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(k1(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function jF(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():he(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),n9(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var r8=(()=>{return(n=r8||(r8={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",r8;var n})();let wye=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Ke,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ae,this.shown=new Ke,this.hidden=new Ke}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ga(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(gt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=n9(Yt(this._zone,t,()=>t.classList.remove("show"),r),Yt(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};n9(Yt(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Wa(s),s.classList.add("show")},t),Yt(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{M2(t,"keydown").pipe(k1(this._closed$),Et(i=>i.which===e1.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(r8.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;M2(this._dialogEl.nativeElement,"mousedown").pipe(k1(this._closed$),Kt(()=>r=!1),_n(()=>M2(t,"mouseup").pipe(k1(this._closed$),gt(1))),Et(({target:i})=>t===i)).subscribe(()=>{r=!0}),M2(t,"click").pipe(k1(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(r8.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=gB(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Yt(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(C(G1),C(i1),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&G3(ave,7),2&t){let i;a1(i=c1())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(Ye("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),$3("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ye("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[kt],ngContentSelectors:c9,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(_a(),M(0,"div",0,1)(2,"div",2),ya(3),w()()),2&t&&$3("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Sye=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zye=(()=>{class n{constructor(t,r,i,s,o,a,c){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new Ke,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new ae,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=M2(e,"focusin").pipe(k1(t),ge(s=>s.target));M2(e,"keydown").pipe(k1(t),Et(s=>s.which===e1.Tab),Y_(i)).subscribe(([s,o])=>{const[a,c]=gB(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&M2(e,"click").pipe(k1(t),Y_(i),ge(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:Cs(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new xB,c=(t=i.injector||t).get(zr,null)||this._environmentInjector,l=this._getContentRef(t,c,r,a,i);let u=!1!==i.backdrop?this._attachBackdrop(s):void 0,f=this._attachWindowComponent(s,l.nodes),d=new Mye(f,l,u,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.hidden.pipe(gt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=h=>{d.close(h)},a.dismiss=h=>{d.dismiss(h)},this._applyWindowOptions(f.instance,i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),u&&u.instance&&(this._applyBackdropOptions(u.instance,i),u.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=gv(bye,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=gv(wye,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Cs(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Cs(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,s,o){return i?i instanceof x1?this._createFromTemplateRef(i,s):Ga(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new Es([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new Es([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Es([[r]])}_createFromComponent(t,r,i,s,o){const c=gv(i,{environmentInjector:r,elementInjector:T1.create({providers:[{provide:xB,useValue:s}],parent:t})}),l=c.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Es([[l]],c.hostView,c)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(O(Na),O(T1),O(zr),O(G1),O(Sye),O(ra),O(Ce))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eye=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tye=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(O(T1),O(zye),O(Eye))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[Tye]}),n})();const xye=({classList:n})=>(n.remove("show"),()=>n.remove("active")),Aye=(n,e)=>{e&&Wa(n),n.classList.add("show")};let My=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(i1))},n.\u0275dir=G({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(pn("id",r.item.panelDomId),Ye("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),ye("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),RB=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(k1(this.nav.destroy$),V0(this._activePane?.item||null),r9(),Q_(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Yt(this._ngZone,this._activePane.elRef.nativeElement,xye,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Yt(this._ngZone,this._activePane.elRef.nativeElement,Aye,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(C(mn),C(Ce))},n.\u0275cmp=n1({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&G3(My,5),2&t){let i;a1(i=c1())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&ye("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[kt],attrs:cve,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&B(0,dve,1,1,"ng-template",0),2&t&&D("ngForOf",r.nav.items)},dependencies:[My,kn,n2,ii],encapsulation:2,changeDetection:0}),n})(),OB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[RB]}),n})(),Lye=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),BB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),UB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),$B=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),GB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),jB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),WB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(C(x1))},n.\u0275dir=G({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),qB=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new ae(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=l9(t,this.pageCount,1),this.page!==r&&vt(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),vt(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(C(Lye))},n.\u0275cmp=n1({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(A1(i,PB,5),A1(i,BB,5),A1(i,UB,5),A1(i,$B,5),A1(i,GB,5),A1(i,jB,5),A1(i,WB,5)),2&t){let s;a1(s=c1())&&(r.tplEllipsis=s.first),a1(s=c1())&&(r.tplFirst=s.first),a1(s=c1())&&(r.tplLast=s.first),a1(s=c1())&&(r.tplNext=s.first),a1(s=c1())&&(r.tplNumber=s.first),a1(s=c1())&&(r.tplPrevious=s.first),a1(s=c1())&&(r.tplPages=s.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[$1,kt],decls:20,vars:12,consts:function(){let e,t,r,i,s,o,a,c;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,s=$localize`:@@ngb.pagination.first-aria:First`,o=$localize`:@@ngb.pagination.previous-aria:Previous`,a=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(B(0,hve,2,0,"ng-template",null,0,St),B(2,pve,2,0,"ng-template",null,1,St),B(4,mve,2,0,"ng-template",null,2,St),B(6,gve,2,0,"ng-template",null,3,St),B(8,vve,1,0,"ng-template",null,4,St),B(10,yve,2,2,"ng-template",null,5,St),B(12,Tve,1,1,"ng-template",null,6,St),M(14,"ul"),B(15,Dve,3,9,"li",7),B(16,Ive,3,8,"li",7),B(17,xve,0,0,"ng-template",8),B(18,Lve,3,9,"li",7),B(19,Rve,3,9,"li",7),w()),2&t){const i=I1(13);H(14),$3("pagination"+(r.size?" pagination-"+r.size:"")),H(1),D("ngIf",r.boundaryLinks),H(1),D("ngIf",r.directionLinks),H(1),D("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",Qi(8,Ove,r.page,r.pages,r.disabled)),H(1),D("ngIf",r.directionLinks),H(1),D("ngIf",r.boundaryLinks)}},dependencies:[n2,kn,ii],encapsulation:2,changeDetection:0}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[qB]}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})(),Bye=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uye=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!vt(t)||t<=0?100:t}get max(){return this._max}getValue(){return l9(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(C(Bye))},n.\u0275cmp=n1({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(Ye("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),ba("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[kt],ngContentSelectors:c9,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(_a(),M(0,"div"),B(1,Bve,3,3,"span",0),ya(2),w()),2&t&&(nL("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),ba("width",r.getPercentValue(),"%"),ye("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),H(1),D("ngIf",r.showValue))},dependencies:[n2,TR],encapsulation:2,changeDetection:0}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[Uye]}),n})(),$ye=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gye=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new ae,this.leave=new ae,this.rateChange=new ae(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(t,r){return`${t} out of ${r}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case e1.ArrowDown:case e1.ArrowLeft:this.update(this.rate-1);break;case e1.ArrowUp:case e1.ArrowRight:this.update(this.rate+1);break;case e1.Home:this.update(0);break;case e1.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=l9(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*l9(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(C($ye),C(mn))},n.\u0275cmp=n1({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&A1(i,x1,5),2&t){let s;a1(s=c1())&&(r.starTemplateFromContent=s.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&te("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)})("mouseleave",function(){return r.reset()}),2&t&&(pn("tabindex",r.disabled?-1:r.tabindex),Ye("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText(r.nextRate,r.max))("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[b1([{provide:vn,useExisting:Se(()=>n),multi:!0}]),$1,kt],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(B(0,Uve,1,1,"ng-template",null,0,St),B(2,Gve,4,5,"ng-template",1)),2&t&&(H(2),D("ngForOf",r.contexts))},dependencies:[kn,ii],encapsulation:2,changeDetection:0}),n})(),XB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[Gye]}),n})();class JB{constructor(e,t,r){this.hour=w2(e),this.minute=w2(t),this.second=w2(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=vt(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){vt(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){vt(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return vt(this.hour)&&vt(this.minute)&&(!e||vt(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let jye=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function Wye(){return new qye}()},providedIn:"root"}),n})(),qye=(()=>{class n extends eU{fromModel(t){return t&&st(t.hour)&&st(t.minute)?{hour:t.hour,minute:t.minute,second:st(t.second)?t.second:null}:null}toModel(t){return t&&st(t.hour)&&st(t.minute)?{hour:t.hour,minute:t.minute,second:st(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ht(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function Kye(n){return new Yye(n)}(O(Ln)),r},providedIn:"root"}),n})(),Yye=(()=>{class n extends tU{constructor(t){super(),this._periods=lR(t,j1.Standalone,Ie.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(O(Ln))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Qye=/[^0-9]/g;let Zye=(()=>{class n{constructor(t,r,i,s){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=s,this.onChange=o=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=st(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=st(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=st(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new JB(r.hour,r.minute,r.second):new JB,!this.seconds&&(!r||!vt(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=w2(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(w2(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(w2(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(Qye,"")}formatHour(t){return vt(t)?ja(this.meridian?t%12==0?12:t%12:t%24):ja(NaN)}formatMinSec(t){return ja(vt(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!vt(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(C(jye),C(eU),C(mn),C(tU))},n.\u0275cmp=n1({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[b1([{provide:vn,useExisting:Se(()=>n),multi:!0}]),$1,kt],decls:16,vars:25,consts:function(){let e,t,r,i,s,o,a,c,l,u,f,d,h,p;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,s=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,o=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,a=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,c=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,l=$localize`:@@ngb.timepicker.SS:SS`,u=$localize`:@@ngb.timepicker.seconds:Seconds`,f=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,d=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,h=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,p=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],s,[1,"chevron","ngb-tp-chevron","bottom"],o,a,c,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",l,"aria-label",u,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],f,d,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],h,p]},template:function(t,r){1&t&&(M(0,"fieldset",0)(1,"div",1)(2,"div",2),B(3,jve,4,7,"button",3),M(4,"input",4),te("change",function(s){return r.updateHour(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeHour(r.hourStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeHour(-r.hourStep),s.preventDefault()}),w(),B(5,Wve,4,7,"button",3),w(),M(6,"div",5),x(7,":"),w(),M(8,"div",6),B(9,qve,4,7,"button",3),M(10,"input",7),te("change",function(s){return r.updateMinute(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeMinute(r.minuteStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeMinute(-r.minuteStep),s.preventDefault()}),w(),B(11,Kve,4,7,"button",3),w(),B(12,Yve,2,0,"div",8),B(13,Xve,4,9,"div",9),B(14,Jve,1,0,"div",8),B(15,n_e,5,9,"div",10),w()()),2&t&&(ye("disabled",r.disabled),D("disabled",r.disabled),H(3),D("ngIf",r.spinners),H(1),ye("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),D("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),H(1),D("ngIf",r.spinners),H(4),D("ngIf",r.spinners),H(1),ye("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),D("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),H(1),D("ngIf",r.spinners),H(1),D("ngIf",r.seconds),H(1),D("ngIf",r.seconds),H(1),D("ngIf",r.meridian),H(1),D("ngIf",r.meridian))},dependencies:[n2],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[Zye]}),n})();const Xye=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),Wa(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},Jye=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let eCe=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(O(bs))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),nCe=(()=>{class n{constructor(t,r,i,s){this.ariaLive=t,this._zone=i,this._element=s,this.contentHeaderTpl=null,this.shown=new ae,this.hidden=new ae,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(gt(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Yt(this._zone,this._element.nativeElement,Jye,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Yt(this._zone,this._element.nativeElement,Xye,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(B3("aria-live"),C(eCe),C(Ce),C(i1))},n.\u0275cmp=n1({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&A1(i,tCe,7,x1),2&t){let s;a1(s=c1())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(Ye("aria-live",r.ariaLive),ye("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[$1,kt],ngContentSelectors:c9,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(_a(),B(0,r_e,2,1,"ng-template",null,0,St),B(2,s_e,3,1,"ng-template",1),M(3,"div",2),ya(4),w()),2&t&&(H(2),D("ngIf",r.contentHeaderTpl||r.header))},dependencies:[n2,ii],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[nCe]}),n})(),iU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})(),rCe=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=GF(this.result),i=Array.isArray(this.term)?this.term:[this.term],s=l=>this.accentSensitive?l:qF(l),o=i.map(l=>function f_e(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(GF(l)))).filter(l=>l),a=this.accentSensitive?r:qF(r),c=o.length?a.split(new RegExp(`(${o.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=c;else{let l=0;this.parts=c.map(u=>r.substring(l,l+=u.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[$1,kt],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&B(0,c_e,3,2,"ng-template",0),2&t&&D("ngForOf",r.parts)},dependencies:[n2,kn],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new ne("live announcer delay",{providedIn:"root",factory:function iCe(){return 100}});let sU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[rCe]}),n})(),oU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();const sCe=[rB,iB,cB,lB,DB,IB,AB,OB,oU,KB,QB,ZB,XB,nU,rU,iU,sU];let oCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[sCe,rB,iB,cB,lB,DB,IB,AB,OB,oU,KB,QB,ZB,XB,nU,rU,iU,sU]}),n})(),aCe=(()=>{class n{constructor(){this.personInfo={}}onImageClick(t){window.open(t,"_blank")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-person-card"]],inputs:{personInfo:"personInfo"},decls:12,vars:3,consts:[[1,"text-container"],[1,"row","justify-content-center","align-items-center"],[1,"col-3","align"],[1,"row","justify-content-center"],[1,"person-image",3,"src","click"],[1,"col-3"],[1,"row","mb-2"],[1,"fs-4"],[1,"row"],[1,"fs-6"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"img",4),te("click",function(){return r.onImageClick(r.personInfo.page_link)}),w()()(),M(5,"div",5)(6,"div",6)(7,"span",7),x(8),w()(),M(9,"div",8)(10,"span",9),x(11),w()()()()()),2&t&&(H(4),r0("src",r.personInfo.image_link,ts),H(4),P2(r.personInfo.fullname),H(3),P2(r.personInfo.role))},styles:[".person-image[_ngcontent-%COMP%]{border-radius:50%;max-width:200px;width:30vw}"]}),n})();const cCe=["carousel"];function lCe(n,e){1&n&&ce(0,"app-person-card",5),2&n&&D("personInfo",L().$implicit)}function uCe(n,e){1&n&&B(0,lCe,1,1,"ng-template",4)}function fCe(n,e){if(1&n){const t=v1();M(0,"ngb-carousel",1,2),te("slide",function(i){return Me(t),we(L().onSlide(i))}),B(2,uCe,1,0,null,3),w()}if(2&n){const t=L();D("interval",3e3)("pauseOnHover",t.pauseOnHover)("pauseOnFocus",t.pauseOnFocus),H(2),D("ngForOf",t.people)}}let dCe=(()=>{class n{constructor(){this.paused=!1,this.unpauseOnArrow=!1,this.pauseOnIndicator=!1,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.people=[]}togglePaused(){this.paused?this.carousel.cycle():this.carousel.pause(),this.paused=!this.paused}onSlide(t){this.unpauseOnArrow&&t.paused&&(t.source===li.ARROW_LEFT||t.source===li.ARROW_RIGHT)&&this.togglePaused(),this.pauseOnIndicator&&!t.paused&&t.source===li.INDICATOR&&this.togglePaused()}ngOnInit(){this.people=[{fullname:"Valerio Re",role:"Full Professor",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/18-11-2020/valeriore.jpg?itok=QA8gZjWv",page_link:"https://didattica-rubrica.unibg.it/ugov/person/2126"},{fullname:"Massimo Manghisoni",role:"Full Professor",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/18-11-2020/massimomanghisoni.jpg?itok=cY6M3PJn",page_link:"https://didattica-rubrica.unibg.it/ugov/person/3863"},{fullname:"Gianluca Traversi",role:"Associate Professor",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/17-11-2020/gianlucatraversi_0.jpg?itok=LEpJx9I8",page_link:"https://didattica-rubrica.unibg.it/ugov/person/2025"},{fullname:"Luigi Gaioni",role:"Associate Professor",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/27-01-2022/gaioni_2022_0.png?itok=xwGf3W-p",page_link:"https://didattica-rubrica.unibg.it/ugov/person/1912"},{fullname:"Elisa Riceputi",role:"Research Fellow",image_link:"https://media.licdn.com/dms/image/C5603AQG7MriSe0NcvQ/profile-displayphoto-shrink_800_800/0/1517027392938?e=2147483647&v=beta&t=HKbO3u5lWMJL1u-W95hDYh2gGz-V1ZB_1IU4ZI7n12k",page_link:"https://didattica-rubrica.unibg.it/ugov/person/23631"},{fullname:"Paolo Lazzaroni",role:"Ph.D. Student",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/17-11-2020/photo_face_0.jpg?itok=Ub6ffGMR",page_link:"https://didattica-rubrica.unibg.it/ugov/person/52719"},{fullname:"Andrea Galliani",role:"Ph.D. Student",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/27-10-2022/1653337271785.jpg?itok=JvdMnetv",page_link:"https://didattica-rubrica.unibg.it/ugov/person/109144"},{fullname:"Luca Ghislotti",role:"Ph.D. Student",image_link:"https://didattica-rubrica.unibg.it/sites/default/files/styles/foto_personale/public/foto/26-10-2022/immagine_luca.jpg?itok=cto1xkFT",page_link:"https://didattica-rubrica.unibg.it/ugov/person/135728"},{fullname:"Stefano Sanvito",role:"Ph.D. Student",image_link:"https://media.licdn.com/dms/image/D4E03AQEGDZdGY_YK-A/profile-displayphoto-shrink_800_800/0/1629919271919?e=2147483647&v=beta&t=tSad18xPWPOFZet-git9Ts83_yGb38xkmGBvqrujg_U",page_link:"https://didattica-rubrica.unibg.it/ugov/person/127647"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-people-carousel"]],viewQuery:function(t,r){if(1&t&&G3(cCe,7),2&t){let i;a1(i=c1())&&(r.carousel=i.first)}},decls:1,vars:1,consts:[[3,"interval","pauseOnHover","pauseOnFocus","slide",4,"ngIf"],[3,"interval","pauseOnHover","pauseOnFocus","slide"],["carousel",""],[4,"ngFor","ngForOf"],["class","ng_template","ngbSlide",""],[3,"personInfo"]],template:function(t,r){1&t&&B(0,fCe,3,4,"ngb-carousel",0),2&t&&D("ngIf",r.people)},dependencies:[kn,n2,aB,oB,aCe],styles:[".picsum-img-wrapper[_ngcontent-%COMP%], .people_image[_ngcontent-%COMP%]{border-radius:50%}.picsum-img-wrapper[_ngcontent-%COMP%]{margin-bottom:50px}.ng_template[_ngcontent-%COMP%]{width:200px;height:200px}"]}),n})(),hCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-home"]],decls:41,vars:0,consts:[["data-ride","carousel",1,"carousel","slide","carousel-top","mb-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/carousel/silicon_banner.webp","alt","First slide",1,"d-block","w-100"],[1,"container"],[1,"row","justify-content-between"],[1,"col","col-12","col-sm-12","col-md-4","text-container","px-lg-5","mb-5"],[1,"text-center","border-bottom","border-primary","border-custom","fs-3","pb-3"],[1,"text-center"],["src","assets/icons/HEP.png","width","200","alt","hep","loading","lazy",1,"img-fluid","float-center"],[1,"fs-6","text-center","my-4"],["type","button","routerLink","/research-interest","fragment","HEP",1,"btn","btn-outline-primary","btn-custom"],["src","assets/icons/cmos.png","width","200","alt","cmos","loading","lazy",1,"img-fluid","float-center"],["type","button","routerLink","/research-interest","fragment","CMOS",1,"btn","btn-outline-primary","btn-custom"],["src","assets/icons/sensors.png","width","200","alt","sensors","loading","lazy",1,"img-fluid","float-center"],["type","button","routerLink","/research-interest","fragment","IoT",1,"btn","btn-outline-primary","btn-custom"],[1,"row","justify-content-center"],[1,"col","px-lg-5","mb-5"],[1,"my-5"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),w()()(),M(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),x(8," High Energy Physics "),w(),M(9,"div",8),ce(10,"img",9),w(),M(11,"p",10),x(12," Mixed-signal, low-noise front-end IC design for accelerators, x-FELs and astroparticle physics. "),w(),M(13,"div",8)(14,"button",11),x(15,"Read more"),w()()(),M(16,"div",6)(17,"h1",7),x(18," CMOS characterization "),w(),M(19,"div",8),ce(20,"img",12),w(),M(21,"p",10),x(22," CMOS technology nodes characterizations, noise evaluation and radiation effect analysis. "),w(),M(23,"div",8)(24,"button",13),x(25,"Read more"),w()()(),M(26,"div",6)(27,"h1",7),x(28," Wearable sensors and IoT "),w(),M(29,"div",8),ce(30,"img",14),w(),M(31,"p",10),x(32," Affordable, precise and efficient solutions for wearable sensors and IoT networks. "),w(),M(33,"div",8)(34,"button",15),x(35,"Read more"),w()()()(),M(36,"div",16)(37,"div",17)(38,"h1",7),x(39," Who we are "),w(),ce(40,"app-people-carousel",18),w()()())},dependencies:[n3,dCe],styles:[".carousel-top[_ngcontent-%COMP%]{margin-top:-5px}.carousel-item-white[_ngcontent-%COMP%]{padding:10px;position:absolute;height:100%;width:100%;z-index:1;background-color:#fff6}"]}),n})(),pCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-research-interest"]],decls:116,vars:0,consts:[["data-ride","carousel",1,"carousel","slide","carousel-top","mb-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/carousel/silicon_banner.webp","alt","First slide",1,"d-block","w-100","carousel-item-crop"],[1,"container","fs-6"],["id","IoT",1,"row","justify-content-start"],[1,"col","col-12"],[1,"border-bottom","border-primary","border-custom","fs-3","pb-3","mt-5"],[1,"row","justify-content-between"],[1,"col","col-12","col-md-4","text-center"],["src","assets/img/ECG_modified.png","width","70%","alt","gaps module","loading","lazy",1,"img-fluid"],[1,"col","col-12","col-md-8"],[1,"text-start","text-container","mb-5"],["href","https://www.radar-cns.org/"],["id","HEP",1,"row","justify-content-start"],[1,"col","col-12","col-md-4","order-md-1"],["src","assets/img/GAPS_module.png","alt","gaps module","loading","lazy",1,"img-fluid"],["href","https://rd53.web.cern.ch/"],["href","https://home.cern/"],["href","https://cms.cern/"],["href","https://gaps1.astro.ucla.edu/gaps/"],["href","https://www.nasa.gov/"],["href","https://www.asi.it/en/"],["href","https://global.jaxa.jp/"],["href","https://home.infn.it/en/"],["href","https://photon-science.desy.de/research/technical_groups/detectors/projects/dssc/index_eng.html"],["href","https://www.xfel.eu/"],["href","https://www.desy.de/"],["href","https://www.polimi.it/en"],["href","https://www.uni-heidelberg.de/en"],["href","https://aida2020.web.cern.ch/aida2020/"],["id","CMOS",1,"row","justify-content-start"],[1,"col","col-12","col-md-4","mb-5"],["src","assets/img/noise_manghi.png","alt","gaps module","loading","lazy",1,"img-fluid"],["href",""]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),w()()(),M(4,"div",4)(5,"p"),x(6," Microlab (\u03bcLab) laboratory interest spans different research fields: "),w(),M(7,"div",5)(8,"div",6)(9,"h1",7),x(10,"Wearable sensors and IoT"),w()()(),M(11,"div",8)(12,"div",9),ce(13,"img",10),w(),M(14,"div",11)(15,"div",12)(16,"p"),x(17," From industry to everyday life, the current trend is to collect valuable information with zero impact, low cost and for long spans of time. The Internet of Things (IoT) is the most famous paradigm to make this idea work: a network of smart sensors connected to the Internet that gather data, forward them to accumulators that can exploit them and find useful patterns and information starting from them. "),w(),M(18,"p"),x(19," Microlab has been working extensively on different wearable and IoT platforms applied to multiple fields with a common target: miniaturization and long battery life. The areas of application, and fields of interest, of such systems are unbound: from orientation and motion tracking system for industry to dynamic ECG system, dehydration monitoring platforms and beam diagnostic architecture for medical applications. The expertise of the group spans from the hardware, namely components, PCB design and integration, to the firmware and data analysis. Different miniaturised platforms have been developed, tested and applied to use cases with a great success. "),w(),M(20,"p"),x(21," Some of the platfroms Microlab has been developing are: "),w(),M(22,"ul")(23,"li"),x(24,"Orientation and motion tracking systems for general purposes application (motion reconstruction, patient rehabilitation, etc.)."),w(),M(25,"li"),x(26,"ECG and PPG platforms for medical applications."),w(),M(27,"li"),x(28,"Color sensing platforms interfacing with smart textiles for vital parameters and dehydration monitoring for professional sportspeople."),w(),M(29,"li"),x(30,"Beamline monitoring system for particle therapy, a new kind of radiotherapy that limits the collateral damage due to tumour removal methods."),w()(),M(31,"p"),x(32," In this field, the laboratory has been involved in the European Union Horizon 2020 programme with the "),M(33,"a",13),x(34,"RADAR-CNS"),w(),x(35," project to develop new methods of keeping track of the most important parameters to monitor diseases such as depression, Parkinson, epilepsy, multiple sclerosis and so on "),w()()()(),M(36,"div",14)(37,"div",6)(38,"h1",7),x(39,"High Energy Physics"),w()()(),M(40,"div",8)(41,"div",15),ce(42,"img",16),w(),M(43,"div",11)(44,"div",12)(45,"p"),x(46," Microlab has developed several custom low-noise front-end circuits for radiation detector readout in different national and international collaboration frames. The technologies used by the laboratory are varied, but CMOS is the usual choice when it comes to integrated circuits for the experience the group holds on the process. "),w(),M(47,"p"),x(48," The group has been developing mixed-signal circuits in CMOS technologies from the 180 nm down to the 28 nm node to readout both pixellated and striped detectors. The target of the typical application is very low noise detection of target particles, together with low power specification and compact area for high level of integration and spatial resolution. The group has also experience on design of I/O blocks and band-gap references. There is also expertise with 3D integration technologies to produce multilayer analog-digital integrated circuits. "),w(),M(49,"p"),x(50," Some of the project Microlab has been working on are: "),w(),M(51,"ul")(52,"li")(53,"a",17),x(54,"RD53"),w(),x(55,", in collaboration with "),M(56,"a",18),x(57,"CERN"),w(),x(58,", in the frame of the "),M(59,"a",19),x(60,"CMS"),w(),x(61," experiment."),w(),M(62,"li")(63,"a",20),x(64,"GAPS"),w(),x(65,", a "),M(66,"a",21),x(67,"NASA"),w(),x(68,"/"),M(69,"a",22),x(70,"ASI"),w(),x(71,"/"),M(72,"a",23),x(73,"JAXA"),w(),x(74,"/"),M(75,"a",24),x(76,"INFN"),w(),x(77," founded project in collaboration with different universities and institute across the world."),w(),M(78,"li")(79,"a",25),x(80,"DSSC"),w(),x(81,", in collaboration with "),M(82,"a",26),x(83,"European XFEL"),w(),x(84,", "),M(85,"a",27),x(86,"DESY"),w(),x(87,", "),M(88,"a",28),x(89,"Politecnico di Milano"),w(),x(90," and "),M(91,"a",29),x(92,"Heidelberg University"),w(),x(93,"."),w(),M(94,"li")(95,"a",30),x(96,"AIDA2020"),w(),x(97,", an European Union founded project in the frame of Horizon 2020 Research and Innovation programme."),w()()()()(),M(98,"div",31)(99,"div",6)(100,"h1",7),x(101,"CMOS characterization"),w()()(),M(102,"div",8)(103,"div",32),ce(104,"img",33),w(),M(105,"div",11)(106,"div",12)(107,"p"),x(108," CMOS technologies are widely used for the design and development of mixed-signal circuits. They enable a high level of integration and high fault tolerance in a hard radiation scenario. The continuous scaling of the technology nodes calls for thorough studies on their analog performance, in particular noise ones. "),w(),M(109,"p"),x(110," In this field, the group developed an accurate noise model that accounts for secondary effects of scaled CMOS technologies, such as short channel effects and parasitic effects from gate and substrate resistances. The model has been validated across different CMOS technology nodes and with commercial and custom-developed electronics. Moreover, radiation hardness studies in different technologies have been pursued with a focus on noise and analog performance in general, as such characteristic is of paramount importance in spatial, x-ray imaging and high energy physics experiments. "),w(),M(111,"p"),x(112," The work has been mainly carried out in collaboration with "),M(113,"a",34),x(114,"Universit\xe0 di Pavia"),w(),x(115,". "),w()()()()())}}),n})(),mCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-work-in-progress"]],decls:16,vars:0,consts:[[1,"container","mt-5"],[1,"row","justify-content-between"],[1,"col","col-12","col-sm-12","col-md-5","text-container","px-lg-5","align-self-center"],[1,"overlap","mt-5"],[1,"bee-sketch","red"],[1,"bee-sketch","blue"],[1,"col","col-12","col-sm-12","col-md-7","text-container","px-lg-5","align-self-center"],["routerLink","/home"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"div",4)(5,"div",5),w()(),M(6,"div",6)(7,"h1"),x(8," It seems you got lost "),M(9,"small"),x(10,"or maybe this section is not available yet... "),ce(11,"br")(12,"br"),x(13," return to "),M(14,"a",7),x(15,"Home"),w()()()()()())},dependencies:[n3],styles:['@import"https://fonts.googleapis.com/css?family=Cabin+Sketch";h1[_ngcontent-%COMP%]{font-family:Cabin Sketch,cursive;font-size:3em;text-align:center;opacity:.8;order:1}h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%]{color:#133066;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{color:#0096ff;text-decoration:none;font-weight:700}.overlap[_ngcontent-%COMP%]{position:relative;min-width:100%;min-height:400px;margin:0;overflow:visible;order:2}.bee-sketch[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0}.red[_ngcontent-%COMP%]{background:url(red-1.ab311a0bf6866a74.png) no-repeat center center;opacity:.4;animation:_ngcontent-%COMP%_red 3s linear infinite,opacityRed 5s linear alternate infinite;background-size:68%}.blue[_ngcontent-%COMP%]{background:url(blue-1.971f849feb826841.png) no-repeat center center;opacity:1;animation:_ngcontent-%COMP%_blue 3s linear infinite,opacityBlue 5s linear alternate infinite;background-size:68%}@media only screen and (min-width: 780px){h1[_ngcontent-%COMP%]{text-align:right;order:2;padding-top:4em}}@keyframes _ngcontent-%COMP%_blue{0%{background-image:url(blue-1.971f849feb826841.png)}9.09%{background-image:url(blue-2.6f016075db487a57.png)}27.27%{background-image:url(blue-3.8aaf400342899bfa.png)}36.36%{background-image:url(blue-4.59e599ec02f8347e.png)}45.45%{background-image:url(blue-5.eb9657ca1cf6bd87.png)}54.54%{background-image:url(blue-6.1844a04eccdbc0e1.png)}63.63%{background-image:url(blue-7.56c3c831fdba15fa.png)}72.72%{background-image:url(blue-8.f5d6fe11301bc7db.png)}81.81%{background-image:url(blue-9.7657d1d567e07f97.png)}to{background-image:url(blue-1.971f849feb826841.png)}}@keyframes _ngcontent-%COMP%_red{0%{background-image:url(red-1.ab311a0bf6866a74.png)}9.09%{background-image:url(red-2.b680f6274ff09ba5.png)}27.27%{background-image:url(red-3.caa7e9219c993522.png)}36.36%{background-image:url(red-4.104ace21dd190b36.png)}45.45%{background-image:url(red-5.c9f4d17221470256.png)}54.54%{background-image:url(red-6.5e9304efe6654cd0.png)}63.63%{background-image:url(red-7.c1423458a4a77193.png)}72.72%{background-image:url(red-8.18e91cd8d0fa70e8.png)}81.81%{background-image:url(red-9.7af2632c611bc092.png)}to{background-image:url(red-1.ab311a0bf6866a74.png)}}@keyframes _ngcontent-%COMP%_opacityBlue{0%{opacity:0}25%{opacity:.5}75%{opacity:1}to{opacity:1}}@keyframes _ngcontent-%COMP%_opacityRed{0%{opacity:1}25%{opacity:1}75%{opacity:.3}to{opacity:.3}}']}),n})();function aU(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){aU(s,r,i,o,a,"next",c)}function a(c){aU(s,r,i,o,a,"throw",c)}o(void 0)})}}const wy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},q=function(n,e){if(!n)throw Za(e)},Za=function(n){return new Error("Firebase Database ("+wy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)},cU=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},M9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let d=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(d=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[d],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==f)throw new vCe;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vCe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lU=function(n){const e=cU(n);return M9.encodeByteArray(e,!0)},w9=function(n){return lU(n).replace(/\./g,"")},S9=function(n){try{return M9.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _Ce(n){return uU(void 0,n)}function uU(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!yCe(t)||(n[t]=uU(n[t],e[t]));return n}function yCe(n){return"__proto__"!==n}const z9=()=>{try{return function CCe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&S9(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},fU=n=>{var e,t;return null===(t=null===(e=z9())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},E9=n=>{const e=fU(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},SCe=()=>{var n;return null===(n=z9())||void 0===n?void 0:n.config},dU=n=>{var e;return null===(e=z9())||void 0===e?void 0:e[`_${n}`]};class Xa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Sy(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[w9(JSON.stringify({alg:"none",type:"JWT"})),w9(JSON.stringify(o)),""].join(".")}function s2(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function zy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s2())}function Ey(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function pU(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function i3(){return!0===wy.NODE_CLIENT||!0===wy.NODE_ADMIN}function r4(){try{return"object"==typeof indexedDB}catch{return!1}}function Ja(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function T9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}}class kr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function TCe(n,e){return n.replace(NCe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Bn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const NCe=/\{\$([^}]+)}/g;function s8(n){return JSON.parse(n)}function S2(n){return JSON.stringify(n)}const N9=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=s8(S9(s[0])||""),t=s8(S9(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function s3(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ec(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Ty(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function D9(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function o8(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(mU(s)&&mU(o)){if(!o8(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function mU(n){return null!==n&&"object"==typeof n}function a8(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class HCe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let f=0;f<16;f++)r[f]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let f=0;f<16;f++)r[f]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=4294967295&(d<<1|d>>>31)}let l,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let f=0;f<80;f++){f<40?f<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):f<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);const d=(i<<5|i>>>27)+l+c+u+r[f]&4294967295;c=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class xCe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function ACe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Ny),void 0===i.error&&(i.error=Ny),void 0===i.complete&&(i.complete=Ny);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ny(){}const H9=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e},kCe=1e3,RCe=2,OCe=144e5,PCe=.5;function Dy(n,e=kCe,t=RCe){const r=e*Math.pow(t,n),i=Math.round(PCe*r*(Math.random()-.5)*2);return Math.min(OCe,r+i)}function l1(n){return n&&n._delegate?n._delegate:n}class Pt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ts="[DEFAULT]";class BCe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Xa;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function $Ce(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ts?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class GCe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BCe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Vy=[];var Qe=(()=>{return(n=Qe||(Qe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Qe;var n})();const gU={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},jCe=Qe.INFO,WCe={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},qCe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=WCe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class i4{constructor(e){this.name=e,this._logLevel=jCe,this._logHandler=qCe,this._userLogHandler=null,Vy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?gU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const KCe=(n,e)=>e.some(t=>n instanceof t);let vU,_U;const yU=new WeakMap,Hy=new WeakMap,CU=new WeakMap,Iy=new WeakMap,xy=new WeakMap;let Ay={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Hy.get(n);if("objectStoreNames"===e)return n.objectStoreNames||CU.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return o3(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function tbe(n){return"function"==typeof n?function ebe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function QCe(){return _U||(_U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ly(this),e),o3(yU.get(this))}:function(...e){return o3(n.apply(Ly(this),e))}:function(e,...t){const r=n.call(Ly(this),e,...t);return CU.set(r,e.sort?e.sort():[e]),o3(r)}}(n):(n instanceof IDBTransaction&&function XCe(n){if(Hy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Hy.set(n,e)}(n),KCe(n,function YCe(){return vU||(vU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ay):n)}function o3(n){if(n instanceof IDBRequest)return function ZCe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(o3(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&yU.set(t,n)}).catch(()=>{}),xy.set(e,n),e}(n);if(Iy.has(n))return Iy.get(n);const e=tbe(n);return e!==n&&(Iy.set(n,e),xy.set(e,n)),e}const Ly=n=>xy.get(n);function I9(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=o3(o);return r&&o.addEventListener("upgradeneeded",c=>{r(o3(o.result),c.oldVersion,c.newVersion,o3(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function ky(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),o3(t).then(()=>{})}const nbe=["get","getKey","getAll","getAllKeys","count"],rbe=["put","add","delete","clear"],Ry=new Map;function bU(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ry.get(e))return Ry.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=rbe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!nbe.includes(t))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Ry.set(e,s),s}!function JCe(n){Ay=n(Ay)}(n=>({...n,get:(e,t,r)=>bU(e,t)||n.get(e,t,r),has:(e,t)=>!!bU(e,t)||n.has(e,t)}));class ibe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function sbe(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Oy="@firebase/app",Ns=new i4("@firebase/app"),x9="[DEFAULT]",Hbe={[Oy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ds=new Map,A9=new Map;function Ibe(n,e){try{n.container.addComponent(e)}catch(t){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zt(n){const e=n.name;if(A9.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;A9.set(e,n);for(const t of Ds.values())Ibe(t,n);return!0}function yn(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const a3=new kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Abe{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw a3.create("app-deleted",{appName:this._name})}}const c3="9.21.0";function wU(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:x9,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw a3.create("bad-app-name",{appName:String(i)});if(t||(t=SCe()),!t)throw a3.create("no-options");const s=Ds.get(i);if(s){if(o8(t,s.options)&&o8(r,s.config))return s;throw a3.create("duplicate-app",{appName:i})}const o=new GCe(i);for(const c of A9.values())o.addComponent(c);const a=new Abe(t,r,o);return Ds.set(i,a),a}function ui(n=x9){const e=Ds.get(n);if(!e&&n===x9)return wU();if(!e)throw a3.create("no-app",{appName:n});return e}function SU(){return Array.from(Ds.values())}function Ge(n,e,t){var r;let i=null!==(r=Hbe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ns.warn(a.join(" "))}Zt(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Lbe="firebase-heartbeat-database",kbe=1,c8="firebase-heartbeat-store";let Fy=null;function zU(){return Fy||(Fy=I9(Lbe,kbe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(c8)}}).catch(n=>{throw a3.create("idb-open",{originalErrorMessage:n.message})})),Fy}function By(){return(By=v(function*(n){try{return(yield zU()).transaction(c8).objectStore(c8).get(TU(n))}catch(e){if(e instanceof Bn)Ns.warn(e.message);else{const t=a3.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(t.message)}}})).apply(this,arguments)}function EU(n,e){return Uy.apply(this,arguments)}function Uy(){return(Uy=v(function*(n,e){try{const r=(yield zU()).transaction(c8,"readwrite");return yield r.objectStore(c8).put(e,TU(n)),r.done}catch(t){if(t instanceof Bn)Ns.warn(t.message);else{const r=a3.create("idb-set",{originalErrorMessage:t?.message});Ns.warn(r.message)}}})).apply(this,arguments)}function TU(n){return`${n.name}!${n.options.appId}`}class Fbe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ube(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=NU(),{heartbeatsToSend:r,unsentEntries:i}=function Bbe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),DU(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),DU(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=w9(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function NU(){return(new Date).toISOString().substring(0,10)}class Ube{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!r4()&&Ja().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Rbe(n){return By.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return EU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return EU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function DU(n){return w9(JSON.stringify({version:2,heartbeats:n})).length}!function $be(n){Zt(new Pt("platform-logger",e=>new ibe(e),"PRIVATE")),Zt(new Pt("heartbeat",e=>new Fbe(e),"PRIVATE")),Ge(Oy,"0.9.9",n),Ge(Oy,"0.9.9","esm2017"),Ge("fire-js","")}(""),Ge("firebase","9.21.0","app");const VU="@firebase/installations",$y="0.6.4",HU=1e4,IU=`w:${$y}`,xU="FIS_v2",Wbe="https://firebaseinstallations.googleapis.com/v1",qbe=36e5,l3=new kr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function AU(n){return n instanceof Bn&&n.code.includes("request-failed")}function Gy({projectId:n}){return`${Wbe}/projects/${n}/installations`}function LU(n){return{token:n.token,requestStatus:2,expiresIn:Zbe(n.expiresIn),creationTime:Date.now()}}function jy(n,e){return Wy.apply(this,arguments)}function Wy(){return(Wy=v(function*(n,e){const r=(yield e.json()).error;return l3.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function kU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function qy(n){return Ky.apply(this,arguments)}function Ky(){return(Ky=v(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Zbe(n){return Number(n.replace("s","000"))}function Yy(){return(Yy=v(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Gy(n),i=kU(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:xU,appId:n.appId,sdkVersion:IU})},c=yield qy(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:LU(l.authToken)}}throw yield jy("Create Installation",c)})).apply(this,arguments)}function OU(n){return new Promise(e=>{setTimeout(e,n)})}const tMe=/^[cdef][\w-]{21}$/,Qy="";function nMe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function rMe(n){return function eMe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return tMe.test(t)?t:Qy}catch{return Qy}}function tc(n){return`${n.appName}!${n.appId}`}const nc=new Map;function PU(n,e){const t=tc(n);FU(t,e),function oMe(n,e){const t=function BU(){return!Vs&&"BroadcastChannel"in self&&(Vs=new BroadcastChannel("[Firebase] FID Change"),Vs.onmessage=n=>{FU(n.data.key,n.data.fid)}),Vs}();t&&t.postMessage({key:n,fid:e}),function UU(){0===nc.size&&Vs&&(Vs.close(),Vs=null)}()}(t,e)}function FU(n,e){const t=nc.get(n);if(t)for(const r of t)r(e)}let Vs=null;const aMe="firebase-installations-database",cMe=1,Hs="firebase-installations-store";let Zy=null;function Xy(){return Zy||(Zy=I9(aMe,cMe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Hs)}})),Zy}function L9(n,e){return Jy.apply(this,arguments)}function Jy(){return(Jy=v(function*(n,e){const t=tc(n),i=(yield Xy()).transaction(Hs,"readwrite"),s=i.objectStore(Hs),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&PU(n,e.fid),e})).apply(this,arguments)}function eC(n){return tC.apply(this,arguments)}function tC(){return(tC=v(function*(n){const e=tc(n),r=(yield Xy()).transaction(Hs,"readwrite");yield r.objectStore(Hs).delete(e),yield r.done})).apply(this,arguments)}function l8(n,e){return nC.apply(this,arguments)}function nC(){return(nC=v(function*(n,e){const t=tc(n),i=(yield Xy()).transaction(Hs,"readwrite"),s=i.objectStore(Hs),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&PU(n,a.fid),a})).apply(this,arguments)}function rC(n){return iC.apply(this,arguments)}function iC(){return iC=v(function*(n){let e;const t=yield l8(n.appConfig,r=>{const i=function lMe(n){return GU(n||{fid:nMe(),registrationStatus:0})}(r),s=function uMe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(l3.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function fMe(n,e){return sC.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dMe(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Qy?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),iC.apply(this,arguments)}function sC(){return sC=v(function*(n,e){try{const t=yield function Jbe(n,e){return Yy.apply(this,arguments)}(n,e);return L9(n.appConfig,t)}catch(t){throw AU(t)&&409===t.customData.serverCode?yield eC(n.appConfig):yield L9(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),sC.apply(this,arguments)}function dMe(n){return oC.apply(this,arguments)}function oC(){return(oC=v(function*(n){let e=yield $U(n.appConfig);for(;1===e.registrationStatus;)yield OU(100),e=yield $U(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield rC(n);return r||t}return e})).apply(this,arguments)}function $U(n){return l8(n,e=>{if(!e)throw l3.create("installation-not-found");return GU(e)})}function GU(n){return function hMe(n){return 1===n.registrationStatus&&n.registrationTime+HU<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function aC(){return(aC=v(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function mMe(n,{fid:e}){return`${Gy(n)}/${e}/authTokens:generate`}(n,t),i=function RU(n,{refreshToken:e}){const t=kU(n);return t.append("Authorization",function Xbe(n){return`${xU} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:IU,appId:n.appId}})},c=yield qy(()=>fetch(r,a));if(c.ok)return LU(yield c.json());throw yield jy("Generate Auth Token",c)})).apply(this,arguments)}function cC(n){return lC.apply(this,arguments)}function lC(){return lC=v(function*(n,e=!1){let t;const r=yield l8(n.appConfig,s=>{if(!WU(s))throw l3.create("not-registered");const o=s.authToken;if(!e&&function _Me(n){return 2===n.requestStatus&&!function yMe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+qbe}(n)}(o))return s;if(1===o.requestStatus)return t=function gMe(n,e){return uC.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw l3.create("app-offline");const a=function CMe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function vMe(n,e){return fC.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),lC.apply(this,arguments)}function uC(){return(uC=v(function*(n,e){let t=yield jU(n.appConfig);for(;1===t.authToken.requestStatus;)yield OU(100),t=yield jU(n.appConfig);const r=t.authToken;return 0===r.requestStatus?cC(n,e):r})).apply(this,arguments)}function jU(n){return l8(n,e=>{if(!WU(e))throw l3.create("not-registered");return function bMe(n){return 1===n.requestStatus&&n.requestTime+HU<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function fC(){return fC=v(function*(n,e){try{const t=yield function pMe(n,e){return aC.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield L9(n.appConfig,r),t}catch(t){if(!AU(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield L9(n.appConfig,r)}else yield eC(n.appConfig);throw t}}),fC.apply(this,arguments)}function WU(n){return void 0!==n&&2===n.registrationStatus}function dC(){return(dC=v(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield rC(e);return r?r.catch(console.error):cC(e).catch(console.error),t.fid})).apply(this,arguments)}function hC(){return hC=v(function*(n,e=!1){const t=n;return yield function SMe(n){return pC.apply(this,arguments)}(t),(yield cC(t,e)).token}),hC.apply(this,arguments)}function pC(){return(pC=v(function*(n){const{registrationPromise:e}=yield rC(n);e&&(yield e)})).apply(this,arguments)}function vC(n){return l3.create("missing-app-config-values",{valueName:n})}const qU="installations",DMe=n=>{const e=n.getProvider("app").getImmediate(),t=function TMe(n){if(!n||!n.options)throw vC("App Configuration");if(!n.name)throw vC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw vC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:yn(e,"heartbeat"),_delete:()=>Promise.resolve()}},VMe=n=>{const t=yn(n.getProvider("app").getImmediate(),qU).getImmediate();return{getId:()=>function MMe(n){return dC.apply(this,arguments)}(t),getToken:i=>function wMe(n){return hC.apply(this,arguments)}(t,i)}};(function HMe(){Zt(new Pt(qU,DMe,"PUBLIC")),Zt(new Pt("installations-internal",VMe,"PRIVATE"))})(),Ge(VU,$y),Ge(VU,$y,"esm2017");const _C="@firebase/remote-config",YU="remote-config",Cn=new kr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function OMe(n=ui()){return yn(n=l1(n),YU).getImmediate()}class $Me{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function GMe(n=navigator){return n.languages&&n.languages[0]||n.language}class jMe{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:GMe()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),f=new Promise((_,b)=>{e.signal.addEventListener(()=>{const y=new Error("The operation was aborted.");y.name="AbortError",b(y)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(_){let b="fetch-client-network";throw"AbortError"===_?.name&&(b="fetch-timeout"),Cn.create(b,{originalErrorMessage:_?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let m,g;if(200===d.status){let _;try{_=yield d.json()}catch(b){throw Cn.create("fetch-client-parse",{originalErrorMessage:b?.message})}m=_.entries,g=_.state}if("INSTANCE_STATE_UNSPECIFIED"===g?h=500:"NO_CHANGE"===g?h=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==h&&200!==h)throw Cn.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:m}})()}}class KMe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return v(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return v(function*(){yield function WMe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function qMe(n){if(!(n instanceof Bn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Dy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class ZMe{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function R9(n,e){const t=n.target.error||void 0;return Cn.create(e,{originalErrorMessage:t&&t?.message})}const Is="app_namespace_store";class twe{constructor(e,t,r,i=function ewe(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(R9(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Is,{keyPath:"compositeKey"})}}catch(t){e(Cn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Is],"readonly").objectStore(Is),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(R9(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(Cn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([Is],"readwrite").objectStore(Is),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=f=>{o(R9(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Cn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Is],"readwrite").objectStore(Is),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(R9(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Cn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class nwe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function iwe(){return wC.apply(this,arguments)}function wC(){return(wC=v(function*(){if(!r4())return!1;try{return yield Ja()}catch{return!1}})).apply(this,arguments)}!function rwe(){Zt(new Pt(YU,function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cn.create("registration-window");if(!r4())throw Cn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Cn.create("registration-project-id");if(!o)throw Cn.create("registration-api-key");if(!a)throw Cn.create("registration-app-id");const c=new twe(a,r.name,t=t||"firebase"),l=new nwe(c),u=new i4(_C);u.logLevel=Qe.ERROR;const f=new jMe(i,c3,t,s,o,a),d=new KMe(f,c),h=new $Me(d,c,l,u),p=new ZMe(r,h,l,c,u);return function FMe(n){const e=l1(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ge(_C,"0.4.4"),Ge(_C,"0.4.4","esm2017")}();const swe="/firebase-messaging-sw.js",owe="/firebase-cloud-messaging-push-scope",ZU="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",awe="https://fcmregistrations.googleapis.com/v1",XU="google.c.a.c_id",cwe="google.c.a.c_l",lwe="google.c.a.ts",uwe="google.c.a.e";var rc=(()=>{return(n=rc||(rc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",rc;var n})();function u3(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fwe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const SC="fcm_token_details_db",dwe=5,JU="fcm_token_object_Store";function zC(){return zC=v(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(SC))return null;let e=null;return(yield I9(SC,dwe,{upgrade:(r=v(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(JU))return;const l=a.objectStore(JU),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(c=f.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:u3(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:u3(f.auth),p256dh:u3(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:u3(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:u3(f.auth),p256dh:u3(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:u3(f.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield ky(SC),yield ky("fcm_vapid_details_db"),yield ky("undefined"),function pwe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),zC.apply(this,arguments)}const mwe="firebase-messaging-database",gwe=1,xs="firebase-messaging-store";let EC=null;function TC(){return EC||(EC=I9(mwe,gwe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(xs)}})),EC}function e$(n){return NC.apply(this,arguments)}function NC(){return NC=v(function*(n){const e=IC(n),r=yield(yield TC()).transaction(xs).objectStore(xs).get(e);if(r)return r;{const i=yield function hwe(n){return zC.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield DC(n,i),i}}),NC.apply(this,arguments)}function DC(n,e){return VC.apply(this,arguments)}function VC(){return(VC=v(function*(n,e){const t=IC(n),i=(yield TC()).transaction(xs,"readwrite");return yield i.objectStore(xs).put(e,t),yield i.done,e})).apply(this,arguments)}function HC(){return(HC=v(function*(n){const e=IC(n),r=(yield TC()).transaction(xs,"readwrite");yield r.objectStore(xs).delete(e),yield r.done})).apply(this,arguments)}function IC({appConfig:n}){return n.appId}const z2=new kr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ywe(n,e){return xC.apply(this,arguments)}function xC(){return(xC=v(function*(n,e){const t=yield RC(n),r=n$(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(kC(n.appConfig),i)).json()}catch(o){throw z2.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw z2.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw z2.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function AC(){return(AC=v(function*(n,e){const t=yield RC(n),r=n$(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${kC(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw z2.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw z2.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw z2.create("token-update-no-token");return s.token})).apply(this,arguments)}function t$(n,e){return LC.apply(this,arguments)}function LC(){return(LC=v(function*(n,e){const r={method:"DELETE",headers:yield RC(n)};try{const s=yield(yield fetch(`${kC(n.appConfig)}/${e}`,r)).json();if(s.error)throw z2.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw z2.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function kC({projectId:n}){return`${awe}/projects/${n}/registrations`}function RC(n){return OC.apply(this,arguments)}function OC(){return(OC=v(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function n$({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==ZU&&(i.web.applicationPubKey=r),i}const bwe=6048e5;function PC(){return PC=v(function*(n){const e=yield function Swe(n,e){return $C.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:u3(e.getKey("auth")),p256dh:u3(e.getKey("p256dh"))},r=yield e$(n.firebaseDependencies);if(r){if(function zwe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+bwe?function wwe(n,e){return BC.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield t$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return i$(n.firebaseDependencies,t)}return i$(n.firebaseDependencies,t)}),PC.apply(this,arguments)}function FC(){return FC=v(function*(n){const e=yield e$(n.firebaseDependencies);e&&(yield t$(n.firebaseDependencies,e.token),yield function vwe(n){return HC.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),FC.apply(this,arguments)}function BC(){return BC=v(function*(n,e){try{const t=yield function Cwe(n,e){return AC.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield DC(n.firebaseDependencies,r),t}catch(t){throw yield function r$(n){return FC.apply(this,arguments)}(n),t}}),BC.apply(this,arguments)}function i$(n,e){return UC.apply(this,arguments)}function UC(){return(UC=v(function*(n,e){const r={token:yield ywe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield DC(n,r),r.token})).apply(this,arguments)}function $C(){return($C=v(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fwe(e)})})).apply(this,arguments)}function s$(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Ewe(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Twe(n,e){e.data&&(n.data=e.data)}(e,n),function Nwe(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function o$(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function GC(n){return z2.create("missing-app-config-values",{valueName:n})}o$("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),o$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hwe{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Vwe(n){if(!n||!n.options)throw GC("App Configuration Object");if(!n.name)throw GC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw GC(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function a$(n){return jC.apply(this,arguments)}function jC(){return(jC=v(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(swe,{scope:owe}),n.swRegistration.update().catch(()=>{})}catch(e){throw z2.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function WC(){return(WC=v(function*(n,e){if(!e&&!n.swRegistration&&(yield a$(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw z2.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function qC(){return(qC=v(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=ZU)})).apply(this,arguments)}function KC(){return KC=v(function*(n,e){if(!navigator)throw z2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw z2.create("permission-blocked");return yield function xwe(n,e){return qC.apply(this,arguments)}(n,e?.vapidKey),yield function Iwe(n,e){return WC.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Mwe(n){return PC.apply(this,arguments)}(n)}),KC.apply(this,arguments)}function YC(){return(YC=v(function*(n,e,t){const r=function Lwe(n){switch(n){case rc.NOTIFICATION_CLICKED:return"notification_open";case rc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[XU],message_name:t[cwe],message_time:t[lwe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function QC(){return QC=v(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===rc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(s$(t)):n.onMessageHandler.next(s$(t)));const r=t.data;(function Dwe(n){return"object"==typeof n&&!!n&&XU in n})(r)&&"1"===r[uwe]&&(yield function Awe(n,e,t){return YC.apply(this,arguments)}(n,t.messageType,r))}),QC.apply(this,arguments)}const l$="@firebase/messaging",Rwe=n=>{const e=new Hwe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function kwe(n,e){return QC.apply(this,arguments)}(e,t)),e},Owe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function c$(n,e){return KC.apply(this,arguments)}(e,r)}};function f$(){return ZC.apply(this,arguments)}function ZC(){return(ZC=v(function*(){try{yield Ja()}catch{return!1}return typeof window<"u"&&r4()&&T9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Uwe(n=ui()){return f$().then(e=>{if(!e)throw z2.create("unsupported-browser")},e=>{throw z2.create("indexed-db-unsupported")}),yn(l1(n),"messaging").getImmediate()}!function Pwe(){Zt(new Pt("messaging",Rwe,"PUBLIC")),Zt(new Pt("messaging-internal",Owe,"PRIVATE")),Ge(l$,"0.12.4"),Ge(l$,"0.12.4","esm2017")}();const O9="analytics",$we="firebase_id",Gwe="origin",jwe=6e4,Wwe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",eb="https://www.googletagmanager.com/gtag/js",o2=new i4("@firebase/analytics"),en=new kr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Kwe(n){if(!n.startsWith(eb)){const e=en.create("invalid-gtag-resource",{gtagURL:n});return o2.warn(e.message),""}return n}function d$(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function tb(){return(tb=v(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield d$(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){o2.error(a)}n("config",i,s)})).apply(this,arguments)}function nb(){return(nb=v(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield d$(t);for(const c of o){const l=a.find(f=>f.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){o2.error(s)}})).apply(this,arguments)}const rSe=30,h$=new class sSe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function oSe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function rb(){return(rb=v(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:oSe(r)},s=Wwe.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw en.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function ib(){return(ib=v(function*(n,e=h$,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw en.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw en.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fSe;return setTimeout(v(function*(){a.abort()}),void 0!==t?t:jwe),p$({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function p$(n,e,t){return sb.apply(this,arguments)}function sb(){return sb=v(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=h$){var s;const{appId:o,measurementId:a}=n;try{yield function lSe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(en.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return o2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function aSe(n){return rb.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function uSe(n){if(!(n instanceof Bn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return o2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?Dy(t,i.intervalMillis,rSe):Dy(t,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,f),o2.debug(`Calling attemptFetch again in ${u} millis`),p$(n,f,r,i)}}),sb.apply(this,arguments)}class fSe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ob,hb;function ab(){return(ab=v(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function lb(){return(lb=v(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function pb(){return(pb=v(function*(){if(!r4())return o2.warn(en.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ja()}catch(n){return o2.warn(en.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function mb(){return mb=v(function*(n,e,t,r,i,s,o){var a;const c=function cSe(n){return ib.apply(this,arguments)}(n);c.then(h=>{t[h.measurementId]=h.appId,n.options.measurementId&&h.measurementId!==n.options.measurementId&&o2.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>o2.error(h)),e.push(c);const l=function _Se(){return pb.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([c,l]);(function nSe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(eb)&&t.src.includes(n))return t;return null})(s)||function Qwe(n,e){const t=function Ywe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Kwe}),r=document.createElement("script"),i=`${eb}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),hb&&(i("consent","default",hb),function m$(n){hb=n}(void 0)),i("js",new Date);const d=null!==(a=o?.config)&&void 0!==a?a:{};return d[Gwe]="firebase",d.update=!0,null!=f&&(d[$we]=f),i("config",u.measurementId,d),ob&&(i("set",ob),function g$(n){ob=n}(void 0)),u.measurementId}),mb.apply(this,arguments)}class CSe{constructor(e){this.app=e}_delete(){return delete fi[this.app.options.appId],Promise.resolve()}}let fi={},v$=[];const _$={};let C$,di,P9="dataLayer",y$="gtag",gb=!1;function MSe(n,e,t){!function bSe(){const n=[];if(Ey()&&n.push("This is a browser extension environment."),T9()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=en.create("invalid-analytics-context",{errorInfo:e});o2.warn(t.message)}}();const r=n.options.appId;if(!r)throw en.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw en.create("no-api-key");o2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fi[r])throw en.create("already-exists",{id:r});if(!gb){!function Zwe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(P9);const{wrappedGtag:s,gtagCore:o}=function tSe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function eSe(n,e,t,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function Jwe(n,e,t,r,i){return nb.apply(this,arguments)}(n,e,t,c,l)}else if("config"===o){const[c,l]=a;yield function Xwe(n,e,t,r,i,s){return tb.apply(this,arguments)}(n,e,t,r,c,l)}else if("consent"===o){const[c]=a;n("consent","update",c)}else if("get"===o){const[c,l,u]=a;n("get",c,l,u)}else if("set"===o){const[c]=a;n("set",c)}else n(o,...a)}catch(c){o2.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(fi,v$,_$,P9,y$);di=s,C$=o,gb=!0}return fi[r]=function ySe(n,e,t,r,i,s,o){return mb.apply(this,arguments)}(n,v$,_$,e,C$,P9,t),new CSe(n)}function wSe(n=ui()){const e=yn(n=l1(n),O9);return e.isInitialized()?e.getImmediate():function SSe(n,e={}){const t=yn(n,O9);if(t.isInitialized()){const i=t.getImmediate();if(o8(e,t.getOptions()))return i;throw en.create("already-initialized")}return t.initialize({options:e})}(n)}function zSe(){return vb.apply(this,arguments)}function vb(){return(vb=v(function*(){if(Ey()||!T9()||!r4())return!1;try{return yield Ja()}catch{return!1}})).apply(this,arguments)}function ESe(n,e,t){n=l1(n),function pSe(n,e,t,r){return lb.apply(this,arguments)}(di,fi[n.app.options.appId],e,t).catch(r=>o2.error(r))}function b$(n,e,t,r){n=l1(n),function dSe(n,e,t,r,i){return ab.apply(this,arguments)}(di,fi[n.app.options.appId],e,t,r).catch(i=>o2.error(i))}const M$="@firebase/analytics";!function TSe(){Zt(new Pt(O9,(e,{options:t})=>MSe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Zt(new Pt("analytics-internal",function n(e){try{const t=e.getProvider(O9).getImmediate();return{logEvent:(r,i,s)=>b$(t,r,i,s)}}catch(t){throw en.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ge(M$,"0.10.0"),Ge(M$,"0.10.0","esm2017")}();const VSe=new class DSe extends wF{}(class NSe extends MF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Un=new ia("7.5.0"),yb="__angularfire_symbol__analyticsIsSupportedValue",Cb="__angularfire_symbol__analyticsIsSupported",bb="__angularfire_symbol__remoteConfigIsSupportedValue",Mb="__angularfire_symbol__remoteConfigIsSupported",wb="__angularfire_symbol__messagingIsSupportedValue",Sb="__angularfire_symbol__messagingIsSupported";globalThis[Cb]||(globalThis[Cb]=zSe().then(n=>globalThis[yb]=n).catch(()=>globalThis[yb]=!1)),globalThis[Sb]||(globalThis[Sb]=f$().then(n=>globalThis[wb]=n).catch(()=>globalThis[wb]=!1)),globalThis[Mb]||(globalThis[Mb]=iwe().then(n=>globalThis[bb]=n).catch(()=>globalThis[bb]=!1));const zb=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,F9={async:()=>globalThis[Sb],sync:()=>{const n=globalThis[wb];if(void 0===n)throw new Error(zb("Messaging"));return n}},B9={async:()=>globalThis[Mb],sync:()=>{const n=globalThis[bb];if(void 0===n)throw new Error(zb("RemoteConfig"));return n}},U9={async:()=>globalThis[Cb],sync:()=>{const n=globalThis[yb];if(void 0===n)throw new Error(zb("Analytics"));return n}};function hi(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const pi=(n,e)=>{const t=e?[e]:SU(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ic(){}class S${constructor(e,t=VSe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class HSe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ic,{},ic,ic)),t.pipe(Kt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mi=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new S$(Zone.current)),this.insideAngular=t.run(()=>new S$(Zone.current,q_)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(O(Ce))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function As(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ls(n){return As().ngZone.run(()=>n())}function xSe(n){return As(),function ASe(n){return function(t){return(t=t.lift(new HSe(n.ngZone))).pipe(jl(n.outsideAngular),Gl(n.insideAngular))}}(As())(n)}const LSe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ls(()=>n.apply(void 0,r))},W1=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Ls(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ic,{},ic,ic)))),r[s]=LSe(r[s],t));const i=function ISe(n){return As().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Je){const s=As();return i.pipe(jl(s.outsideAngular),Gl(s.insideAngular))}return Ls(()=>i)}return i instanceof Je?i.pipe(xSe):i instanceof Promise?Ls(()=>new Promise((s,o)=>i.then(a=>Ls(()=>s(a)),a=>Ls(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ls(()=>i)};class $n{constructor(e){return e}}class gi{constructor(){return SU()}}const Eb=new ne("angularfire2._apps"),RSe={provide:$n,useFactory:function kSe(n){return n&&1===n.length?n[0]:new $n(ui())},deps:[[new Ze,Eb]]},OSe={provide:gi,deps:[[new Ze,Eb]]};function PSe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $n(r)}}let FSe=(()=>{class n{constructor(t){Ge("angularfire",Un.full,"core"),Ge("angularfire",Un.full,"app"),Ge("angular",Tx.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(O(as))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[RSe,OSe]}),n})();function BSe(n,...e){return{ngModule:FSe,providers:[{provide:Eb,useFactory:PSe(n),multi:!0,deps:[Ce,T1,mi,...e]}]}}const USe=W1(wU,!0),Tb=new Map,z$={activated:!1,tokenObservers:[]},$Se={initialized:!1,enabled:!1};function _t(n){return Tb.get(n)||Object.assign({},z$)}function $9(){return $Se}const Nb="https://content-firebaseappcheck.googleapis.com/v1",qSe="exchangeDebugToken",E$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class YSe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return v(function*(){t.stop();try{t.pending=new Xa,yield function QSe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xa,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const E2=new kr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function W9(n,e){return Hb.apply(this,arguments)}function Hb(){return(Hb=v(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(f){throw E2.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==o.status)throw E2.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(f){throw E2.create("fetch-parse-error",{originalErrorMessage:f?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw E2.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}const eze="firebase-app-check-database",tze=1,u8="firebase-app-check-store";let q9=null;function V$(n,e){return Ib.apply(this,arguments)}function Ib(){return(Ib=v(function*(n,e){const r=(yield function D$(){return q9||(q9=new Promise((n,e)=>{try{const t=indexedDB.open(eze,tze);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(E2.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(u8,{keyPath:"compositeKey"})}}catch(t){e(E2.create("storage-open",{originalErrorMessage:t?.message}))}}),q9)}()).transaction(u8,"readwrite"),s=r.objectStore(u8).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(E2.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const f8=new i4("@firebase/app-check");function Lb(n,e){return r4()?function rze(n,e){return V$(function I$(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{f8.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ob(){return Pb.apply(this,arguments)}function Pb(){return(Pb=v(function*(){const n=$9();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const lze={error:"UNKNOWN_ERROR"};function uze(n){return M9.encodeString(JSON.stringify(n),!1)}function K9(n){return Fb.apply(this,arguments)}function Fb(){return(Fb=v(function*(n,e=!1){const t=n.app;!function Db(n){if(!_t(n).activated)throw E2.create("use-before-activation",{appName:n.name})}(t);const r=_t(t);let s,i=r.token;if(i&&!sc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(sc(c)?i=c:yield Lb(t,void 0))}if(!e&&i&&sc(i))return{token:i.token};let a,o=!1;if(function Rb(){return $9().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=W9(function T$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Nb}/projects/${t}/apps/${r}:${qSe}?key=${i}`,body:{debug_token:e}}}(t,yield Ob()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield Lb(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield _t(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?f8.warn(c.message):f8.error(c),s=c}return i?s?a=sc(i)?{token:i.token,internalError:s}:L$(s):(a={token:i.token},r.token=i,yield Lb(t,i)):a=L$(s),o&&function A$(n,e){const t=_t(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function $b(n,e){const t=_t(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function x$(n){const{app:e}=n,t=_t(e);let r=t.tokenRefresher;r||(r=function dze(n){const{app:e}=n;return new YSe(v(function*(){let r;if(r=_t(e).token?yield K9(n,!0):yield K9(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=_t(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},E$.RETRIAL_MIN_WAIT,E$.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function sc(n){return n.expireTimeMillis-Date.now()>0}function L$(n){return{token:uze(lze),error:n}}class hze{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_t(this.app);for(const t of e)$b(this.app,t.next);return Promise.resolve()}}const $$="app-check-internal";!function Tze(){Zt(new Pt("app-check",n=>function pze(n,e){return new hze(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($$).initialize()})),Zt(new Pt($$,n=>function mze(n){return{getToken:e=>K9(n,e),addTokenListener:e=>function Ub(n,e,t,r){const{app:i}=n,s=_t(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&sc(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),x$(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>x$(n))}(n,"INTERNAL",e),removeTokenListener:e=>$b(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ge("@firebase/app-check","0.7.0")}();class oc{constructor(){return pi("app-check")}}typeof window<"u"&&window;const Ize=function j$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},W$=new kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Q9=new i4("@firebase/auth");function Z9(n,...e){Q9.logLevel<=Qe.ERROR&&Q9.error(`Auth (${c3}): ${n}`,...e)}function bn(n,...e){throw Kb(n,...e)}function vi(n,...e){return Kb(n,...e)}function Kb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return W$.create(n,...e)}function j(n,e,...t){if(!n)throw Kb(e,...t)}function _i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Z9(e),new Error(e)}function s4(n,e){n||_i(e)}function d8(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function K$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class h8{constructor(e,t){this.shortDelay=e,this.longDelay=t,s4(t>e,"Short delay should be less than long delay!"),this.isMobile=zy()||pU()}get(){return function Aze(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Yb(){return"http:"===K$()||"https:"===K$()}()||Ey()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qb(n,e){s4(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Y${static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rze=new h8(3e4,6e4);function ot(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function yt(n,e,t,r){return Zb.apply(this,arguments)}function Zb(){return(Zb=v(function*(n,e,t,r,i={}){return Q$(n,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=a8(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),Y$.fetch()(Z$(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Q$(n,e,t){return Xb.apply(this,arguments)}function Xb(){return(Xb=v(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kze),e);try{const i=new Oze(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw p8(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw p8(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw p8(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw p8(n,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function q$(n,e,t){const r=Object.assign(Object.assign({},Ize()),{[e]:t});return new kr("auth","Firebase",r).create(e,{appName:n.name})}(n,u,l);bn(n,u)}}catch(i){if(i instanceof Bn)throw i;bn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function f3(n,e,t,r){return Jb.apply(this,arguments)}function Jb(){return(Jb=v(function*(n,e,t,r,i={}){const s=yield yt(n,e,t,r,i);return"mfaPendingCredential"in s&&bn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Z$(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Qb(n.config,i):`${n.config.apiScheme}://${i}`}class Oze{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),Rze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function p8(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=vi(n,e,r);return i.customData._tokenResponse=t,i}function eM(){return(eM=v(function*(n,e){return yt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function nM(){return(nM=v(function*(n,e){return yt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function m8(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rM(){return(rM=v(function*(n,e=!1){const t=l1(n),r=yield t.getIdToken(e),i=X9(r);j(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:m8(iM(i.auth_time)),issuedAtTime:m8(iM(i.iat)),expirationTime:m8(iM(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function iM(n){return 1e3*Number(n)}function X9(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Z9("JWT malformed, contained fewer than 3 sections"),null;try{const i=S9(t);return i?JSON.parse(i):(Z9("Failed to decode base64 JWT payload"),null)}catch(i){return Z9("Caught error parsing JWT payload as JSON",i?.toString()),null}}function d3(n,e){return sM.apply(this,arguments)}function sM(){return(sM=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Bn&&function Gze({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class jze{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class X${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=m8(this.lastLoginAt),this.creationTime=m8(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function g8(n){return oM.apply(this,arguments)}function oM(){return oM=v(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield d3(n,function Bze(n,e){return nM.apply(this,arguments)}(t,{idToken:r}));j(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Kze(n){return n.map(e=>{var{providerId:t}=e,r=Wp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function qze(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new X$(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,f)}),oM.apply(this,arguments)}function aM(){return(aM=v(function*(n){const e=l1(n);yield g8(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function cM(){return(cM=v(function*(n,e){const t=yield Q$(n,{},v(function*(){const r=a8({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Z$(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class v8{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function $ze(n){const e=X9(n);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return v(function*(){return j(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Yze(n,e){return cM.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new v8;return r&&(j("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(j("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(j("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new v8,this.toJSON())}_performRefresh(){return _i("not implemented")}}function o4(n,e){j("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new X$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const r=yield d3(t,t.stsTokenManager.getToken(t.auth,e));return j(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Uze(n){return rM.apply(this,arguments)}(this,e)}reload(){return function Wze(n){return aM.apply(this,arguments)}(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield g8(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const t=yield e.getIdToken();return yield d3(e,function Pze(n,e){return eM.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;const f=null!==(r=t.displayName)&&void 0!==r?r:void 0,d=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:T,isAnonymous:A,providerData:k,stsTokenManager:J}=t;j(y&&J,e,"internal-error");const de=v8.fromJSON(this.name,J);j("string"==typeof y,e,"internal-error"),o4(f,e.name),o4(d,e.name),j("boolean"==typeof T,e,"internal-error"),j("boolean"==typeof A,e,"internal-error"),o4(h,e.name),o4(p,e.name),o4(m,e.name),o4(g,e.name),o4(_,e.name),o4(b,e.name);const Ee=new ks({uid:y,auth:e,email:d,emailVerified:T,displayName:f,isAnonymous:A,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:de,createdAt:_,lastLoginAt:b});return k&&Array.isArray(k)&&(Ee.providerData=k.map(u1=>Object.assign({},u1))),g&&(Ee._redirectEventId=g),Ee}static _fromIdTokenResponse(e,t,r=!1){return v(function*(){const i=new v8;i.updateFromServerResponse(t);const s=new ks({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield g8(s),s})()}}const J$=new Map;function h3(n){s4(n instanceof Function,"Expected a class definition");let e=J$.get(n);return e?(s4(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,J$.set(n,e),e)}const eG=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,r){var i=this;return v(function*(){i.storage[t]=r})()}_get(t){var r=this;return v(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return v(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function J9(n,e,t){return`firebase:${n}:${e}:${t}`}class cc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=J9(this.userKey,i.apiKey,s),this.fullPersistenceKey=J9("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ks._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(function*(){if(!t.length)return new cc(h3(eG),e,r);const i=(yield Promise.all(t.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||h3(eG);const o=J9(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(o);if(u){const f=ks._fromJSON(e,u);l!==s&&(a=f),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new cc(s,e,r)):new cc(s,e,r)})()}}function tG(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oG(e))return"Blackberry";if(aG(e))return"Webos";if(lM(e))return"Safari";if((e.includes("chrome/")||rG(e))&&!e.includes("edge/"))return"Chrome";if(sG(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function nG(n=s2()){return/firefox\//i.test(n)}function lM(n=s2()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rG(n=s2()){return/crios\//i.test(n)}function iG(n=s2()){return/iemobile/i.test(n)}function sG(n=s2()){return/android/i.test(n)}function oG(n=s2()){return/blackberry/i.test(n)}function aG(n=s2()){return/webos/i.test(n)}function ef(n=s2()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cG(n=s2()){return ef(n)||sG(n)||aG(n)||oG(n)||/windows phone/i.test(n)||iG(n)}function lG(n,e=[]){let t;switch(n){case"Browser":t=tG(s2());break;case"Worker":t=`${tG(s2())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${c3}/${r}`}function uG(n,e){return fM.apply(this,arguments)}function fM(){return(fM=v(function*(n,e){return yt(n,"GET","/v2/recaptchaConfig",ot(n,e))})).apply(this,arguments)}function dG(n){return void 0!==n&&void 0!==n.enterprise}class hG{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function dM(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=vi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function eEe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function pG(n){return`__${n}${Math.floor(1e6*Math.random())}`}const rEe="NO_RECAPTCHA";class mG{constructor(e){this.type="recaptcha-enterprise",this.auth=a2(e)}verify(e="verify",t=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){uG(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new hG(f);return null==a.tenantId?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;dG(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c(rEe)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!t&&dG(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));dM("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}class iEe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class sEe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gG(this),this.idTokenSubscription=new gG(this),this.beforeStateQueue=new iEe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=h3(t)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield cc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return j(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield g8(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Lze(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){const r=e?l1(e):null;return r&&j(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return v(function*(){if(!r._deleted)return e&&j(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(v(function*(){yield t.assertedPersistence.setPersistence(h3(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const t=yield uG(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new hG(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new mG(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const r=e&&h3(e)||t._popupRedirectResolver;j(r,t,"argument-error"),t.redirectPersistenceManager=yield cc.create(t,[h3(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var r,i;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function xze(n,...e){Q9.logLevel<=Qe.WARN&&Q9.warn(`Auth (${c3}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function a2(n){return l1(n)}class gG{constructor(e){this.auth=e,this.observer=null,this.addObserver=function ICe(n,e){const t=new xCe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vG(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _G(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class fEe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,t){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}function p3(n,e){return DM.apply(this,arguments)}function DM(){return(DM=v(function*(n,e){return f3(n,"POST","/v1/accounts:signInWithIdp",ot(n,e))})).apply(this,arguments)}class c4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zEe extends c4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(function*(){const s=yield ks._fromIdTokenResponse(e,r,i),o=MG(r);return new pr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=MG(r);return new pr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function MG(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class af extends Bn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new af(e,t,r,i)}}function wG(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?af._fromErrorAndOperation(n,s,e,r):s})}function OM(n,e){return PM.apply(this,arguments)}function PM(){return(PM=v(function*(n,e,t=!1){const r=yield d3(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return pr._forOperation(n,"link",r)})).apply(this,arguments)}function zG(n,e){return BM.apply(this,arguments)}function BM(){return(BM=v(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield d3(n,wG(r,i,e,n),t);j(s.idToken,r,"internal-error");const o=X9(s.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(n.uid===a,r,"user-mismatch"),pr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&bn(r,"user-mismatch"),s}})).apply(this,arguments)}function EG(n,e){return UM.apply(this,arguments)}function UM(){return(UM=v(function*(n,e,t=!1){const r="signIn",i=yield wG(n,r,e),s=yield pr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const lf="__sak";class NG{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YEe=(()=>{class n extends NG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function WEe(){const n=s2();return lM(n)||ef(n)}()&&function Xze(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cG(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Zze(){return function zCe(){const n=s2();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),DG=(()=>{class n extends NG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let ZEe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return v(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var f=v(function*(d){return d(i.origin,a)});return function(d){return f.apply(this,arguments)}}()),u=yield function QEe(n){return Promise.all(n.map(function(){var e=v(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function _w(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class XEe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=_w("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ft(){return window}function yw(){return typeof Ft().WorkerGlobalScope<"u"&&"function"==typeof Ft().importScripts}function Cw(){return(Cw=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const VG="firebaseLocalStorageDb",rTe=1,uf="firebaseLocalStorage",HG="fbase_key";class b8{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ff(n,e){return n.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function bw(){const n=indexedDB.open(VG,rTe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(uf,{keyPath:HG})}catch(i){t(i)}}),n.addEventListener("success",v(function*(){const r=n.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),yield function iTe(){const n=indexedDB.deleteDatabase(VG);return new b8(n).toPromise()}(),e(yield bw()))}))})}function IG(n,e,t){return Mw.apply(this,arguments)}function Mw(){return(Mw=v(function*(n,e,t){const r=ff(n,!0).put({[HG]:e,value:t});return new b8(r).toPromise()})).apply(this,arguments)}function ww(){return(ww=v(function*(n,e){const t=ff(n,!1).get(e),r=yield new b8(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function xG(n,e){const t=ff(n,!0).delete(e);return new b8(t).toPromise()}const cTe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return v(function*(){return t.db||(t.db=yield bw()),t.db})()}_withRetries(t){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return v(function*(){return yw()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return v(function*(){t.receiver=ZEe._getInstance(function nTe(){return yw()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return v(function*(){var r,i;if(t.activeServiceWorker=yield function eTe(){return Cw.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new XEe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function tTe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const t=yield bw();return yield IG(t,lf,"1"),yield xG(t,lf),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return v(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>IG(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return v(function*(){const i=yield r._withRetries(s=>function sTe(n,e){return ww.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>xG(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return v(function*(){const r=yield t._withRetries(o=>{const a=ff(o,!1).getAll();return new b8(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();pG("rcb"),new h8(3e4,6e4);class Iw extends fEe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return p3(e,this._buildIdpRequest())}_linkToIdToken(e,t){return p3(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return p3(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function STe(n){return EG(n.auth,new Iw(n),n.bypassAuthState)}function zTe(n){const{auth:e,user:t}=n;return j(t,e,"internal-error"),zG(t,new Iw(n),n.bypassAuthState)}function ETe(n){return xw.apply(this,arguments)}function xw(){return(xw=v(function*(n){const{auth:e,user:t}=n;return j(t,e,"internal-error"),OM(t,new Iw(n),n.bypassAuthState)})).apply(this,arguments)}class TTe{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return STe;case"linkViaPopup":case"linkViaRedirect":return ETe;case"reauthViaPopup":case"reauthViaRedirect":return zTe;default:bn(this.auth,"internal-error")}}resolve(e){s4(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){s4(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new h8(2e3,1e4);const NTe="pendingRedirect",M8=new Map;class DTe extends TTe{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return v(function*(){let r=M8.get(t.auth._key());if(!r){try{const s=(yield function VTe(n,e){return Ow.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}M8.set(t.auth._key(),r)}return t.bypassAuthState||M8.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function Ow(){return(Ow=v(function*(n,e){const t=function kG(n){return J9(NTe,n.config.apiKey,n.name)}(e),r=function LG(n){return h3(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function HTe(n,e){M8.set(n._key(),e)}function RG(n,e){return jw.apply(this,arguments)}function jw(){return(jw=v(function*(n,e,t=!1){const r=a2(n),i=function Os(n,e){return e?h3(e):(j(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new DTe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class kTe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function RTe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FG(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!FG(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PG(e))}saveEventToCache(e){this.cachedEventUids.add(PG(e)),this.lastProcessedEventTime=Date.now()}}function PG(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FG({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function qw(){return(qw=v(function*(n,e={}){return yt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const PTe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FTe=/^https?/;function Kw(){return Kw=v(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function OTe(n){return qw.apply(this,arguments)}(n);for(const t of e)try{if(UTe(t))return}catch{}bn(n,"unauthorized-domain")}),Kw.apply(this,arguments)}function UTe(n){const e=d8(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!FTe.test(t))return!1;if(PTe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $Te=new h8(3e4,6e4);function BG(){const n=Ft().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let hf=null;const WTe=new h8(5e3,15e3),qTe="__/auth/iframe",KTe="emulator/auth/iframe",YTe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QTe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZTe(n){const e=n.config;j(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qb(e,KTe):`https://${n.config.authDomain}/${qTe}`,r={apiKey:e.apiKey,appName:n.name,v:c3},i=QTe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${a8(r).slice(1)}`}function Yw(){return Yw=v(function*(n){const e=yield function jTe(n){return hf=hf||function GTe(n){return new Promise((e,t)=>{var r,i,s;function o(){BG(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BG(),t(vi(n,"network-request-failed"))},timeout:$Te.get()})}if(null!==(i=null===(r=Ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Ft().gapi)||void 0===s||!s.load){const a=pG("iframefcb");return Ft()[a]=()=>{gapi.load?o():t(vi(n,"network-request-failed"))},dM(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}o()}}).catch(e=>{throw hf=null,e})}(n),hf}(n),t=Ft().gapi;return j(t,n,"internal-error"),e.open({where:document.body,url:ZTe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YTe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=vi(n,"network-request-failed"),c=Ft().setTimeout(()=>{o(a)},WTe.get());function l(){Ft().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Yw.apply(this,arguments)}const JTe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eNe=500,tNe=600,nNe="_blank",rNe="http://localhost";class UG{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oNe="__/auth/handler",aNe="emulator/auth/handler",cNe=encodeURIComponent("fac");function $G(n,e,t,r,i,s){return Qw.apply(this,arguments)}function Qw(){return(Qw=v(function*(n,e,t,r,i,s){j(n.config.authDomain,n,"auth-domain-config-required"),j(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:c3,eventId:i};if(e instanceof c4){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Ty(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof zEe){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${cNe}=${encodeURIComponent(c)}`:"";return`${function lNe({config:n}){return n.emulator?Qb(n,aNe):`https://${n.authDomain}/${oNe}`}(n)}?${a8(a).slice(1)}${l}`})).apply(this,arguments)}const Zw="webStorageSupport",fNe=class uNe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DG,this._completeRedirectFn=RG,this._overrideRedirectResult=HTe}_openPopup(e,t,r,i){var s=this;return v(function*(){var o;s4(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield $G(e,t,r,d8(),i);return function iNe(n,e,t,r=eNe,i=tNe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},JTe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=s2().toLowerCase();t&&(a=rG(l)?nNe:t),nG(l)&&(e=e||rNe,c.scrollbars="yes");const u=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function Qze(n=s2()){var e;return ef(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function sNe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new UG(null);const f=window.open(e||"",a,u);j(f,n,"popup-blocked");try{f.focus()}catch{}return new UG(f)}(e,a,_w())})()}_openRedirect(e,t,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function JEe(n){Ft().location.href=n}(yield $G(e,t,r,d8(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(s4(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return v(function*(){const r=yield function XTe(n){return Yw.apply(this,arguments)}(e),i=new kTe(e);return r.register("authEvent",s=>(j(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zw,{type:Zw},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Zw];void 0!==o&&t(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function BTe(n){return Kw.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cG()||lM()||ef()}};var WG="@firebase/auth";class dNe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gNe=dU("authIdTokenMaxAge")||300;let KG=null;const vNe=n=>function(){var e=v(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>gNe)return;const s=r?.token;KG!==s&&(KG=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function _Ne(n=ui()){const e=yn(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function oEe(n,e){const t=yn(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(o8(t.getOptions(),e??{}))return i;bn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:fNe,persistence:[cTe,YEe,DG]}),r=dU("authTokenSyncURL");if(r){const s=vNe(r);(function FEe(n,e,t){l1(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function PEe(n,e,t,r){l1(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=fU("auth");return i&&function cEe(n,e,t){const r=a2(n);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=vG(e),{host:o,port:a}=function lEe(n){const e=vG(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_G(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:_G(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function uEe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function yNe(n){return new Je(function(e){var t=function BEe(n,e,t,r){return l1(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function pNe(n){Zt(new Pt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),j(!a?.includes(":"),"argument-error",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lG(n)},l=new sEe(r,i,s,c);return function aEe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(h3);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zt(new Pt("auth-internal",e=>{const t=a2(e.getProvider("auth").getImmediate());return new dNe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(WG,"0.23.1",function hNe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ge(WG,"0.23.1","esm2017")}("Browser");class mf{constructor(e){return e}}class w8{constructor(){return pi("auth")}}const Jw=new ne("angularfire2.auth-instances");function MNe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mf(r)}}const wNe={provide:w8,deps:[[new Ze,Jw]]},SNe={provide:mf,useFactory:function bNe(n,e){const t=hi("auth",n,e);return t&&new mf(t)},deps:[[new Ze,Jw],$n]};let zNe=(()=>{class n{constructor(){Ge("angularfire",Un.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[SNe,wNe]}),n})();function ENe(n,...e){return{ngModule:zNe,providers:[{provide:Jw,useFactory:MNe(n),multi:!0,deps:[Ce,T1,mi,gi,[new Ze,oc],...e]}]}}const TNe=W1(yNe,!0),NNe=W1(_Ne,!0);var X,DNe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rr={},eS=eS||{},Te=DNe||self;function gf(){}function vf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function S8(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var tS="closure_uid_"+(1e9*Math.random()>>>0),HNe=0;function INe(n,e,t){return n.call.apply(n.bind,arguments)}function xNe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function F2(n,e,t){return(F2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?INe:xNe).apply(null,arguments)}function _f(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function c2(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function l4(){this.s=this.s,this.o=this.o}l4.prototype.s=!1,l4.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function VNe(n){Object.prototype.hasOwnProperty.call(n,tS)&&n[tS]||(n[tS]=++HNe)}(this)},l4.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QG=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function nS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ZG(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(vf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function B2(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}B2.prototype.h=function(){this.defaultPrevented=!0};var LNe=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Te.addEventListener("test",gf,e),Te.removeEventListener("test",gf,e)}catch{}return n}();function yf(n){return/^[\s\xa0]*$/.test(n)}var XG=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function rS(n,e){return n<e?-1:n>e?1:0}function Cf(){var n=Te.navigator;return n&&(n=n.userAgent)?n:""}function yi(n){return-1!=Cf().indexOf(n)}function iS(n){return iS[" "](n),n}function JG(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}iS[" "]=gf;var bf,n,kNe=yi("Opera"),uc=yi("Trident")||yi("MSIE"),ej=yi("Edge"),sS=ej||uc,tj=yi("Gecko")&&!(-1!=Cf().toLowerCase().indexOf("webkit")&&!yi("Edge"))&&!(yi("Trident")||yi("MSIE"))&&!yi("Edge"),RNe=-1!=Cf().toLowerCase().indexOf("webkit")&&!yi("Edge");function nj(){var n=Te.document;return n?n.documentMode:void 0}e:{var oS="",aS=(n=Cf(),tj?/rv:([^\);]+)(\)|;)/.exec(n):ej?/Edge\/([\d\.]+)/.exec(n):uc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):RNe?/WebKit\/(\S+)/.exec(n):kNe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aS&&(oS=aS?aS[1]:""),uc){var cS=nj();if(null!=cS&&cS>parseFloat(oS)){bf=String(cS);break e}}bf=oS}var ONe={},FNe=Te.document&&uc&&(nj()||parseInt(bf,10))||void 0;function z8(n,e){if(B2.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tj){e:{try{iS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:BNe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&z8.$.h.call(this)}}c2(z8,B2);var BNe={2:"touch",3:"pen",4:"mouse"};z8.prototype.h=function(){z8.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var E8="closure_listenable_"+(1e6*Math.random()|0),UNe=0;function $Ne(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++UNe,this.fa=this.ia=!1}function Mf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function uS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ij(n){const e={};for(const t in n)e[t]=n[t];return e}const sj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oj(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<sj.length;s++)t=sj[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wf(n){this.src=n,this.g={},this.h=0}function fS(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=QG(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Mf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dS(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}wf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=dS(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new $Ne(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var hS="closure_lm_"+(1e6*Math.random()|0),pS={};function aj(n,e,t,r,i){if(r&&r.once)return lj(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)aj(n,e[s],t,r,i);return null}return t=_S(t),n&&n[E8]?n.O(e,t,S8(r)?!!r.capture:!!r,i):cj(n,e,t,!1,r,i)}function cj(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=S8(i)?!!i.capture:!!i,a=gS(n);if(a||(n[hS]=a=new wf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function GNe(){const e=jNe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)LNe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(fj(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function lj(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lj(n,e[s],t,r,i);return null}return t=_S(t),n&&n[E8]?n.P(e,t,S8(r)?!!r.capture:!!r,i):cj(n,e,t,!0,r,i)}function uj(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uj(n,e[s],t,r,i);else r=S8(r)?!!r.capture:!!r,t=_S(t),n&&n[E8]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dS(s=n.g[e],t,r,i))&&(Mf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=gS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dS(e,t,r,i)),(t=-1<n?e[n]:null)&&mS(t))}function mS(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[E8])fS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fj(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=gS(e))?(fS(t,n),0==t.h&&(t.src=null,e[hS]=null)):Mf(n)}}}function fj(n){return n in pS?pS[n]:pS[n]="on"+n}function jNe(n,e){if(n.fa)n=!0;else{e=new z8(e,this);var t=n.listener,r=n.la||n.src;n.ia&&mS(n),n=t.call(r,e)}return n}function gS(n){return(n=n[hS])instanceof wf?n:null}var vS="__closure_events_fn_"+(1e9*Math.random()>>>0);function _S(n){return"function"==typeof n?n:(n[vS]||(n[vS]=function(e){return n.handleEvent(e)}),n[vS])}function l2(){l4.call(this),this.i=new wf(this),this.S=this,this.J=null}function T2(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new B2(e,n);else if(e instanceof B2)e.target=e.target||n;else{var i=e;oj(e=new B2(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Sf(o,r,!0,e)&&i}if(i=Sf(o=e.g=n,r,!0,e)&&i,i=Sf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Sf(o=e.g=t[s],r,!1,e)&&i}function Sf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&fS(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}c2(l2,l4),l2.prototype[E8]=!0,l2.prototype.removeEventListener=function(n,e,t,r){uj(this,n,e,t,r)},l2.prototype.N=function(){if(l2.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Mf(t[r]);delete n.g[e],n.h--}}this.J=null},l2.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},l2.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var yS=Te.JSON.stringify;function WNe(){var n=pj;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var CS,dj=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new KNe,n=>n.reset());class KNe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function YNe(n){Te.setTimeout(()=>{throw n},0)}function hj(n,e){CS||function QNe(){var n=Te.Promise.resolve(void 0);CS=function(){n.then(ZNe)}}(),bS||(CS(),bS=!0),pj.add(n,e)}var bS=!1,pj=new class qNe{constructor(){this.h=this.g=null}add(e,t){const r=dj.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ZNe(){for(var n;n=WNe();){try{n.h.call(n.g)}catch(t){YNe(t)}var e=dj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bS=!1}function zf(n,e){l2.call(this),this.h=n||1,this.g=e||Te,this.j=F2(this.qb,this),this.l=Date.now()}function MS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function wS(n,e,t){if("function"==typeof n)t&&(n=F2(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=F2(n.handleEvent,n)}return 2147483647<Number(e)?-1:Te.setTimeout(n,e||0)}function mj(n){n.g=wS(()=>{n.g=null,n.i&&(n.i=!1,mj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}c2(zf,l2),(X=zf.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),T2(this,"tick"),this.ga&&(MS(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){zf.$.N.call(this),MS(this),delete this.g};class XNe extends l4{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mj(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function T8(n){l4.call(this),this.h=n,this.g={}}c2(T8,l4);var gj=[];function vj(n,e,t,r){Array.isArray(t)||(t&&(gj[0]=t.toString()),t=gj);for(var i=0;i<t.length;i++){var s=aj(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function _j(n){uS(n.g,function(e,t){this.g.hasOwnProperty(t)&&mS(e)},n),n.g={}}function Ef(){this.g=!0}function fc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nDe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return yS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}T8.prototype.N=function(){T8.$.N.call(this),_j(this)},T8.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ef.prototype.Ea=function(){this.g=!1},Ef.prototype.info=function(){};var Ps={},yj=null;function Tf(){return yj=yj||new l2}function Cj(n){B2.call(this,Ps.Ta,n)}function N8(n){const e=Tf();T2(e,new Cj(e))}function bj(n,e){B2.call(this,Ps.STAT_EVENT,n),this.stat=e}function tn(n){const e=Tf();T2(e,new bj(e,n))}function Mj(n,e){B2.call(this,Ps.Ua,n),this.size=e}function D8(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){n()},e)}Ps.Ta="serverreachability",c2(Cj,B2),Ps.STAT_EVENT="statevent",c2(bj,B2),Ps.Ua="timingevent",c2(Mj,B2);var Nf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function SS(){}function zj(){}SS.prototype.h=null;var TS,V8={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zS(){B2.call(this,"d")}function ES(){B2.call(this,"c")}function Df(){}function H8(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new T8(this),this.P=rDe,this.V=new zf(n=sS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Ej}function Ej(){this.i=null,this.g="",this.h=!1}c2(zS,B2),c2(ES,B2),c2(Df,SS),Df.prototype.g=function(){return new XMLHttpRequest},Df.prototype.i=function(){return{}},TS=new Df;var rDe=45e3,NS={},Vf={};function DS(n,e,t){n.L=1,n.v=Af(m3(e)),n.s=t,n.S=!0,Tj(n,null)}function Tj(n,e){n.G=Date.now(),I8(n),n.A=m3(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Rj(t.i,"t",r),n.C=0,t=n.l.I,n.h=new Ej,n.g=aW(n.l,t?e:null,!n.s),0<n.O&&(n.M=new XNe(F2(n.Pa,n,n.g),n.O)),vj(n.U,n.g,"readystatechange",n.nb),e=n.I?ij(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),N8(),function JNe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");o=2<=f.length&&"type"==f[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Nj(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Dj(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=iDe(n,t),i==Vf){4==e&&(n.o=4,tn(14),r=!1),fc(n.j,n.m,null,"[Incomplete Response]");break}if(i==NS){n.o=4,tn(15),fc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}fc(n.j,n.m,i,null),VS(n,i)}Nj(n)&&i!=Vf&&i!=NS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,tn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),OS(e),e.L=!0,tn(11))):(fc(n.j,n.m,t,"[Invalid Chunked Response]"),Fs(n),x8(n))}function iDe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Vf:(t=Number(e.substring(t,r)),isNaN(t)?NS:(r+=1)+t>e.length?Vf:(e=e.substr(r,t),n.C=r+t,e))}function I8(n){n.Y=Date.now()+n.P,Vj(n,n.P)}function Vj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=D8(F2(n.lb,n),e)}function Hf(n){n.B&&(Te.clearTimeout(n.B),n.B=null)}function x8(n){0==n.l.H||n.J||rW(n.l,n)}function Fs(n){Hf(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,MS(n.V),_j(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function VS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||HS(t.h,n)))if(!n.K&&HS(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ff(t),Of(t)}RS(t),tn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=D8(F2(t.ib,t),6e3));if(1>=Fj(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Us(t,11)}else if((n.K||t.g==n)&&Ff(t),!yf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.J=l[1],t.oa=l[2];const u=l[3];null!=u&&(t.qa=u,t.j.info("VER="+t.qa));const f=l[4];null!=f&&(t.Ga=f,t.j.info("SVER="+t.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(t.K=r=1.5*d,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const h=n.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(IS(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,J1(r.G,r.F,m))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=oW(r,r.I?r.oa:null,r.Y),o.K){Bj(r.h,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Hf(a),I8(a)),r.g=o}else tW(r);0<t.i.length&&Pf(t)}else"stop"!=l[0]&&"close"!=l[0]||Us(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Us(t,7):kS(t):"noop"!=l[0]&&t.l&&t.l.Aa(l),t.A=0)}N8()}catch{}}function Hj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function oDe(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function sDe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(X=H8.prototype).setTimeout=function(n){this.P=n},X.nb=function(n){n=n.target;const e=this.M;e&&3==g3(n)?e.l():this.Pa(n)},X.Pa=function(n){try{if(n==this.g)e:{const u=g3(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||sS||this.g&&(this.h.h||this.g.ja()||Yj(this.g)))){this.J||4!=u||7==e||N8(),Hf(this);var t=this.g.da();this.aa=t;t:if(Nj(this)){var r=Yj(this.g);n="";var i=r.length,s=4==g3(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fs(this),x8(this);var o="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function eDe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yf(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,tn(12),Fs(this),x8(this);break e}fc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,VS(this,t)}this.S?(Dj(this,u,o),sS&&this.i&&3==u&&(vj(this.U,this.V,"tick",this.mb),this.V.start())):(fc(this.j,this.m,o,null),VS(this,o)),4==u&&Fs(this),this.i&&!this.J&&(4==u?rW(this.l,this):(this.i=!1,I8(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),Fs(this),x8(this)}}}catch{}},X.mb=function(){if(this.g){var n=g3(this.g),e=this.g.ja();this.C<e.length&&(Hf(this),Dj(this,n,e),this.i&&4!=n&&I8(this))}},X.cancel=function(){this.J=!0,Fs(this)},X.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tDe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(N8(),tn(17)),Fs(this),this.o=2,x8(this)):Vj(this,this.Y-n)};var Ij=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bs(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bs){this.h=void 0!==e?e:n.h,If(this,n.j),this.s=n.s,this.g=n.g,xf(this,n.m),this.l=n.l,e=n.i;var t=new k8;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xj(this,t),this.o=n.o}else n&&(t=String(n).match(Ij))?(this.h=!!e,If(this,t[1]||"",!0),this.s=A8(t[2]||""),this.g=A8(t[3]||"",!0),xf(this,t[4]),this.l=A8(t[5]||"",!0),xj(this,t[6]||"",!0),this.o=A8(t[7]||"")):(this.h=!!e,this.i=new k8(null,this.h))}function m3(n){return new Bs(n)}function If(n,e,t){n.j=t?A8(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xj(n,e,t){e instanceof k8?(n.i=e,function hDe(n,e){e&&!n.j&&(u4(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Lj(this,r),Rj(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=L8(e,fDe)),n.i=new k8(e,n.h))}function J1(n,e,t){n.i.set(e,t)}function Af(n){return J1(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function A8(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function L8(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cDe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cDe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(L8(e,Aj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(L8(e,Aj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(L8(t,"/"==t.charAt(0)?uDe:lDe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",L8(t,dDe)),n.join("")};var Aj=/[#\/\?@]/g,lDe=/[#\?:]/g,uDe=/[#\?]/g,fDe=/[#\?@]/g,dDe=/#/g;function k8(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function u4(n){n.g||(n.g=new Map,n.h=0,n.i&&function aDe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Lj(n,e){u4(n),e=dc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function kj(n,e){return u4(n),e=dc(n,e),n.g.has(e)}function Rj(n,e,t){Lj(n,e),0<t.length&&(n.i=null,n.g.set(dc(n,e),nS(t)),n.h+=t.length)}function dc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Oj(n){this.l=n||mDe,n=Te.PerformanceNavigationTiming?0<(n=Te.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=k8.prototype).add=function(n,e){u4(this),this.i=null,n=dc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},X.forEach=function(n,e){u4(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},X.sa=function(){u4(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},X.Z=function(n){u4(this);let e=[];if("string"==typeof n)kj(this,n)&&(e=e.concat(this.g.get(dc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},X.set=function(n,e){return u4(this),this.i=null,kj(this,n=dc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},X.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var mDe=10;function Pj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Fj(n){return n.h?1:n.g?n.g.size:0}function HS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function IS(n,e){n.g?n.g.add(e):n.h=e}function Bj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Uj(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return nS(n.i)}function xS(){}function gDe(){this.g=new xS}function vDe(n,e,t){const r=t||"";try{Hj(n,function(i,s){let o=i;S8(i)&&(o=yS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function R8(n){this.l=n.fc||null,this.j=n.ob||!1}function kf(n,e){l2.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=AS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oj.prototype.cancel=function(){if(this.i=Uj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xS.prototype.stringify=function(n){return Te.JSON.stringify(n,void 0)},xS.prototype.parse=function(n){return Te.JSON.parse(n,void 0)},c2(R8,SS),R8.prototype.g=function(){return new kf(this.l,this.j)},R8.prototype.i=function(n){return function(){return n}}({}),c2(kf,l2);var AS=0;function $j(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function O8(n){n.readyState=4,n.l=null,n.j=null,n.A=null,P8(n)}function P8(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(X=kf.prototype).open=function(n,e){if(this.readyState!=AS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,P8(this)},X.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,O8(this)),this.readyState=AS},X.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,P8(this)),this.g&&(this.readyState=3,P8(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$j(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?O8(this):P8(this),3==this.readyState&&$j(this)}},X.Za=function(n){this.g&&(this.response=this.responseText=n,O8(this))},X.Ya=function(n){this.g&&(this.response=n,O8(this))},X.ka=function(){this.g&&O8(this)},X.setRequestHeader=function(n,e){this.v.append(n,e)},X.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yDe=Te.JSON.parse;function Ct(n){l2.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gj,this.L=this.M=!1}c2(Ct,l2);var Gj="",CDe=/^https?$/i,bDe=["POST","PUT"];function jj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Wj(n),Rf(n)}function Wj(n){n.F||(n.F=!0,T2(n,"complete"),T2(n,"error"))}function qj(n){if(n.h&&typeof eS<"u"&&(!n.C[1]||4!=g3(n)||2!=n.da()))if(n.v&&4==g3(n))wS(n.La,0,n);else if(T2(n,"readystatechange"),4==g3(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.I).match(Ij)[1]||null;if(!i&&Te.self&&Te.self.location){var s=Te.self.location.protocol;i=s.substr(0,s.length-1)}r=!CDe.test(i?i.toLowerCase():"")}t=r}if(t)T2(n,"complete"),T2(n,"success");else{n.m=6;try{var o=2<g3(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",Wj(n)}}finally{Rf(n)}}}function Rf(n,e){if(n.g){Kj(n);const t=n.g,r=n.C[0]?gf:null;n.g=null,n.C=null,e||T2(n,"ready");try{t.onreadystatechange=r}catch{}}}function Kj(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Te.clearTimeout(n.A),n.A=null)}function g3(n){return n.g?n.g.readyState:0}function Yj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Gj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Qj(n){let e="";return uS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function LS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Qj(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):J1(n,e,t))}function F8(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Zj(n){this.Ga=0,this.i=[],this.j=new Ef,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=F8("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=F8("baseRetryDelayMs",5e3,n),this.hb=F8("retryDelaySeedMs",1e4,n),this.eb=F8("forwardChannelMaxRetries",2,n),this.xa=F8("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new Oj(n&&n.concurrentRequestLimit),this.Ja=new gDe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function kS(n){if(Xj(n),3==n.H){var e=n.W++,t=m3(n.G);J1(t,"SID",n.J),J1(t,"RID",e),J1(t,"TYPE","terminate"),B8(n,t),(e=new H8(n,n.j,e,void 0)).L=2,e.v=Af(m3(t)),t=!1,Te.navigator&&Te.navigator.sendBeacon&&(t=Te.navigator.sendBeacon(e.v.toString(),"")),!t&&Te.Image&&((new Image).src=e.v,t=!0),t||(e.g=aW(e.l,null),e.g.ha(e.v)),e.G=Date.now(),I8(e)}sW(n)}function Of(n){n.g&&(OS(n),n.g.cancel(),n.g=null)}function Xj(n){Of(n),n.u&&(Te.clearTimeout(n.u),n.u=null),Ff(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Te.clearTimeout(n.m),n.m=null)}function Pf(n){Pj(n.h)||n.m||(n.m=!0,hj(n.Na,n),n.C=0)}function Jj(n,e){var t;t=e?e.m:n.W++;const r=m3(n.G);J1(r,"SID",n.J),J1(r,"RID",t),J1(r,"AID",n.V),B8(n,r),n.o&&n.s&&LS(r,n.o,n.s),t=new H8(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=eW(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),IS(n.h,t),DS(t,r,e)}function B8(n,e){n.ma&&uS(n.ma,function(t,r){J1(e,r,t)}),n.l&&Hj({},function(t,r){J1(e,r,t)})}function eW(n,e,t){t=Math.min(n.i.length,t);var r=n.l?F2(n.l.Va,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let l=i[c].h;const u=i[c].g;if(l-=s,0>l)s=Math.max(0,i[c].h-100),a=!1;else try{vDe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function tW(n){n.g||n.u||(n.ba=1,hj(n.Ma,n),n.A=0)}function RS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=D8(F2(n.Ma,n),iW(n,n.A)),n.A++,0))}function OS(n){null!=n.B&&(Te.clearTimeout(n.B),n.B=null)}function nW(n){n.g=new H8(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=m3(n.wa);J1(e,"RID","rpc"),J1(e,"SID",n.J),J1(e,"CI",n.M?"0":"1"),J1(e,"AID",n.V),J1(e,"TYPE","xmlhttp"),B8(n,e),n.o&&n.s&&LS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=Af(m3(e)),t.s=null,t.S=!0,Tj(t,n)}function Ff(n){null!=n.v&&(Te.clearTimeout(n.v),n.v=null)}function rW(n,e){var t=null;if(n.g==e){Ff(n),OS(n),n.g=null;var r=2}else{if(!HS(n.h,e))return;t=e.F,Bj(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;T2(r=Tf(),new Mj(r,t)),Pf(n)}else tW(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function wDe(n,e){return!(Fj(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=D8(F2(n.Na,n,e),iW(n,n.C)),n.C++,0)))}(n,e)||2==r&&RS(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Us(n,5);break;case 4:Us(n,10);break;case 3:Us(n,6);break;default:Us(n,2)}}function iW(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Us(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=F2(n.pb,n);t||(t=new Bs("//www.google.com/images/cleardot.gif"),Te.location&&"http"==Te.location.protocol||If(t,"https"),Af(t)),function _De(n,e){const t=new Ef;if(Te.Image){const r=new Image;r.onload=_f(Lf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=_f(Lf,t,r,"TestLoadImage: error",!1,e),r.onabort=_f(Lf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=_f(Lf,t,r,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else tn(2);n.H=0,n.l&&n.l.za(e),sW(n),Xj(n)}function sW(n){if(n.H=0,n.pa=[],n.l){const e=Uj(n.h);(0!=e.length||0!=n.i.length)&&(ZG(n.pa,e),ZG(n.pa,n.i),n.h.i.length=0,nS(n.i),n.i.length=0),n.l.ya()}}function oW(n,e,t){var r=t instanceof Bs?m3(t):new Bs(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),xf(r,r.m);else{var i=Te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Bs(null,void 0);r&&If(s,r),e&&(s.g=e),i&&xf(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&J1(r,t,e),J1(r,"VER",n.qa),B8(n,r),r}function aW(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ct(t&&n.Ha&&!n.va?new R8({ob:!0}):n.va)).Oa(n.I),e}function cW(){}function Bf(){if(uc&&!(10<=Number(FNe)))throw Error("Environmental error: no available transport.")}function Gn(n,e){l2.call(this),this.g=new Zj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hc(this)}function lW(n){zS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uW(){ES.call(this),this.status=1}function hc(n){this.g=n}function Or(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function PS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function M1(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(X=Ct.prototype).Oa=function(n){this.M=n},X.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():TS.g(),this.C=function Sj(n){return n.h||(n.h=n.i())}(this.u?this.u:TS),this.g.onreadystatechange=F2(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void jj(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Te.FormData&&n instanceof Te.FormData,!(0<=QG(bDe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Kj(this),0<this.B&&((this.L=function MDe(n){return uc&&function PNe(){return JG(ONe,9,function(){let n=0;const e=XG(String(bf)).split("."),t=XG("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=rS(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||rS(0==i[2].length,0==s[2].length)||rS(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=F2(this.ua,this)):this.A=wS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){jj(this,s)}},X.ua=function(){typeof eS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,T2(this,"timeout"),this.abort(8))},X.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,T2(this,"complete"),T2(this,"abort"),Rf(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rf(this,!0)),Ct.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?qj(this):this.kb())},X.kb=function(){qj(this)},X.da=function(){try{return 2<g3(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yDe(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=Zj.prototype).qa=8,X.H=1,X.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new H8(this,this.j,n,void 0);let s=this.s;if(this.U&&(s?(s=ij(s),oj(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eW(this,i,e),J1(t=m3(this.G),"RID",n),J1(t,"CVER",22),this.F&&J1(t,"X-HTTP-Session-Id",this.F),B8(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(Qj(s)))+"&"+e:this.o&&LS(t,this.o,s)),IS(this.h,i),this.bb&&J1(t,"TYPE","init"),this.P?(J1(t,"$req",e),J1(t,"SID","null"),i.ba=!0,DS(i,t,null)):DS(i,t,e),this.H=2}}else 3==this.H&&(n?Jj(this,n):0==this.i.length||Pj(this.h)||Jj(this))},X.Ma=function(){if(this.u=null,nW(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=D8(F2(this.jb,this),n)}},X.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,tn(10),Of(this),nW(this))},X.ib=function(){null!=this.v&&(this.v=null,Of(this),RS(this),tn(19))},X.pb=function(n){n?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))},(X=cW.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.Va=function(){},Bf.prototype.g=function(n,e){return new Gn(n,e)},c2(Gn,l2),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;tn(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=oW(n,null,n.Y),Pf(n)},Gn.prototype.close=function(){kS(this.g)},Gn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=yS(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Pf(e)},Gn.prototype.N=function(){this.g.l=null,delete this.j,kS(this.g),delete this.g,Gn.$.N.call(this)},c2(lW,zS),c2(uW,ES),c2(hc,cW),hc.prototype.Ba=function(){T2(this.g,"a")},hc.prototype.Aa=function(n){T2(this.g,new lW(n))},hc.prototype.za=function(n){T2(this.g,new uW)},hc.prototype.ya=function(){T2(this.g,"b")},c2(Or,function SDe(){this.blockSize=-1}),Or.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Or.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)PS(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){PS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){PS(this,r),i=0;break}}this.h=i,this.i+=e},Or.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var zDe={};function FS(n){return-128<=n&&128>n?JG(zDe,n,function(e){return new M1([0|e],0>e?-1:0)}):new M1([0|n],0>n?-1:0)}function Ci(n){if(isNaN(n)||!isFinite(n))return pc;if(0>n)return N2(Ci(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=BS;return new M1(e,0)}var BS=4294967296,pc=FS(0),US=FS(1),dW=FS(16777216);function v3(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function mr(n){return-1==n.h}function N2(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new M1(t,~n.h).add(US)}function Uf(n,e){return n.add(N2(e))}function $f(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function U8(n,e){this.g=n,this.h=e}function Gf(n,e){if(v3(e))throw Error("division by zero");if(v3(n))return new U8(pc,pc);if(mr(n))return e=Gf(N2(n),e),new U8(N2(e.g),N2(e.h));if(mr(e))return e=Gf(n,N2(e)),new U8(N2(e.g),e.h);if(30<n.g.length){if(mr(n)||mr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=US,r=e;0>=r.X(n);)t=hW(t),r=hW(r);var i=mc(t,1),s=mc(r,1);for(r=mc(r,2),t=mc(t,2);!v3(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=mc(r,1),t=mc(t,1)}return e=Uf(n,i.R(e)),new U8(i,e)}for(i=pc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ci(t)).R(e);mr(o)||0<o.X(n);)o=(s=Ci(t-=r)).R(e);v3(s)&&(s=US),i=i.add(s),n=Uf(n,o)}return new U8(i,n)}function hW(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new M1(t,n.h)}function mc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new M1(i,n.h)}(X=M1.prototype).ea=function(){if(mr(this))return-N2(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:BS+r)*e,e*=BS}return n},X.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(v3(this))return"0";if(mr(this))return"-"+N2(this).toString(n);for(var e=Ci(Math.pow(n,6)),t=this,r="";;){var i=Gf(t,e).g,s=((0<(t=Uf(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(v3(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},X.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},X.X=function(n){return mr(n=Uf(this,n))?-1:v3(n)?0:1},X.abs=function(){return mr(this)?N2(this):this},X.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new M1(t,-2147483648&t[t.length-1]?-1:0)},X.R=function(n){if(v3(this)||v3(n))return pc;if(mr(this))return mr(n)?N2(this).R(N2(n)):N2(N2(this).R(n));if(mr(n))return N2(this.R(N2(n)));if(0>this.X(dW)&&0>n.X(dW))return Ci(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,$f(t,2*r+2*i),t[2*r+2*i+1]+=s*c,$f(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,$f(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,$f(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new M1(t,0)},X.gb=function(n){return Gf(this,n).h},X.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new M1(t,this.h&n.h)},X.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new M1(t,this.h|n.h)},X.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new M1(t,this.h^n.h)},Bf.prototype.createWebChannel=Bf.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,wj.COMPLETE="complete",zj.EventType=V8,V8.OPEN="a",V8.CLOSE="b",V8.ERROR="c",V8.MESSAGE="d",l2.prototype.listen=l2.prototype.O,Ct.prototype.listenOnce=Ct.prototype.P,Ct.prototype.getLastError=Ct.prototype.Sa,Ct.prototype.getLastErrorCode=Ct.prototype.Ia,Ct.prototype.getStatus=Ct.prototype.da,Ct.prototype.getResponseJson=Ct.prototype.Wa,Ct.prototype.getResponseText=Ct.prototype.ja,Ct.prototype.send=Ct.prototype.ha,Ct.prototype.setWithCredentials=Ct.prototype.Oa,Or.prototype.digest=Or.prototype.l,Or.prototype.reset=Or.prototype.reset,Or.prototype.update=Or.prototype.j,M1.prototype.add=M1.prototype.add,M1.prototype.multiply=M1.prototype.R,M1.prototype.modulo=M1.prototype.gb,M1.prototype.compare=M1.prototype.X,M1.prototype.toNumber=M1.prototype.ea,M1.prototype.toString=M1.prototype.toString,M1.prototype.getBits=M1.prototype.D,M1.fromNumber=Ci,M1.fromString=function fW(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return N2(fW(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ci(Math.pow(e,8)),r=pc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Ci(Math.pow(e,s)),r=r.R(s).add(Ci(o))):r=(r=r.R(t)).add(Ci(o))}return r};var EDe=Rr.createWebChannelTransport=function(){return new Bf},TDe=Rr.getStatEventTarget=function(){return Tf()},$S=Rr.ErrorCode=Nf,NDe=Rr.EventType=wj,DDe=Rr.Event=Ps,pW=Rr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},VDe=Rr.FetchXmlHttpFactory=R8,jf=Rr.WebChannel=zj,HDe=Rr.XhrIo=Ct,IDe=Rr.Md5=Or,gc=Rr.Integer=M1;const mW="@firebase/firestore";class u2{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}u2.UNAUTHENTICATED=new u2(null),u2.GOOGLE_CREDENTIALS=new u2("google-credentials-uid"),u2.FIRST_PARTY=new u2("first-party-uid"),u2.MOCK_USER=new u2("mock-user");let vc="9.21.0";const f4=new i4("@firebase/firestore");function GS(){return f4.logLevel}function U(n,...e){if(f4.logLevel<=Qe.DEBUG){const t=e.map(jS);f4.debug(`Firestore (${vc}): ${n}`,...t)}}function Tt(n,...e){if(f4.logLevel<=Qe.ERROR){const t=e.map(jS);f4.error(`Firestore (${vc}): ${n}`,...t)}}function Pr(n,...e){if(f4.logLevel<=Qe.WARN){const t=e.map(jS);f4.warn(`Firestore (${vc}): ${n}`,...t)}}function jS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function re(n="Unexpected state"){const e=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: `+n;throw Tt(e),new Error(e)}function le(n,e){n||re()}function K(n,e){return n}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gW{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xDe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(u2.UNAUTHENTICATED))}shutdown(){}}class ADe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LDe{constructor(e){this.t=e,this.currentUser=u2.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le("string"==typeof r.accessToken),new gW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return le(null===e||"string"==typeof e),new u2(e)}}class kDe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=u2.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class RDe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new kDe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(u2.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ODe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(le("string"==typeof t.token),this.T=t.token,new vW(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PDe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _W{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PDe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function _c(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class at{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new at(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new at(0,0))}static max(){return new fe(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $8{constructor(e,t,r){void 0===t?t=0:t>e.length&&re(),void 0===r?r=e.length-t:r>e.length-t&&re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===$8.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $8?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class s1 extends $8{construct(e,t,r){return new s1(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new s1(t)}static emptyPath(){return new s1([])}}const FDe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends $8{construct(e,t,r){return new Nt(e,t,r)}static isValidIdentifier(e){return FDe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}class W{constructor(e){this.path=e}static fromPath(e){return new W(s1.fromString(e))}static fromName(e){return new W(s1.fromString(e).popFirst(5))}static empty(){return new W(s1.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===s1.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return s1.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new s1(e.slice()))}}function bW(n){return new jn(n.readTime,n.key,-1)}class jn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new jn(fe.min(),W.empty(),-1)}static max(){return new jn(fe.max(),W.empty(),-1)}}function qS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=W.comparator(n.documentKey,e.documentKey),0!==t?t:ze(n.largestBatchId,e.largestBatchId))}const MW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $De{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function d4(n){return KS.apply(this,arguments)}function KS(){return KS=v(function*(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==MW)throw n;U("LocalStore","Unexpectedly lost primary lease")}),KS.apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new z((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function h4(n){return"IndexedDbTransactionError"===n.name}let Wn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function W8(n){return null==n}function q8(n){return 0===n&&1/n==-1/0}function HW(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function p4(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IW(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class R1{constructor(e,t){this.comparator=e,this.root=t||D2.EMPTY}insert(e,t){return new R1(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,D2.BLACK,null,null))}remove(e){return new R1(this.comparator,this.root.remove(e,this.comparator).copy(null,null,D2.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qf(this.root,e,this.comparator,!0)}}class Qf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class D2{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??D2.RED,this.left=i??D2.EMPTY,this.right=s??D2.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new D2(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return D2.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return D2.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,D2.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,D2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}D2.EMPTY=null,D2.RED=!0,D2.BLACK=!1,D2.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(n,e,t,r,i){return this}insert(n,e,t){return new D2(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class q1{constructor(e){this.comparator=e,this.data=new R1(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xW(this.data.getIterator())}getIteratorFrom(e){return new xW(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof q1)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new q1(this.comparator);return t.data=e,t}}class xW{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new q1(Nt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class AW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new AW("Invalid base64 string: "+i):i}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const dVe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function m4(n){if(le(!!n),"string"==typeof n){let e=0;const t=dVe.exec(n);if(le(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _3(n){return"string"==typeof n?Jt.fromBase64String(n):Jt.fromUint8Array(n)}function Zf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xf(n){const e=n.mapValue.fields.__previous_value__;return Zf(e)?Xf(e):e}function K8(n){const e=m4(n.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}class hVe{constructor(e,t,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class js{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof js&&e.projectId===this.projectId&&e.database===this.database}}const g4={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function v4(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zf(n)?4:OW(n)?9007199254740991:10:re()}function Mi(n,e){if(n===e)return!0;const t=v4(n);if(t!==v4(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return K8(n).isEqual(K8(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=m4(r.timestampValue),o=m4(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_3(n.bytesValue).isEqual(_3(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=bt(r.doubleValue),o=bt(i.doubleValue);return s===o?q8(s)===q8(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return _c(n.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(HW(s)!==HW(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Mi(s[a],o[a])))return!1;return!0}(n,e);default:return re()}var i}function Y8(n,e){return void 0!==(n.values||[]).find(t=>Mi(t,e))}function _4(n,e){if(n===e)return 0;const t=v4(n),r=v4(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=bt(i.integerValue||i.doubleValue),a=bt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return LW(n.timestampValue,e.timestampValue);case 4:return LW(K8(n),K8(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(i,s){const o=_3(i),a=_3(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=ze(o[c],a[c]);if(0!==l)return l}return ze(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ze(bt(i.latitude),bt(s.latitude));return 0!==o?o:ze(bt(i.longitude),bt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=_4(o[c],a[c]);if(l)return l}return ze(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===g4.mapValue&&s===g4.mapValue)return 0;if(i===g4.mapValue)return 1;if(s===g4.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const f=ze(a[u],l[u]);if(0!==f)return f;const d=_4(o[a[u]],c[l[u]]);if(0!==d)return d}return ze(a.length,l.length)}(n.mapValue,e.mapValue);default:throw re()}}function LW(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ze(n,e);const t=m4(n),r=m4(e),i=ze(t.seconds,r.seconds);return 0!==i?i:ze(t.nanos,r.nanos)}function Cc(n){return ZS(n)}function ZS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=m4(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_3(n.bytesValue).toBase64():"referenceValue"in n?W.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ZS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ZS(r.fields[a])}`;return s+"}"}(n.mapValue):re();var e}function XS(n){return!!n&&"integerValue"in n}function Q8(n){return!!n&&"arrayValue"in n}function kW(n){return!!n&&"nullValue"in n}function RW(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function td(n){return!!n&&"mapValue"in n}function Z8(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return p4(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Z8(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Z8(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OW(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class V2{constructor(e){this.value=e}static empty(){return new V2({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!td(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Z8(t)}setAll(e){let t=Nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Z8(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());td(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){p4(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new V2(Z8(this.value))}}function BW(n){const e=[];return p4(n.fields,(t,r)=>{const i=new Nt([t]);if(td(r)){const s=BW(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}class K1{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new K1(e,0,fe.min(),fe.min(),fe.min(),V2.empty(),0)}static newFoundDocument(e,t,r,i){return new K1(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new K1(e,2,t,fe.min(),fe.min(),V2.empty(),0)}static newUnknownDocument(e,t){return new K1(e,3,t,fe.min(),fe.min(),V2.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=V2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=V2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof K1&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new K1(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class y4{constructor(e,t){this.position=e,this.inclusive=t}}function UW(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?W.comparator(W.fromName(o.referenceValue),t.key):_4(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $W(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mi(n.position[t],e.position[t]))return!1;return!0}class bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function gVe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class GW{}class Xe extends GW{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new vVe(e,t,r):"array-contains"===t?new CVe(e,r):"in"===t?new QW(e,r):"not-in"===t?new bVe(e,r):"array-contains-any"===t?new MVe(e,r):new Xe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new _Ve(e,r):new yVe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_4(t,this.value)):null!==t&&v4(this.value)===v4(t)&&this.matchesComparison(_4(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class w1 extends GW{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new w1(e,t)}matches(e){return Mc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Mc(n){return"and"===n.op}function ez(n){return function jW(n){for(const e of n.filters)if(e instanceof w1)return!1;return!0}(n)&&Mc(n)}function tz(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+Cc(n.value);if(ez(n))return n.filters.map(e=>tz(e)).join(",");{const e=n.filters.map(t=>tz(t)).join(",");return`${n.op}(${e})`}}function WW(n,e){return n instanceof Xe?(t=n,(r=e)instanceof Xe&&t.op===r.op&&t.field.isEqual(r.field)&&Mi(t.value,r.value)):n instanceof w1?function(t,r){return r instanceof w1&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&WW(s,r.filters[o]),!0)}(n,e):void re();var t,r}function KW(n){return n instanceof Xe?`${(e=n).field.canonicalString()} ${e.op} ${Cc(e.value)}`:n instanceof w1?function(e){return e.op.toString()+" {"+e.getFilters().map(KW).join(" ,")+"}"}(n):"Filter";var e}class vVe extends Xe{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){const t=W.comparator(e.key,this.key);return this.matchesComparison(t)}}class _Ve extends Xe{constructor(e,t){super(e,"in",t),this.keys=YW(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yVe extends Xe{constructor(e,t){super(e,"not-in",t),this.keys=YW(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YW(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}class CVe extends Xe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Q8(t)&&Y8(t.arrayValue,this.value)}}class QW extends Xe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Y8(this.value.arrayValue,t)}}class bVe extends Xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Y8(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Y8(this.value.arrayValue,t)}}class MVe extends Xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Q8(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Y8(this.value.arrayValue,r))}}class wVe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function nz(n,e=null,t=[],r=[],i=null,s=null,o=null){return new wVe(n,e,t,r,i,s,o)}function qs(n){const e=K(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tz(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),W8(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cc(r)).join(",")),e.ft=t}return e.ft}function X8(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gVe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WW(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$W(n.startAt,e.startAt)&&$W(n.endAt,e.endAt)}function nd(n){return W.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class y3{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.dt=null,this._t=null}}function wc(n){return new y3(n)}function eq(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ks(n){const e=K(n);if(null===e.dt){e.dt=[];const t=function id(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function rz(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new bc(t)),e.dt.push(new bc(Nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new bc(Nt.keyField(),s))}}}return e.dt}function nn(n){const e=K(n);if(!e._t)if("F"===e.limitType)e._t=nz(e.path,e.collectionGroup,Ks(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ks(e))t.push(new bc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new y4(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new y4(e.startAt.position,e.startAt.inclusive):null;e._t=nz(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function sd(n,e,t){return new y3(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J8(n,e){return X8(nn(n),nn(e))&&n.limitType===e.limitType}function tq(n){return`${qs(nn(n))}|lt:${n.limitType}`}function oz(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>KW(r)).join(", ")}]`),W8(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cc(r)).join(",")),`Target(${t})`}(nn(n))}; limitType=${n.limitType})`}function e5(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):W.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ks(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=UW(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ks(t),r)||t.endAt&&!function(i,s,o){const a=UW(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ks(t),r)));var t,r}function rq(n){return(e,t)=>{let r=!1;for(const i of Ks(n)){const s=SVe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function SVe(n,e,t){const r=n.field.isKeyField()?W.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?_4(a,c):re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}class C3{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){p4(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return IW(this.inner)}size(){return this.innerSize}}const zVe=new R1(W.comparator);function wn(){return zVe}const iq=new R1(W.comparator);function t5(...n){let e=iq;for(const t of n)e=e.insert(t.key,t);return e}function sq(n){let e=iq;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wi(){return n5()}function oq(){return n5()}function n5(){return new C3(n=>n.toString(),(n,e)=>n.isEqual(e))}const EVe=new R1(W.comparator),TVe=new q1(W.comparator);function ke(...n){let e=TVe;for(const t of n)e=e.add(t);return e}const NVe=new q1(ze);function aq(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q8(e)?"-0":e}}function cq(n){return{integerValue:""+n}}function lq(n,e){return function SW(n){return"number"==typeof n&&Number.isInteger(n)&&!q8(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?cq(e):aq(n,e)}class od{constructor(){this._=void 0}}function DVe(n,e,t){return n instanceof Sc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Zf(i)&&(i=Xf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ys?fq(n,e):n instanceof Qs?dq(n,e):function(r,i){const s=uq(r,i),o=hq(s)+hq(r.wt);return XS(s)&&XS(r.wt)?cq(o):aq(r.serializer,o)}(n,e)}function VVe(n,e,t){return n instanceof Ys?fq(n,e):n instanceof Qs?dq(n,e):t}function uq(n,e){return n instanceof zc?XS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sc extends od{}class Ys extends od{constructor(e){super(),this.elements=e}}function fq(n,e){const t=pq(e);for(const r of n.elements)t.some(i=>Mi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qs extends od{constructor(e){super(),this.elements=e}}function dq(n,e){let t=pq(e);for(const r of n.elements)t=t.filter(i=>!Mi(i,r));return{arrayValue:{values:t}}}class zc extends od{constructor(e,t){super(),this.serializer=e,this.wt=t}}function hq(n){return bt(n.integerValue||n.doubleValue)}function pq(n){return Q8(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class IVe{constructor(e,t){this.version=e,this.transformResults=t}}class et{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class cd{}function mq(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Tc(n.key,et.none()):new Ec(n.key,n.data,et.none());{const t=n.data,r=V2.empty();let i=new q1(Nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new b3(n.key,r,new Mn(i.toArray()),et.none())}}function xVe(n,e,t){n instanceof Ec?function(r,i,s){const o=r.value.clone(),a=_q(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof b3?function(r,i,s){if(!ad(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=_q(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(vq(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function i5(n,e,t,r){return n instanceof Ec?function(i,s,o,a){if(!ad(i.precondition,s))return o;const c=i.value.clone(),l=yq(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof b3?function(i,s,o,a){if(!ad(i.precondition,s))return o;const c=yq(i.fieldTransforms,a,s),l=s.data;return l.setAll(vq(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,ad(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function AVe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=uq(r.transform,i||null);null!=s&&(null===t&&(t=V2.empty()),t.set(r.field,s))}return t||null}function gq(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_c(t,r,(i,s)=>function HVe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ys&&r instanceof Ys||t instanceof Qs&&r instanceof Qs?_c(t.elements,r.elements,Mi):t instanceof zc&&r instanceof zc?Mi(t.wt,r.wt):t instanceof Sc&&r instanceof Sc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ec extends cd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class b3 extends cd{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _q(n,e,t){const r=new Map;le(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,VVe(o,a,t[i]))}return r}function yq(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,DVe(s,o,e))}return r}class Tc extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cz extends cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lz{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xVe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=i5(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=i5(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=oq();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=mq(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(t,r)=>gq(t,r))&&_c(this.baseMutations,e.baseMutations,(t,r)=>gq(t,r))}}class uz{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){le(e.mutations.length===r.length);let i=EVe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uz(e,t,r,i)}}class fz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kVe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bt,o1;function bq(n){if(void 0===n)return Tt("GRPC error has no .code"),N.UNKNOWN;switch(n){case Bt.OK:return N.OK;case Bt.CANCELLED:return N.CANCELLED;case Bt.UNKNOWN:return N.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return N.INTERNAL;case Bt.UNAVAILABLE:return N.UNAVAILABLE;case Bt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Bt.NOT_FOUND:return N.NOT_FOUND;case Bt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Bt.ABORTED:return N.ABORTED;case Bt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Bt.DATA_LOSS:return N.DATA_LOSS;default:return re()}}(o1=Bt||(Bt={}))[o1.OK=0]="OK",o1[o1.CANCELLED=1]="CANCELLED",o1[o1.UNKNOWN=2]="UNKNOWN",o1[o1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",o1[o1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",o1[o1.NOT_FOUND=5]="NOT_FOUND",o1[o1.ALREADY_EXISTS=6]="ALREADY_EXISTS",o1[o1.PERMISSION_DENIED=7]="PERMISSION_DENIED",o1[o1.UNAUTHENTICATED=16]="UNAUTHENTICATED",o1[o1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",o1[o1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",o1[o1.ABORTED=10]="ABORTED",o1[o1.OUT_OF_RANGE=11]="OUT_OF_RANGE",o1[o1.UNIMPLEMENTED=12]="UNIMPLEMENTED",o1[o1.INTERNAL=13]="INTERNAL",o1[o1.UNAVAILABLE=14]="UNAVAILABLE",o1[o1.DATA_LOSS=15]="DATA_LOSS";class dz{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ld}static getOrCreateInstance(){return null===ld&&(ld=new dz),ld}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ld=null;const RVe=new gc([4294967295,4294967295],0);function wq(n){const e=function Mq(){return new TextEncoder}().encode(n),t=new IDe;return t.update(e),new Uint8Array(t.digest())}function Sq(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gc([t,r],0),new gc([i,s],0)]}class hz{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new s5(`Invalid padding: ${t}`);if(r<0)throw new s5(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new s5(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new s5(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=gc.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(gc.fromNumber(r)));return 1===i.compare(RVe)&&(i=new gc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=wq(e),[r,i]=Sq(t);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);if(!this.Et(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hz(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.yt)return;const t=wq(e),[r,i]=Sq(t);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class s5 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class o5{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,a5.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new o5(fe.min(),i,new R1(ze),wn(),ke())}}class a5{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new a5(r,t,ke(),ke(),ke())}}class ud{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class zq{constructor(e,t){this.targetId=e,this.bt=t}}class Eq{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Tq{constructor(){this.Vt=0,this.St=Dq(),this.Dt=Jt.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=ke(),t=ke(),r=ke();return this.St.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:re()}}),new a5(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=Dq()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class OVe{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=wn(),this.jt=Nq(),this.zt=new R1(ze)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,s=this.ne(r);if(s){const o=s.target;if(nd(o))if(0===i){const a=new W(o.path);this.Jt(r,a,K1.newNoDocument(a,fe.min()))}else le(1===i);else{const a=this.se(r);if(a!==i){const c=this.ie(e,a);0!==c&&(this.te(r),this.zt=this.zt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=dz.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,m,g,_;const b={localCacheCount:u,existenceFilterCount:f.count},y=f.unchangedNames;return y&&(b.bloomFilter={applied:0===l,hashCount:null!==(d=y?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(m=null===(p=null===(h=y?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(_=null===(g=y?.bits)||void 0===g?void 0:g.padding)&&void 0!==_?_:0}),b}(c,a,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,l;try{c=_3(s).toUint8Array()}catch(u){if(u instanceof AW)return Pr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new hz(c,o,a)}catch(u){return Pr(u instanceof s5?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.yt?1:i!==t-this.re(e.targetId,l)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Kt.oe(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.At(a)||(this.Jt(e,s,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((s,o)=>{const a=this.ne(o);if(a){if(s.current&&nd(a.target)){const c=new W(a.target.path);null!==this.Qt.get(c)||this.ce(o,c)||this.Jt(o,c,K1.newNoDocument(c,e))}s.kt&&(t.set(o,s.Ot()),s.$t())}});let r=ke();this.jt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.ne(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qt.forEach((s,o)=>o.setReadTime(e));const i=new o5(e,t,this.zt,this.Qt,r);return this.Qt=wn(),this.jt=Nq(),this.zt=new R1(ze),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Tq,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new q1(ze),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||U("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Tq),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Nq(){return new R1(W.comparator)}function Dq(){return new R1(W.comparator)}const PVe={asc:"ASCENDING",desc:"DESCENDING"},FVe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BVe={and:"AND",or:"OR"};class UVe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pz(n,e){return n.useProto3Json||W8(e)?e:{value:e}}function Nc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $Ve(n,e){return Nc(n,e.toTimestamp())}function Dt(n){return le(!!n),fe.fromTimestamp(function(e){const t=m4(e);return new at(t.seconds,t.nanos)}(n))}function mz(n,e){return(t=n,new s1(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hq(n){const e=s1.fromString(n);return le(Fq(e)),e}function c5(n,e){return mz(n.databaseId,e.path)}function Si(n,e){const t=Hq(e);if(t.get(1)!==n.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(xq(t))}function gz(n,e){return mz(n.databaseId,e)}function l5(n){return new s1(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xq(n){return le(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Aq(n,e,t){return{name:c5(n,e),fields:t.value.mapValue.fields}}function kq(n,e){return{documents:[gz(n,e.path)]}}function _z(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=gz(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=gz(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Pq(w1.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:C4((u=l).field),direction:KVe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=pz(n,e.limit);var a,c;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function Rq(n){let e=function Iq(n){const e=Hq(n);return 4===e.length?s1.emptyPath():xq(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){le(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const f=Oq(u);return f instanceof w1&&ez(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new bc(Dc((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let a=null;t.limit&&(a=function(u){let f;return f="object"==typeof u?u.value:u,W8(f)?null:f}(t.limit));let c=null;var u;t.startAt&&(c=new y4((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new y4(u.values||[],!u.before)}(t.endAt)),function JW(n,e,t,r,i,s,o,a){return new y3(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function Oq(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dc(e.unaryFilter.field);return Xe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Dc(e.unaryFilter.field);return Xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Dc(e.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Dc(e.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(n):void 0!==n.fieldFilter?Xe.create(Dc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return w1.create(e.compositeFilter.filters.map(t=>Oq(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(n):re();var e}function KVe(n){return PVe[n]}function YVe(n){return FVe[n]}function QVe(n){return BVe[n]}function C4(n){return{fieldPath:n.canonicalString()}}function Dc(n){return Nt.fromServerFormat(n.fieldPath)}function Pq(n){return n instanceof Xe?function(e){if("=="===e.op){if(RW(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NAN"}};if(kW(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(RW(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NOT_NAN"}};if(kW(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:C4(e.field),op:YVe(e.op),value:e.value}}}(n):n instanceof w1?function(e){const t=e.getFilters().map(r=>Pq(r));return 1===t.length?t[0]:{compositeFilter:{op:QVe(e.op),filters:t}}}(n):re()}function ZVe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class M3{constructor(e,t,r,i,s=fe.min(),o=fe.min(),a=Jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new M3(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new M3(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new M3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new M3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bq{constructor(e){this.le=e}}function yz(n){const e=Rq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?sd(e,e.limit,"L"):e}class eo{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),q8(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(_3(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?OW(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):re()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),W.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}eo.be=new eo;class oHe{constructor(){this.sn=new zz}addToCollectionParentIndex(e,t){return this.sn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(jn.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class zz{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new q1(s1.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new q1(s1.comparator)).toArray()}}new Uint8Array(0);class $2{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $2(e,$2.DEFAULT_COLLECTION_PERCENTILE,$2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$2.DEFAULT_COLLECTION_PERCENTILE=10,$2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$2.DEFAULT=new $2(41943040,$2.DEFAULT_COLLECTION_PERCENTILE,$2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$2.DISABLED=new $2(-1,0,0);class no{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new no(0)}static kn(){return new no(-1)}}class dHe{constructor(){this.changes=new C3(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,K1.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mHe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hK{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&i5(r.mutation,i,Mn.empty(),at.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){const i=wi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=t5();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=wi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=wn();const o=n5(),a=n5();return t.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof b3)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),i5(u.mutation,l,u.mutation.getFieldMask(),at.now())):o.set(l.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var f;return a.set(l,new mHe(u,null!==(f=o.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=n5();let i=new R1((o,a)=>o-a),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=r.get(c)||Mn.empty();u=a.applyToLocalView(l,u),r.set(c,u);const f=(i.get(a.batchId)||ke()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,f=oq();u.forEach(d=>{if(!s.has(d)){const h=mq(t.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return W.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function iz(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):z.resolve(wi());let a=-1,c=s;return o.next(l=>z.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ke())).next(u=>({batchId:a,changes:sq(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=t5();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=t5();return this.indexManager.getCollectionParents(e,i).next(o=>z.forEach(o,a=>{const c=(l=t,u=a.child(i),new y3(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,K1.newInvalidDocument(l)))});let o=t5();return s.forEach((a,c)=>{const l=i.get(a);void 0!==l&&i5(l.mutation,c,Mn.empty(),at.now()),e5(t,c)&&(o=o.insert(a,c))}),o})}}class gHe{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return z.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Dt(r.createTime)}),z.resolve()}getNamedQuery(e,t){return z.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:yz(r.bundledQuery),readTime:Dt(r.readTime)}),z.resolve();var r}}class vHe{constructor(){this.overlays=new R1(W.comparator),this.hs=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wi();return z.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.de(e,t,s)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=wi(),s=t.length+1,o=new W(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new R1((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=wi(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=wi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return z.resolve(a)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fz(t,r));let s=this.hs.get(t);void 0===s&&(s=ke(),this.hs.set(t,s)),this.hs.set(t,s.add(r.key))}}class Ez{constructor(){this.ls=new q1(d2.fs),this.ds=new q1(d2._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new d2(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new d2(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new W(new s1([])),r=new d2(t,e),i=new d2(t,e+1),s=[];return this.ds.forEachInRange([r,i],o=>{this.gs(o),s.push(o.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new W(new s1([])),r=new d2(t,e),i=new d2(t,e+1);let s=ke();return this.ds.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new d2(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class d2{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return W.comparator(e.key,t.key)||ze(e.Es,t.Es)}static _s(e,t){return ze(e.Es,t.Es)||W.comparator(e.key,t.key)}}class _He{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new q1(d2.fs)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.As;this.As++;const o=new lz(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new d2(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,t){return z.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new d2(t,0),i=new d2(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.vs(o.Es);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new q1(ze);return t.forEach(i=>{const s=new d2(i,0),o=new d2(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.Es)})}),z.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;W.isDocumentKey(s)||(s=s.child(""));const o=new d2(new W(s),0);let a=new q1(ze);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Es)),!0)},o),z.resolve(this.bs(a))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){le(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return z.forEach(t.mutations,i=>{const s=new d2(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new d2(t,0),i=this.Rs.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return z.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yHe{constructor(e){this.Ss=e,this.docs=new R1(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():K1.newInvalidDocument(t))}getEntries(e,t){let r=wn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():K1.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=wn();const o=t.path,a=new W(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||qS(bW(u),r)<=0||(i.has(u.key)||e5(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,t,r,i){re()}Ds(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CHe(this)}getSize(e){return z.resolve(this.size)}}class CHe extends dHe{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class bHe{constructor(e){this.persistence=e,this.Cs=new C3(t=>qs(t),X8),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Ez,this.targetCount=0,this.ks=no.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),z.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new no(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.$n(t),z.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Cs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Cs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.Ns.containsKey(t))}}class Tz{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Wn(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new bHe(this),this.indexManager=new oHe,this.remoteDocumentCache=new yHe(r=>this.referenceDelegate.Bs(r)),this.serializer=new Bq(t),this.Ls=new gHe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vHe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new _He(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);const i=new MHe(this.Os.next());return this.referenceDelegate.qs(),r(i).next(s=>this.referenceDelegate.Us(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ks(e,t){return z.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class MHe extends $De{constructor(e){super(),this.currentSequenceNumber=e}}class yd{constructor(e){this.persistence=e,this.Gs=new Ez,this.Qs=null}static js(e){return new yd(e)}get zs(){if(this.Qs)return this.Qs;throw re()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),z.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.zs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.zs,r=>{const i=W.fromPath(r);return this.Ws(e,i).next(s=>{s||t.removeEntry(i,fe.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return z.or([()=>z.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Hz{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=ke(),i=ke();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hz(e,t.fromCache,r,i)}}class mK{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(s=>s||this.Ki(e,t,i,r)).next(s=>s||this.Gi(e,t))}Ui(e,t){if(eq(t))return z.resolve(null);let r=nn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=sd(t,null,"F"),r=nn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ke(...s);return this.qi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Qi(t,a);return this.ji(t,l,o,c.readTime)?this.Ui(e,sd(t,null,"F")):this.zi(e,l,t,c)}))})))}Ki(e,t,r,i){return eq(t)||i.isEqual(fe.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(s=>{const o=this.Qi(t,s);return this.ji(t,o,r,i)?this.Gi(e,t):(GS()<=Qe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oz(t)),this.zi(e,o,t,function CW(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(1e9===r?new at(t+1,0):new at(t,r));return new jn(i,W.empty(),e)}(i,-1)))})}Qi(e,t){let r=new q1(rq(e));return t.forEach((i,s)=>{e5(e,s)&&(r=r.add(s))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Gi(e,t){return GS()<=Qe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",oz(t)),this.qi.getDocumentsMatchingQuery(e,t,jn.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class SHe{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new R1(ze),this.Ji=new C3(s=>qs(s),X8),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hK(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function vK(n,e){return Iz.apply(this,arguments)}function Iz(){return Iz=v(function*(n,e){const t=K(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ke();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({tr:l,removedBatchIds:o,addedBatchIds:a}))})})}),Iz.apply(this,arguments)}function _K(n){const e=K(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function THe(n,e){const t=K(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xc(n,e,t){return xz.apply(this,arguments)}function xz(){return xz=v(function*(n,e,t){const r=K(n),i=r.Hi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!h4(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),xz.apply(this,arguments)}function Md(n,e,t){const r=K(n);let i=fe.min(),s=ke();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=K(a),f=u.Ji.get(l);return void 0!==f?z.resolve(u.Hi.get(f)):u.Fs.getTargetData(c,l)}(r,o,nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Wi.getDocumentsMatchingQuery(o,e,t?i:fe.min(),t?s:ke())).next(a=>(function MK(n,e,t){let r=n.Yi.get(e)||fe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Yi.set(e,r)}(r,function nq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,sr:s})))}class Oz{constructor(){this.activeTargetIds=function az(){return NVe}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zK{constructor(){this.Wr=new Oz,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Oz,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VHe{Jr(e){}shutdown(){}}class EK{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zd=null;function Fz(){return null===zd?zd=268435456+Math.round(2147483648*Math.random()):zd++,"0x"+zd.toString(16)}const HHe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IHe{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const G2="WebChannelConnection";class xHe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,s){const o=Fz(),a=this.Io(e,t);U("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.To(c,i,s),this.Eo(e,a,c,r).then(l=>(U("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Pr("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}Ao(e,t,r,i,s,o){return this.po(e,t,r,i,s)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Io(e,t){return`${this.wo}/v1/${t}:${HHe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const s=Fz();return new Promise((o,a)=>{const c=new HDe;c.setWithCredentials(!0),c.listenOnce(NDe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $S.NO_ERROR:const u=c.getResponseJson();U(G2,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case $S.TIMEOUT:U(G2,`RPC '${e}' ${s} timed out`),a(new F(N.DEADLINE_EXCEEDED,"Request time out"));break;case $S.HTTP_ERROR:const f=c.getStatus();if(U(G2,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(g)>=0?g:N.UNKNOWN}(h.status);a(new F(p,h.message))}else a(new F(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new F(N.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{U(G2,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);U(G2,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=Fz(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EDe(),a=TDe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new VDe({})),this.To(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const l=s.join("");U(G2,`Creating RPC '${e}' stream ${i}: ${l}`,c);const u=o.createWebChannel(l,c);let f=!1,d=!1;const h=new IHe({io:m=>{d?U(G2,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(U(G2,`Opening RPC '${e}' stream ${i} transport.`),u.open(),f=!0),U(G2,`RPC '${e}' stream ${i} sending:`,m),u.send(m))},ro:()=>u.close()}),p=(m,g,_)=>{m.listen(g,b=>{try{_(b)}catch(y){setTimeout(()=>{throw y},0)}})};return p(u,jf.EventType.OPEN,()=>{d||U(G2,`RPC '${e}' stream ${i} transport opened.`)}),p(u,jf.EventType.CLOSE,()=>{d||(d=!0,U(G2,`RPC '${e}' stream ${i} transport closed`),h.fo())}),p(u,jf.EventType.ERROR,m=>{d||(d=!0,Pr(G2,`RPC '${e}' stream ${i} transport errored:`,m),h.fo(new F(N.UNAVAILABLE,"The operation could not be completed")))}),p(u,jf.EventType.MESSAGE,m=>{var g;if(!d){const _=m.data[0];le(!!_);const y=_.error||(null===(g=_[0])||void 0===g?void 0:g.error);if(y){U(G2,`RPC '${e}' stream ${i} received error:`,y);const T=y.status;let A=function(J){const de=Bt[J];if(void 0!==de)return bq(de)}(T),k=y.message;void 0===A&&(A=N.INTERNAL,k="Unknown error status: "+T+" with message "+y.message),d=!0,h.fo(new F(A,k)),u.close()}else U(G2,`RPC '${e}' stream ${i} received:`,_),h._o(_)}}),p(a,DDe.STAT_EVENT,m=>{m.stat===pW.PROXY?U(G2,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===pW.NOPROXY&&U(G2,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.lo()},0),h}}function Ed(){return typeof document<"u"?document:null}function y5(n){return new UVe(n,!0)}class Bz{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class NK{constructor(e,t,r,i,s,o,a,c){this.si=e,this.Mo=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Bz(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return v(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return v(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return v(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Tt(t.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new F(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo(v(function*(){e.state=0,e.start()}))}Zo(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AHe extends NK{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function jVe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:re(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(le(void 0===l||"string"==typeof l),Jt.fromBase64String(l||"")):(le(void 0===l||l instanceof Uint8Array),Jt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?N.UNKNOWN:bq(c.code);return new F(l,c.message||"")}(o);t=new Eq(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Si(n,r.document.name),s=Dt(r.document.updateTime),o=r.document.createTime?Dt(r.document.createTime):fe.min(),a=new V2({mapValue:{fields:r.document.fields}}),c=K1.newFoundDocument(i,s,o,a);t=new ud(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Si(n,r.document),s=r.readTime?Dt(r.readTime):fe.min(),o=K1.newNoDocument(i,s);t=new ud([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Si(n,r.document);t=new ud([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return re();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new kVe(i,s);t=new zq(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Dt(s.readTime):fe.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=l5(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=nd(a)?{documents:kq(i,a)}:{query:_z(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Vq(i,s.resumeToken);const c=pz(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(fe.min())>0){o.readTime=Nc(i,s.snapshotVersion.toTimestamp());const c=pz(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function qVe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=l5(this.serializer),t.removeTarget=e,this.zo(t)}}class LHe extends NK{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function WVe(n,e){return n&&n.length>0?(le(void 0!==e),n.map(t=>function(r,i){let s=Dt(r.updateTime?r.updateTime:i);return s.isEqual(fe.min())&&(s=Dt(i)),new IVe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Dt(e.commitTime);return this.listener.uu(r,t)}return le(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=l5(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function u5(n,e){let t;if(e instanceof Ec)t={update:Aq(n,e.key,e.value)};else if(e instanceof Tc)t={delete:c5(n,e.key)};else if(e instanceof b3)t={update:Aq(n,e.key,e.data),updateMask:ZVe(e.fieldMask)};else{if(!(e instanceof cz))return re();t={verify:c5(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Sc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof zc)return{fieldPath:s.field.canonicalString(),increment:o.wt};throw re()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:$Ve(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:re()),t;var i}(this.serializer,r))};this.zo(t)}}class kHe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(N.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ao(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(N.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class OHe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Tt(t),this.wu=!1):U("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class PHe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(a=>{r.enqueueAndForget(v(function*(){var c;S4(o)&&(U("RemoteStore","Restarting streams for network reachability change."),yield(c=v(function*(l){const u=K(l);u.Au.add(4),yield Ac(u),u.Pu.set("Unknown"),u.Au.delete(4),yield C5(u)}),function(l){return c.apply(this,arguments)})(o))}))}),this.Pu=new OHe(r,i)}}function C5(n){return $z.apply(this,arguments)}function $z(){return $z=v(function*(n){if(S4(n))for(const e of n.Ru)yield e(!0)}),$z.apply(this,arguments)}function Ac(n){return Gz.apply(this,arguments)}function Gz(){return Gz=v(function*(n){for(const e of n.Ru)yield e(!1)}),Gz.apply(this,arguments)}function Td(n,e){const t=K(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),qz(t)?Wz(t):kc(t).Uo()&&jz(t,e))}function b5(n,e){const t=K(n),r=kc(t);t.Eu.delete(e),r.Uo()&&DK(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():S4(t)&&t.Pu.set("Unknown"))}function jz(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kc(n).nu(e)}function DK(n,e){n.bu.Lt(e),kc(n).su(e)}function Wz(n){n.bu=new OVe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),kc(n).start(),n.Pu.mu()}function qz(n){return S4(n)&&!kc(n).qo()&&n.Eu.size>0}function S4(n){return 0===K(n).Au.size}function HK(n){n.bu=void 0}function FHe(n){return Kz.apply(this,arguments)}function Kz(){return Kz=v(function*(n){n.Eu.forEach((e,t)=>{jz(n,e)})}),Kz.apply(this,arguments)}function BHe(n,e){return Yz.apply(this,arguments)}function Yz(){return Yz=v(function*(n,e){HK(n),qz(n)?(n.Pu.pu(e),Wz(n)):n.Pu.set("Unknown")}),Yz.apply(this,arguments)}function UHe(n,e,t){return Qz.apply(this,arguments)}function Qz(){return Qz=v(function*(n,e,t){if(n.Pu.set("Online"),e instanceof Eq&&2===e.state&&e.cause)try{yield(r=v(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Eu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Eu.delete(a),i.bu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Nd(n,r)}else if(e instanceof ud?n.bu.Wt(e):e instanceof zq?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(fe.min()))try{const r=yield _K(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.bu.ue(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Eu.get(c);l&&i.Eu.set(c,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const l=i.Eu.get(a);if(!l)return;i.Eu.set(a,l.withResumeToken(Jt.EMPTY_BYTE_STRING,l.snapshotVersion)),DK(i,a);const u=new M3(l.target,a,c,l.sequenceNumber);jz(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield Nd(n,r)}var r}),Qz.apply(this,arguments)}function Nd(n,e,t){return Zz.apply(this,arguments)}function Zz(){return Zz=v(function*(n,e,t){if(!h4(e))throw e;n.Au.add(1),yield Ac(n),n.Pu.set("Offline"),t||(t=()=>_K(n.localStore)),n.asyncQueue.enqueueRetryable(v(function*(){U("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield C5(n)}))}),Zz.apply(this,arguments)}function IK(n,e){return e().catch(t=>Nd(n,t,e))}function Lc(n){return Xz.apply(this,arguments)}function Xz(){return Xz=v(function*(n){const e=K(n),t=z4(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;$He(e);)try{const i=yield THe(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,GHe(e,i)}catch(i){yield Nd(e,i)}xK(e)&&AK(e)}),Xz.apply(this,arguments)}function $He(n){return S4(n)&&n.Tu.length<10}function GHe(n,e){n.Tu.push(e);const t=z4(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function xK(n){return S4(n)&&!z4(n).qo()&&n.Tu.length>0}function AK(n){z4(n).start()}function jHe(n){return Jz.apply(this,arguments)}function Jz(){return Jz=v(function*(n){z4(n).au()}),Jz.apply(this,arguments)}function WHe(n){return eE.apply(this,arguments)}function eE(){return eE=v(function*(n){const e=z4(n);for(const t of n.Tu)e.ou(t.mutations)}),eE.apply(this,arguments)}function qHe(n,e,t){return tE.apply(this,arguments)}function tE(){return tE=v(function*(n,e,t){const r=n.Tu.shift(),i=uz.from(r,e,t);yield IK(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lc(n)}),tE.apply(this,arguments)}function KHe(n,e){return nE.apply(this,arguments)}function nE(){return nE=v(function*(n,e){var t;e&&z4(n).ru&&(yield(t=v(function*(r,i){if(function Cq(n){switch(n){default:return re();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(s=i.code)&&s!==N.ABORTED){const o=r.Tu.shift();z4(r).Go(),yield IK(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Lc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),xK(n)&&AK(n)}),nE.apply(this,arguments)}function LK(n,e){return rE.apply(this,arguments)}function rE(){return rE=v(function*(n,e){const t=K(n);t.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=S4(t);t.Au.add(3),yield Ac(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield C5(t)}),rE.apply(this,arguments)}function sE(){return sE=v(function*(n,e){const t=K(n);e?(t.Au.delete(2),yield C5(t)):e||(t.Au.add(2),yield Ac(t),t.Pu.set("Unknown"))}),sE.apply(this,arguments)}function kc(n){return n.Vu||(n.Vu=function(e,t,r){const i=K(e);return i.lu(),new AHe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:FHe.bind(null,n),co:BHe.bind(null,n),eu:UHe.bind(null,n)}),n.Ru.push(function(){var e=v(function*(t){t?(n.Vu.Go(),qz(n)?Wz(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),HK(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function z4(n){return n.Su||(n.Su=function(e,t,r){const i=K(e);return i.lu(),new LHe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:jHe.bind(null,n),co:KHe.bind(null,n),cu:WHe.bind(null,n),uu:qHe.bind(null,n)}),n.Ru.push(function(){var e=v(function*(t){t?(n.Su.Go(),yield Lc(n)):(yield n.Su.stop(),n.Tu.length>0&&(U("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class oE{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new oE(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rc(n,e){if(Tt("AsyncQueue",`${e}: ${n}`),h4(n))return new F(N.UNAVAILABLE,`${e}: ${n}`);throw n}class Oc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=t5(),this.sortedSet=new R1(this.comparator)}static emptySet(e){return new Oc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class kK{constructor(){this.Du=new R1(W.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):re():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pc{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Pc(e,t,Oc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J8(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class YHe{constructor(){this.xu=void 0,this.listeners=[]}}class QHe{constructor(){this.queries=new C3(e=>tq(e),J8),this.onlineState="Unknown",this.Nu=new Set}}function aE(n,e){return cE.apply(this,arguments)}function cE(){return cE=v(function*(n,e){const t=K(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new YHe),i)try{s.xu=yield t.onListen(r)}catch(o){const a=Rc(o,`Initialization of query '${oz(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.ku(t.onlineState),s.xu&&e.Mu(s.xu)&&fE(t)}),cE.apply(this,arguments)}function lE(n,e){return uE.apply(this,arguments)}function uE(){return uE=v(function*(n,e){const t=K(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),uE.apply(this,arguments)}function ZHe(n,e){const t=K(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Mu(i)&&(r=!0);o.xu=i}}r&&fE(t)}function XHe(n,e,t){const r=K(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function fE(n){n.Nu.forEach(e=>{e.next()})}class dE{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class PK{constructor(e){this.key=e}}class FK{constructor(e){this.key=e}}class BK{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=ke(),this.mutatedKeys=ke(),this.Zu=rq(e),this.tc=new Oc(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new kK,i=t?t.tc:this.tc;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=e5(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.ic(d,h)||(r.track({type:2,doc:h}),g=!0,(c&&this.Zu(h,c)>0||l&&this.Zu(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),g=!0):d&&!h&&(r.track({type:1,doc:d}),g=!0,(c||l)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tc:o,sc:r,ji:a,mutatedKeys:s}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const s=e.sc.Cu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return h(f)-h(d)}(l.type,u.type)||this.Zu(l.doc,u.doc)),this.rc(r);const o=t?this.oc():[],a=0===this.Xu.size&&this.current?1:0,c=a!==this.Yu;return this.Yu=a,0!==s.length||c?{snapshot:new Pc(this.query,e.tc,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new kK,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=ke(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new FK(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new PK(r))}),t}ac(e){this.Ju=e.sr,this.Xu=ke();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Pc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class tIe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nIe{constructor(e){this.key=e,this.lc=!1}}class rIe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new C3(a=>tq(a),J8),this._c=new Map,this.wc=new Set,this.mc=new R1(W.comparator),this.gc=new Map,this.yc=new Ez,this.Ic={},this.Tc=new Map,this.Ec=no.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function iIe(n,e){return hE.apply(this,arguments)}function hE(){return hE=v(function*(n,e){const t=function kE(n){const e=K(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hIe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aIe.bind(null,e),e.fc.eu=ZHe.bind(null,e.eventManager),e.fc.vc=XHe.bind(null,e.eventManager),e}(n);let r,i;const s=t.dc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.hc();else{const o=yield function Ic(n,e){const t=K(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):t.Fs.allocateTargetId(r).next(o=>(i=new M3(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}(t.localStore,nn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function pE(n,e,t,r,i){return mE.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Td(t.remoteStore,o)}return i}),hE.apply(this,arguments)}function mE(){return mE=v(function*(n,e,t,r,i){n.Rc=(f,d,h)=>{return(p=v(function*(m,g,_,b){let y=g.view.nc(_);y.ji&&(y=yield Md(m.localStore,g.query,!1).then(({documents:k})=>g.view.nc(k,y)));const T=b&&b.targetChanges.get(g.targetId),A=g.view.applyChanges(y,m.isPrimaryClient,T);return zE(m,g.targetId,A.uc),A.snapshot}),function(m,g,_,b){return p.apply(this,arguments)})(n,f,d,h);var p};const s=yield Md(n.localStore,e,!0),o=new BK(e,s.sr),a=o.nc(s.documents),c=a5.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,c);zE(n,t,l.uc);const u=new tIe(e,t,o);return n.dc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),mE.apply(this,arguments)}function sIe(n,e){return gE.apply(this,arguments)}function gE(){return gE=v(function*(n,e){const t=K(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!J8(s,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),b5(t.remoteStore,r.targetId),Fc(t,r.targetId)}).catch(d4))):(Fc(t,r.targetId),yield xc(t.localStore,r.targetId,!0))}),gE.apply(this,arguments)}function vE(){return vE=v(function*(n,e,t){const r=function RE(n){const e=K(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cIe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lIe.bind(null,e),e}(n);try{const i=yield function(s,o){const a=K(s),c=at.now(),l=o.reduce((d,h)=>d.add(h.key),ke());let u,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=wn(),p=ke();return a.Xi.getEntries(d,l).next(m=>{h=m,h.forEach((g,_)=>{_.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,h)).next(m=>{u=m;const g=[];for(const _ of o){const b=AVe(_,u.get(_.key).overlayedDocument);null!=b&&g.push(new b3(_.key,b,BW(b.value.mapValue),et.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,g,o)}).next(m=>{f=m;const g=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,m.batchId,g)})}).then(()=>({batchId:f.batchId,changes:sq(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Ic[s.currentUser.toKey()];c||(c=new R1(ze)),c=c.insert(o,a),s.Ic[s.currentUser.toKey()]=c}(r,i.batchId,t),yield w3(r,i.changes),yield Lc(r.remoteStore)}catch(i){const s=Rc(i,"Failed to persist write");t.reject(s)}}),vE.apply(this,arguments)}function UK(n,e){return _E.apply(this,arguments)}function _E(){return _E=v(function*(n,e){const t=K(n);try{const r=yield function EHe(n,e){const t=K(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const a=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;a.push(t.Fs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>t.Fs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,m,g;null!==e.targetMismatches.get(f)?h=h.withResumeToken(Jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),m=h,g=u,(0===(p=d).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Fs.updateTargetData(s,h))});let c=wn(),l=ke();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function yK(n,e,t){let r=ke(),i=ke();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=wn();return t.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{er:o,nr:i}})}(s,o,e.documentUpdates).next(u=>{c=u.er,l=u.nr})),!r.isEqual(fe.min())){const u=t.Fs.getLastRemoteSnapshotVersion(s).next(f=>t.Fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.Hi=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.gc.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.lc=!0:i.modifiedDocuments.size>0?le(o.lc):i.removedDocuments.size>0&&(le(o.lc),o.lc=!1))}),yield w3(t,r,e)}catch(r){yield d4(r)}}),_E.apply(this,arguments)}function $K(n,e,t){const r=K(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((s,o)=>{const a=o.view.ku(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=K(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const f of u.listeners)f.ku(o)&&(c=!0)}),c&&fE(a)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aIe(n,e,t){return yE.apply(this,arguments)}function yE(){return yE=v(function*(n,e,t){const r=K(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),s=i&&i.key;if(s){let o=new R1(W.comparator);o=o.insert(s,K1.newNoDocument(s,fe.min()));const a=ke().add(s),c=new o5(fe.min(),new Map,new R1(ze),o,a);yield UK(r,c),r.mc=r.mc.remove(s),r.gc.delete(e),EE(r)}else yield xc(r.localStore,e,!1).then(()=>Fc(r,e,t)).catch(d4)}),yE.apply(this,arguments)}function cIe(n,e){return CE.apply(this,arguments)}function CE(){return CE=v(function*(n,e){const t=K(n),r=e.batch.batchId;try{const i=yield function zHe(n,e){const t=K(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Xi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,f=u.keys();let d=z.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(a,h)).next(p=>{const m=c.docVersions.get(h);le(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ke();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);SE(t,r,null),wE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield w3(t,i)}catch(i){yield d4(i)}}),CE.apply(this,arguments)}function lIe(n,e,t){return bE.apply(this,arguments)}function bE(){return bE=v(function*(n,e,t){const r=K(n);try{const i=yield function(s,o){const a=K(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(le(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);SE(r,e,t),wE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield w3(r,i)}catch(i){yield d4(i)}}),bE.apply(this,arguments)}function wE(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function SE(n,e,t){const r=K(n);let i=r.Ic[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Fc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||GK(n,r)})}function GK(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(b5(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),EE(n))}function zE(n,e,t){for(const r of t)r instanceof PK?(n.yc.addReference(r.key,e),fIe(n,r)):r instanceof FK?(U("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||GK(n,r.key)):re()}function fIe(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(U("SyncEngine","New document in limbo: "+t),n.wc.add(r),EE(n))}function EE(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new W(s1.fromString(e)),r=n.Ec.next();n.gc.set(r,new nIe(t)),n.mc=n.mc.insert(t,r),Td(n.remoteStore,new M3(nn(wc(t.path)),r,"TargetPurposeLimboResolution",Wn.ct))}}function w3(n,e,t){return TE.apply(this,arguments)}function TE(){return TE=v(function*(n,e,t){const r=K(n),i=[],s=[],o=[];var a;r.dc.isEmpty()||(r.dc.forEach((a,c)=>{o.push(r.Rc(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=Hz.Bi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.fc.eu(i),yield(a=v(function*(c,l){const u=K(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(l,d=>z.forEach(d.$i,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>z.forEach(d.Fi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!h4(f))throw f;U("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Hi.get(d),m=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Hi=u.Hi.insert(d,m)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,s))}),TE.apply(this,arguments)}function dIe(n,e){return NE.apply(this,arguments)}function NE(){return NE=v(function*(n,e){const t=K(n);if(!t.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=yield vK(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(o=>{o.forEach(a=>{a.reject(new F(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield w3(t,r.tr)}var i}),NE.apply(this,arguments)}function hIe(n,e){const t=K(n),r=t.gc.get(e);if(r&&r.lc)return ke().add(r.key);{let i=ke();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.dc.get(o);i=i.unionWith(a.view.ec)}return i}}class Dd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return v(function*(){t.serializer=y5(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function gK(n,e,t,r){return new SHe(n,e,t,r)}(this.persistence,new mK,e.initialUser,this.serializer)}createPersistence(e){return new Tz(yd.js,this.serializer)}createSharedClientState(e){return new zK}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bc{initialize(e,t){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$K(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dIe.bind(null,r.syncEngine),yield function iE(n,e){return sE.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new QHe}createDatastore(e){const t=y5(e.databaseInfo.databaseId),r=new xHe(e.databaseInfo);return new kHe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>$K(this.syncEngine,a,0),o=EK.D()?new EK:new VHe,new PHe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,c,l){const u=new rIe(r,i,s,o,a,c);return l&&(u.Ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=v(function*(t){const r=K(t);U("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield Ac(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Vd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Tt("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class EIe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=u2.UNAUTHENTICATED,this.clientId=_W.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){U("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Rc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Hd(n,e){return OE.apply(this,arguments)}function OE(){return OE=v(function*(n,e){n.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield vK(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),OE.apply(this,arguments)}function PE(n,e){return FE.apply(this,arguments)}function FE(){return FE=v(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function BE(n){return UE.apply(this,arguments)}(n);U("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>LK(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>LK(e.remoteStore,s)),n._onlineComponents=e}),FE.apply(this,arguments)}function UE(){return UE=v(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Hd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function QK(n){return"FirebaseError"===n.name?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Pr("Error using user provided cache. Falling back to memory cache: "+t),yield Hd(n,new Dd)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Hd(n,new Dd);return n._offlineComponents}),UE.apply(this,arguments)}function Id(n){return $E.apply(this,arguments)}function $E(){return $E=v(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield PE(n,n._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield PE(n,new Bc))),n._onlineComponents}),$E.apply(this,arguments)}function Uc(n){return jE.apply(this,arguments)}function jE(){return jE=v(function*(n){const e=yield Id(n),t=e.eventManager;return t.onListen=iIe.bind(null,e.syncEngine),t.onUnlisten=sIe.bind(null,e.syncEngine),t}),jE.apply(this,arguments)}const nY=new Map;function WE(n,e,t){if(!t)throw new F(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rY(n){if(!W.isDocumentKey(n))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iY(n){if(W.isDocumentKey(n))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ad(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":re()}function t1(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ad(n);throw new F(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class oY{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new F(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function LIe(n,e,t,r){if(!0===e&&!0===r)throw new F(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class M5{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oY({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oY(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xDe;switch(t.type){case"firstParty":return new RDe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nY.get(e);t&&(U("ComponentProvider","Removing Datastore"),nY.delete(e),t.terminate())}(this),Promise.resolve()}}class Vt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class H2{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new H2(this.firestore,e,this._query)}}class zi extends H2{constructor(e,t,r){super(e,t,wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new W(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function RIe(n,e,...t){if(n=l1(n),WE("collection","path",e),n instanceof M5){const r=s1.fromString(e,...t);return iY(r),new zi(n,null,r)}{if(!(n instanceof Vt||n instanceof zi))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(s1.fromString(e,...t));return iY(r),new zi(n.firestore,null,r)}}function aY(n,e,...t){if(n=l1(n),1===arguments.length&&(e=_W.A()),WE("doc","path",e),n instanceof M5){const r=s1.fromString(e,...t);return rY(r),new Vt(n,null,new W(r))}{if(!(n instanceof Vt||n instanceof zi))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(s1.fromString(e,...t));return rY(r),new Vt(n.firestore,n instanceof zi?n.converter:null,new W(r))}}class OIe{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Bz(this,"async_queue_retry"),this.Yc=()=>{const t=Ed();t&&U("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Ed();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Ed();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Xt;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return v(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!h4(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Tt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=oE.createAndSchedule(this,e,t,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&re()}verifyOperationInProgress(){}na(){var e=this;return v(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function qE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Y1 extends M5{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new OIe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||lY(this),this._firestoreClient.terminate()}}function FIe(n,e){const r="string"==typeof n?n:e||"(default)",i=yn("object"==typeof n?n:ui(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=E9("firestore");s&&function kIe(n,e,t,r={}){var i;const s=(n=t1(n,M5))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=u2.MOCK_USER;else{o=Sy(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new u2(c)}n._authCredentials=new ADe(new gW(o,a))}}(i,...s)}return i}function Ut(n){return n._firestoreClient||lY(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lY(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hVe(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams));var a,l;n._firestoreClient=new EIe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(Jt.fromBase64String(e))}catch(t){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new io(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $c{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class KE{constructor(e){this._methodName=e}}class YE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const UIe=/^__.*__$/;class $Ie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new b3(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}class dY{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new b3(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hY(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Ld{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Rd(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(hY(this.ua)&&UIe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class GIe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||y5(e)}ga(e,t,r,i=!1){return new Ld({ua:e,methodName:t,ma:r,path:Nt.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gc(n){const e=n._freezeSettings(),t=y5(n._databaseId);return new GIe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QE(n,e,t,r,i,s={}){const o=n.ga(s.merge||s.mergeFields?2:0,e,t,i);XE("Data must be an object, but it was:",o,r);const a=_Y(r,o);let c,l;if(s.merge)c=new Mn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=z5(e,f,t);if(!o.contains(d))throw new F(N.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);CY(u,d)||u.push(d)}c=new Mn(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new $Ie(new V2(a),c,l)}class S5 extends KE{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S5}}function so(n,e){if(yY(n=l1(n)))return XE("Unsupported field value:",e,n),_Y(n,e);if(n instanceof KE)return function(t,r){if(!hY(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=so(o,r.da(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=l1(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lq(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=at.fromDate(t);return{timestampValue:Nc(r.serializer,i)}}if(t instanceof at){const i=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nc(r.serializer,i)}}if(t instanceof YE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof io)return{bytesValue:Vq(r.serializer,t._byteString)};if(t instanceof Vt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mz(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Ad(t)}`)}(n,e)}function _Y(n,e){const t={};return IW(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):p4(n,(r,i)=>{const s=so(i,e.aa(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function yY(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof at||n instanceof YE||n instanceof io||n instanceof Vt||n instanceof KE)}function XE(n,e,t){if(!yY(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ad(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function z5(n,e,t){if((e=l1(e))instanceof $c)return e._internalPath;if("string"==typeof e)return kd(n,e);throw Rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const KIe=new RegExp("[~\\*/\\[\\]]");function kd(n,e,t){if(e.search(KIe)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $c(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rd(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new F(N.INVALID_ARGUMENT,a+n+c)}function CY(n,e){return n.some(t=>t.isEqual(e))}class JE{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new YIe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Od("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class YIe extends JE{data(){return super.data()}}function Od(n,e){return"string"==typeof e?kd(n,e):e instanceof $c?e._internalPath:e._delegate._internalPath}class ZIe{convertValue(e,t="none"){switch(v4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_3(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return p4(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new YE(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(K8(e));default:return null}}convertTimestamp(e){const t=m4(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=s1.fromString(e);le(Fq(r));const i=new js(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(t)||Tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class oo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends JE{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Od("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ud extends Wc{data(e={}){return super.data(e)}}class qc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ud(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ud(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ud(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:JIe(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JIe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function exe(n){n=t1(n,Vt);const e=t1(n.firestore,Y1);return function eY(n,e,t={}){const r=new Xt;return n.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,c){const l=new Vd({next:f=>{s.enqueueAndForget(()=>lE(i,u));const d=f.docs.has(o);!d&&f.fromCache?c.reject(new F(N.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&a&&"server"===a.source?c.reject(new F(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),u=new dE(wc(o.path),l,{includeMetadataChanges:!0,Uu:!0});return aE(i,u)}(yield Uc(n),n.asyncQueue,e,t,r)})),r.promise}(Ut(e),n._key).then(t=>nT(e,n,t))}class E4 extends ZIe{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}}function txe(n,e,t,...r){n=t1(n,Vt);const i=t1(n.firestore,Y1),s=Gc(i);let o;return o="string"==typeof(e=l1(e))||e instanceof $c?function gY(n,e,t,r,i,s){const o=n.ga(1,e,t),a=[z5(e,r,t)],c=[i];if(s.length%2!=0)throw new F(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(z5(e,s[d])),c.push(s[d+1]);const l=[],u=V2.empty();for(let d=a.length-1;d>=0;--d)if(!CY(l,a[d])){const h=a[d];let p=c[d];p=l1(p);const m=o.fa(h);if(p instanceof S5)l.push(h);else{const g=so(p,m);null!=g&&(l.push(h),u.set(h,g))}}const f=new Mn(l);return new dY(u,f,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function mY(n,e,t,r){const i=n.ga(1,e,t);XE("Data must be an object, but it was:",i,r);const s=[],o=V2.empty();p4(r,(c,l)=>{const u=kd(e,c,t);l=l1(l);const f=i.fa(u);if(l instanceof S5)s.push(u);else{const d=so(l,f);null!=d&&(s.push(u),o.set(u,d))}});const a=new Mn(s);return new dY(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),T5(i,[o.toMutation(n._key,et.exists(!0))])}function nxe(n){return T5(t1(n.firestore,Y1),[new Tc(n._key,et.none())])}function rxe(n,e){const t=t1(n.firestore,Y1),r=aY(n),i=function tT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return T5(t,[QE(Gc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}function T5(n,e){return function(t,r){const i=new Xt;return t.asyncQueue.enqueueAndForget(v(function*(){return function oIe(n,e,t){return vE.apply(this,arguments)}(yield function GE(n){return Id(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Ut(n),e)}function nT(n,e,t){const r=t.docs.get(e._key),i=new E4(n);return new Wc(n,i,e._key,r,new oo(t.hasPendingWrites,t.fromCache),e.converter)}!function(n,e=!0){vc=c3,Zt(new Pt("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Y1(new LDe(t.getProvider("auth-internal")),new ODe(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ge(mW,"3.11.0",n),Ge(mW,"3.11.0","esm2017")}();var gxe={includeMetadataChanges:!1};function rT(n,e){return void 0===e&&(e=gxe),new Je(function(t){var r=function ixe(n,...e){var t,r,i;n=l1(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||qE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(qE(e[o])){const f=e[o];e[o]=null===(t=f.next)||void 0===t?void 0:t.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,u;if(n instanceof Vt)l=t1(n.firestore,Y1),u=wc(n._key.path),c={next:f=>{e[o]&&e[o](nT(l,n,f))},error:e[o+1],complete:e[o+2]};else{const f=t1(n,H2);l=t1(f.firestore,Y1),u=f._query;const d=new E4(l);c={next:h=>{e[o]&&e[o](new qc(l,d,f,h))},error:e[o+1],complete:e[o+2]},function bY(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(f,d,h,p){const m=new Vd(p),g=new dE(d,m,h);return f.asyncQueue.enqueueAndForget(v(function*(){return aE(yield Uc(f),g)})),()=>{m.Sc(),f.asyncQueue.enqueueAndForget(v(function*(){return lE(yield Uc(f),g)}))}}(Ut(l),u,a,c)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function wxe(n,e){return void 0===e&&(e={}),function Mxe(n){return rT(n,{includeMetadataChanges:!0}).pipe(ge(function(e){return e.docs}))}(n).pipe(ge(function(t){return t.map(function(r){return function DY(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class N5{constructor(e){return e}}const xY="firestore",oT=new ne("angularfire2.firestore-instances");function Exe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new N5(r)}}const Txe={provide:class Sxe{constructor(){return pi(xY)}},deps:[[new Ze,oT]]},Nxe={provide:N5,useFactory:function zxe(n,e){const t=hi(xY,n,e);return t&&new N5(t)},deps:[[new Ze,oT],$n]};let Dxe=(()=>{class n{constructor(){Ge("angularfire",Un.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[Nxe,Txe]}),n})();function Vxe(n,...e){return{ngModule:Dxe,providers:[{provide:oT,useFactory:Exe(n),multi:!0,deps:[Ce,T1,mi,gi,[new Ze,w8],[new Ze,oc],...e]}]}}const AY=W1(wxe,!0),Hxe=W1(rxe,!0),LY=W1(RIe,!0),Ixe=W1(nxe,!0),aT=W1(aY,!0),kY=W1(exe,!0),xxe=W1(FIe,!0),Axe=W1(txe,!0);var Gd={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"]},jd={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"]},dT={prefix:"far",iconName:"file-pdf",icon:[512,512,[],"f1c1","M64 464H96v48H64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0H229.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V288H336V160H256c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56H192v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V448 368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24H192v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H304c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H320v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V432 368z"]},ah={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]};const Hne="firebasestorage.googleapis.com",Ine="storageBucket";class ct extends Bn{constructor(e,t,r=0){super(aN(e),`Firebase Storage: ${t} (${aN(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var O1=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(O1||(O1={})),O1))();function aN(n){return"storage/"+n}function cN(){return new ct(O1.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xne(){return new ct(O1.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ane(){return new ct(O1.CANCELED,"User canceled the upload/download.")}function Lne(){return new ct(O1.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lN(n){return new ct(O1.INVALID_ARGUMENT,n)}function kne(){return new ct(O1.APP_DELETED,"The Firebase app was deleted.")}function A5(n,e){return new ct(O1.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function L5(n){throw new ct(O1.INTERNAL_ERROR,"Internal error: "+n)}class rn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rn.makeFromUrl(e,t)}catch{return new rn(e,"")}if(""===r.path)return r;throw function wo1(n){return new ct(O1.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(T){T.path_=decodeURIComponent(T.path)}const f=t.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function s(T){"/"===T.path.charAt(T.path.length-1)&&(T.path_=T.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===Hne?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<y.length;T++){const A=y[T],k=A.regex.exec(e);if(k){let de=k[A.indices.path];de||(de=""),r=new rn(k[A.indices.bucket],de),A.postModify(r);break}}if(null==r)throw function Mo1(n){return new ct(O1.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Do1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function uh(n){return"string"==typeof n||n instanceof String}function Rne(n){return uN()&&n instanceof Blob}function uN(){return typeof Blob<"u"&&!function hU(){var n;const e=null===(n=z9())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function fN(n,e,t,r){if(r<e)throw lN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw lN(`Invalid value for '${n}'. Expected ${t} or less.`)}function S3(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function One(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var T4=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(T4||(T4={})),T4))();function Pne(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class Lo1{constructor(e,t,r,i,s,o,a,c,l,u,f,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Io1(n){return void 0!==n}(c)?s():s(c)}catch(c){o(c)}else if(null!==a){const c=cN();c.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,c):c)}else o(i.canceled?this.appDelete_?kne():Ane():xne())};this.canceled_?t(0,new fh(!1,null,!0)):this.backoffId_=function Vo1(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function u(...g){l||(l=!0,e.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,n(h,c())},g)}function d(){s&&clearTimeout(s)}function h(g,..._){if(l)return void d();if(g)return d(),void u.call(null,g,..._);if(c()||o)return d(),void u.call(null,g,..._);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),f(y)}let p=!1;function m(g){p||(p=!0,d(),!l&&(null!==i?(g||(a=2),clearTimeout(i),f(0)):g||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},t),m}((r,i)=>{if(i)return void r(!1,new fh(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===T4.NO_ERROR,c=s.getStatus();if(!a||Pne(c,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===T4.ABORT;return void r(!1,new fh(!1,null,u))}const l=-1!==this.successCodes_.indexOf(c);r(!0,new fh(l,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Ho1(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Uo1(...n){const e=function Bo1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(uN())return new Blob(n);throw new ct(O1.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dN{constructor(e,t){this.data=e,this.contentType=t||null}}function Bne(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Une(n,e){switch(n){case Br.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw A5(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw A5(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Go1(n){if(typeof atob>"u")throw function To1(n){return new ct(O1.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:A5(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class $ne{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw A5(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Ko1(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class z3{constructor(e,t){let r=0,i="";Rne(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Rne(this.data_)){const i=function $o1(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new z3(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new z3(r,!0)}}static getBlob(...e){if(uN()){const t=e.map(r=>r instanceof z3?r.data_:r);return new z3(Uo1.apply(null,t))}{const t=e.map(o=>uh(o)?function Fne(n,e){switch(n){case Br.RAW:return new dN(Bne(e));case Br.BASE64:case Br.BASE64URL:return new dN(Une(n,e));case Br.DATA_URL:return new dN(function Wo1(n){const e=new $ne(n);return e.base64?Une(Br.BASE64,e.rest):function jo1(n){let e;try{e=decodeURIComponent(n)}catch{throw A5(Br.DATA_URL,"Malformed data URL.")}return Bne(e)}(e.rest)}(e),function qo1(n){return new $ne(n).contentType}(e))}throw cN()}(Br.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new z3(i,!0)}}uploadData(){return this.data_}}function hN(n){let e;try{e=JSON.parse(n)}catch{return null}return function Ao1(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Gne(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Zo1(n,e){return e}class sn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Zo1}}let dh=null;function k5(){if(dh)return dh;const n=[];n.push(new sn("bucket")),n.push(new sn("generation")),n.push(new sn("metageneration")),n.push(new sn("name","fullPath",!0));const t=new sn("name");t.xform=function e(s,o){return function Xo1(n){return!uh(n)||n.length<2?n:Gne(n)}(o)},n.push(t);const i=new sn("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new sn("timeCreated")),n.push(new sn("updated")),n.push(new sn("md5Hash",null,!0)),n.push(new sn("cacheControl",null,!0)),n.push(new sn("contentDisposition",null,!0)),n.push(new sn("contentEncoding",null,!0)),n.push(new sn("contentLanguage",null,!0)),n.push(new sn("contentType",null,!0)),n.push(new sn("metadata","customMetadata",!0)),dh=n,dh}function jne(n,e,t){const r=hN(e);return null===r?null:function ea1(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function Jo1(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new rn(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function pN(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class Ei{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ti(n){if(!n)throw cN()}function hh(n,e){return function t(r,i){const s=jne(n,i,e);return Ti(null!==s),s}}function Kc(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Co1(){return new ct(O1.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function yo1(){return new ct(O1.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function _o1(n){return new ct(O1.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function bo1(n){return new ct(O1.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function R5(n){const e=Kc(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function vo1(n){return new ct(O1.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function Qne(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function ua1(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class ph{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function mN(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ti(!1)}return Ti(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gN(n){switch(n){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;default:return Sn.ERROR}}class pa1{constructor(e,t,r){if(function xo1(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Yc(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Jne=null;class ere{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=T4.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=T4.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=T4.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw L5("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw L5("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw L5("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw L5("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw L5("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ma1 extends ere{initXhr(){this.xhr_.responseType="text"}}function Ur(){return Jne?Jne():new ma1}class _a1 extends ere{initXhr(){this.xhr_.responseType="blob"}}function ya1(){return new _a1}class Ca1{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=k5(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(O1.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Pne(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=xne()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(O1.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function fa1(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=Qne(e,r,i),a={name:o.fullPath},c=S3(s,n.host,n._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=pN(o,t),p=new Ei(c,"POST",function h(m){let g;mN(m);try{g=m.getResponseHeader("X-Goog-Upload-URL")}catch{Ti(!1)}return Ti(uh(g)),g},n.maxUploadRetryTime);return p.urlParams=a,p.headers=u,p.body=f,p.errorHandler=Kc(e),p}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ur,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function da1(n,e,t,r){const c=new Ei(t,"POST",function s(l){const u=mN(l,["active","final"]);let f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ti(!1)}f||Ti(!1);const d=Number(f);return Ti(!isNaN(d)),new ph(d,r.size(),"final"===u)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=Kc(e),c}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ur,t,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new ph(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function ha1(n,e,t,r,i,s,o,a){const c=new ph(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function zo1(){return new ct(O1.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const f=c.current;let h="";h=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${c.current}`},m=r.slice(f,f+u);if(null===m)throw Lne();const y=new Ei(t,"POST",function g(T,A){const k=mN(T,["active","final"]),J=c.current+u,de=r.size();let Ee;return Ee="final"===k?hh(e,s)(T,A):null,new ph(J,de,"final"===k,Ee)},e.maxUploadRetryTime);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=Kc(n),y}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(o,Ur,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=function Kne(n,e,t){const i=S3(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Ei(i,"GET",hh(n,t),o);return a.errorHandler=R5(e),a}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ur,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function Zne(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let y="";for(let T=0;T<2;T++)y+=Math.random().toString().slice(2);return y}();o["Content-Type"]="multipart/related; boundary="+c;const l=Qne(e,r,i),u=pN(l,t),h=z3.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===h)throw Lne();const p={name:l.fullPath},m=S3(s,n.host,n._protocol),_=n.maxUploadRetryTime,b=new Ei(m,"POST",hh(n,t),_);return b.urlParams=p,b.headers=o,b.body=h.uploadData(),b.errorHandler=Kc(e),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ur,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ane(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=gN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new pa1(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(gN(this._state)){case Sn.SUCCESS:Yc(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:Yc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(gN(this._state)){case Sn.RUNNING:case Sn.PAUSED:e.next&&Yc(e.next.bind(e,this.snapshot))();break;case Sn.SUCCESS:e.complete&&Yc(e.complete.bind(e))();break;default:e.error&&Yc(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ao{constructor(e,t){this._service=e,this._location=t instanceof rn?t:rn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ao(e,t)}get root(){const e=new rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gne(this._location.path)}get storage(){return this._service}get parent(){const e=function Yo1(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new rn(this._location.bucket,e);return new ao(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function No1(n){return new ct(O1.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Na1(n){n._throwIfRoot("getDownloadURL");const e=function aa1(n,e,t){const i=S3(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Ei(i,"GET",function sa1(n,e){return function t(r,i){const s=jne(n,i,e);return Ti(null!==s),function ta1(n,e,t,r){const i=hN(e);if(null===i||!uh(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const f=n.fullPath;return S3("/b/"+o(n.bucket)+"/o/"+o(f),t,r)+One({alt:"media",token:l})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=R5(e),a}(n.storage,n._location,k5());return n.storage.makeRequestWithTokens(e,Ur).then(t=>{if(null===t)throw function Eo1(){return new ct(O1.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function sre(n,e){if(n instanceof _N){const t=n;if(null==t._bucket)throw function So1(){return new ct(O1.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ine+"' property when initializing the app?")}();const r=new ao(t,t._bucket);return null!=e?sre(r,e):r}return void 0!==e?function ire(n,e){const t=function Qo1(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new rn(n._location.bucket,t);return new ao(n.storage,r)}(n,e):n}function ore(n,e){const t=e?.[Ine];return null==t?null:rn.makeFromBucketSpec(t,n)}class _N{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Hne,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rn.makeFromBucketSpec(i,this._host):ore(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?rn.makeFromBucketSpec(this._url,e):ore(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return v(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return v(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ao(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Do1(kne());{const o=function Fo1(n,e,t,r,i,s,o=!0){const a=One(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function Oo1(n,e){e&&(n["X-Firebase-GMPID"]=e)}(l,e),function ko1(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(l,t),function Ro1(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,s),function Po1(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(l,r),new Lo1(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return v(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const are="@firebase/storage",lre="storage";function Aa1(n,e,t){return function wa1(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Ca1(n,new z3(e),t)}(n=l1(n),e,t)}function La1(n){return Na1(n=l1(n))}function ka1(n){return function Da1(n){n._throwIfRoot("deleteObject");const e=function la1(n,e){const r=S3(e.fullServerUrl(),n.host,n._protocol),a=new Ei(r,"DELETE",function o(c,l){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=R5(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ur)}(n=l1(n))}function Ra1(n,e){return function Ia1(n,e){if(e&&function Va1(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof _N)return function Ha1(n,e){return new ao(n,e)}(n,e);throw lN("To use ref(service, url), the first argument must be a Storage instance.")}return sre(n,e)}(n=l1(n),e)}function Oa1(n=ui(),e){const r=yn(n=l1(n),lre).getImmediate({identifier:e}),i=E9("storage");return i&&function Pa1(n,e,t,r={}){!function xa1(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:Sy(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function Fa1(n,e){return function Ma1(n,e){n._throwIfRoot("getBlob");const t=function Yne(n,e,t){const i=S3(e.fullServerUrl(),n.host,n._protocol)+"?alt=media",a=new Ei(i,"GET",(c,l)=>l,n.maxOperationRetryTime);return a.errorHandler=R5(e),void 0!==t&&(a.headers.Range=`bytes=0-${t}`,a.successCodes=[200,206]),a}(n.storage,n._location,e);return n.storage.makeRequestWithTokens(t,ya1).then(r=>void 0!==e?r.slice(0,e):r)}(n=l1(n),e)}function Ba1(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new _N(t,r,i,e,c3)}!function Ua1(){Zt(new Pt(lre,Ba1,"PUBLIC").setMultipleInstances(!0)),Ge(are,"0.11.2",""),Ge(are,"0.11.2","esm2017")}();class mh{constructor(e){return e}}const yN=new ne("angularfire2.storage-instances");function ja1(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mh(r)}}const Wa1={provide:class $a1{constructor(){return pi("storage")}},deps:[[new Ze,yN]]},qa1={provide:mh,useFactory:function Ga1(n,e){const t=hi("storage",n,e);return t&&new mh(t)},deps:[[new Ze,yN],$n]};let Ka1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[qa1,Wa1]}),n})();function Ya1(n,...e){return{ngModule:Ka1,providers:[{provide:yN,useFactory:ja1(n),multi:!0,deps:[Ce,T1,mi,gi,[new Ze,w8],[new Ze,oc],...e]}]}}const fre=W1(ka1,!0),Qa1=W1(Fa1,!0),dre=W1(La1,!0),hre=W1(Oa1,!0),Qc=W1(Ra1,!0),Za1=W1(Aa1,!0);class Xa1 extends Ke{constructor(e=1/0,t=1/0,r=W_){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}class Ja1 extends Ke{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:r,_value:i,thrownError:s,isStopped:o,_isComplete:a}=this;t?e.error(s):(o||a)&&(r&&e.next(i),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(t),super.complete())}}class tc1{constructor(){}loadScript(e,t,r,i=null){if(typeof document<"u"&&!document.getElementById(e)){let s=document.createElement("script");s.async=!0,s.src=t,s.onload=r,i||(i=document.head),i.appendChild(s)}}}class O5{}const nc1={oneTapEnabled:!0};let P5=(()=>{class n extends tc1{constructor(t,r){super(),this.clientId=t,this.initOptions=r,this.changeUser=new ae,this._socialUser=new mt(null),this._accessToken=new mt(null),this._receivedAccessToken=new ae,this.initOptions={...nc1,...this.initOptions},this._socialUser.pipe(Q_(1)).subscribe(this.changeUser),this._accessToken.pipe(Q_(1)).subscribe(this._receivedAccessToken)}initialize(t){return new Promise((r,i)=>{try{this.loadScript(n.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:s})=>{const o=this.createSocialUser(s);this._socialUser.next(o)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(Et(s=>null===s)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const s=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(o=>o).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:s,prompt:this.initOptions.prompt,callback:o=>{o.error?this._accessToken.error({code:o.error,description:o.error_description,uri:o.error_uri}):this._accessToken.next(o.access_token)}})}r()})}catch(s){i(s)}})}getLoginStatus(){return new Promise((t,r)=>{this._socialUser.value?t(this._socialUser.value):r(`No user is currently logged in with ${n.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,r)=>{google.accounts.id.revoke(this._socialUser.value.id,i=>{i.error?r(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,r)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe(gt(1)).subscribe(t)):r(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,r)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):r("No access token to revoke"):r("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var t=this;return v(function*(){google.accounts.id.disableAutoSelect(),t._socialUser.next(null)})()}createSocialUser(t){const r=new O5;r.idToken=t;const i=this.decodeJwt(t);return r.id=i.sub,r.name=i.name,r.email=i.email,r.photoUrl=i.picture,r.firstName=i.given_name,r.lastName=i.family_name,r}decodeJwt(t){const i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(i).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}}return n.PROVIDER_ID="GOOGLE",n})(),gh=(()=>{class n{get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}constructor(t,r,i){this._ngZone=r,this._injector=i,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new Xa1(1),this.initialized=!1,this._initState=new Ja1,t instanceof Promise?t.then(s=>{this.initialize(s)}):this.initialize(t)}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:r=console.error}=t;t.providers.forEach(i=>{this.providers.set(i.id,"prototype"in i.provider?this._injector.get(i.provider):i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const i=[];let s=!1;this.providers.forEach((o,a)=>{const c=o.getLoginStatus();i.push(c),c.then(l=>{this.setUser(l,a),s=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{s||(this._user=null,this._authState.next(null))})}this.providers.forEach((i,s)=>{(function ec1(n){return!!n&&(n instanceof Je||Ue(n.lift)&&Ue(n.subscribe))})(i.changeUser)&&i.changeUser.subscribe(o=>{this._ngZone.run(()=>{this.setUser(o,s)})})})}).catch(i=>{r(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){var r=this;return v(function*(){const i=r.providers.get(t);if(!r.initialized)throw n.ERR_NOT_INITIALIZED;if(!i)throw n.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(i instanceof P5))throw n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield i.getAccessToken()})()}refreshAuthToken(t){return new Promise((r,i)=>{if(this.initialized){const s=this.providers.get(t);s?"function"!=typeof s.refreshToken?i(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):s.refreshToken().then(o=>{this.setUser(o,t),r()}).catch(o=>{i(o)}):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((r,i)=>{if(this.initialized)if(t!==P5.PROVIDER_ID)i(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const s=this.providers.get(t);s instanceof P5?s.revokeAccessToken().then(r).catch(i):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_INITIALIZED)})}signIn(t,r){return new Promise((i,s)=>{if(this.initialized){let o=this.providers.get(t);o?o.signIn(r).then(a=>{this.setUser(a,t),i(a)}).catch(a=>{s(a)}):s(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else s(n.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((r,i)=>{if(this.initialized)if(this._user){let o=this.providers.get(this._user.provider);o?o.signOut(t).then(()=>{r(),this.setUser(null)}).catch(a=>{i(a)}):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_LOGGED_IN);else i(n.ERR_NOT_INITIALIZED)})}setUser(t,r){t&&r&&(t.provider=r),this._user=t,this._authState.next(t)}}return n.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",n.ERR_NOT_LOGGED_IN="Not logged in",n.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",n.\u0275fac=function(t){return new(t||n)(O("SocialAuthServiceConfig"),O(Ce),O(T1))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rc1=(()=>{class n{static initialize(t){return{ngModule:n,providers:[gh,{provide:"SocialAuthServiceConfig",useValue:t}]}}constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}}return n.\u0275fac=function(t){return new(t||n)(O(n,12))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[gh],imports:[kv]}),n})(),ic1=(()=>{class n{constructor(t,r){this.type="icon",this.size="medium",this.text="signin_with",this.shape="rectangular",this.theme="outline",this.logo_alignment="left",this.width="",this.locale="",r.initState.pipe(gt(1)).subscribe(()=>{Promise.resolve(this.width).then(i=>{i>"400"||i<"200"&&""!=i?Promise.reject("Please note .. max-width 400 , min-width 200 (https://developers.google.com/identity/gsi/web/tools/configurator)"):google.accounts.id.renderButton(t.nativeElement,{type:this.type,size:this.size,text:this.text,width:this.width,shape:this.shape,theme:this.theme,logo_alignment:this.logo_alignment,locale:this.locale})})})}}return n.\u0275fac=function(t){return new(t||n)(C(i1),C(gh))},n.\u0275dir=G({type:n,selectors:[["asl-google-signin-button"]],inputs:{type:"type",size:"size",text:"text",shape:"shape",theme:"theme",logo_alignment:"logo_alignment",width:"width",locale:"locale"}}),n})(),sc1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})(),F5=(()=>{class n{constructor(t){this.router=t,this.destroyed$=new Ke,this.forbiddenPaths=["/thesis-proposals","/research-interest"],this.authorized=["luigi gaioni","gianluca traversi","massimo manghisoni","valerio re","elisa riceputi","andrea galliani","paolo lazzaroni","luca ghislotti"];let r=!1;r=!!this.getCurrentUser().email,this.currentUserSubject=new mt(Object.assign(new O5,JSON.parse(localStorage.getItem("microlab-user")))),this.currentUser$=this.currentUserSubject.asObservable(),this.loggedSubject=new mt(!1),this.logged$=this.loggedSubject.asObservable(),this.loggedSubject.next(r)}getCurrentUser(){return Object.assign(new O5,JSON.parse(localStorage.getItem("microlab-user")||"{}"))}saveUserData(t){this.authorized.includes(t.name.toLowerCase())?(console.log(t.name+" authorized"),localStorage.setItem("microlab-user",JSON.stringify(t)),this.currentUserSubject.next(t),this.loggedSubject.next(!0)):(this.loggedSubject.next(!1),this.router.navigate(["/unauthorized"]))}signOut(){this.loggedSubject.next(!1),this.currentUserSubject.next(Object.assign(new O5,JSON.parse("{}"))),localStorage.removeItem("microlab-user"),this.forbiddenPaths.includes(this.router.url)&&this.router.navigate(["/work-in-progress"])}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(O(r2))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ie(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?pre(Object(t),!0).forEach(function(r){e2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vh(n){return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function mre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function e2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CN(n,e){return function uc1(n){if(Array.isArray(n))return n}(n)||function dc1(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,a,r=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=t.return&&t.return()}finally{if(s)throw a}}return r}}(n,e)||gre(n,e)||function pc1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U5(n){return function lc1(n){if(Array.isArray(n))return bN(n)}(n)||function fc1(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||gre(n)||function hc1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gre(n,e){if(n){if("string"==typeof n)return bN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bN(n,e)}}function bN(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var vre=function(){},MN={},_re={},yre=null,Cre={mark:vre,measure:vre};try{typeof window<"u"&&(MN=window),typeof document<"u"&&(_re=document),typeof MutationObserver<"u"&&(yre=MutationObserver),typeof performance<"u"&&(Cre=performance)}catch{}var Ch,bh,Mh,wh,Sh,bre=(MN.navigator||{}).userAgent,Mre=void 0===bre?"":bre,N4=MN,Q1=_re,wre=yre,yh=Cre,E3=!!Q1.documentElement&&!!Q1.head&&"function"==typeof Q1.addEventListener&&"function"==typeof Q1.createElement,Sre=~Mre.indexOf("MSIE")||~Mre.indexOf("Trident/"),T3="___FONT_AWESOME___",wN=16,zre="fa",Ere="svg-inline--fa",co="data-fa-i2svg",SN="data-fa-pseudo-element",gc1="data-fa-pseudo-element-pending",zN="data-prefix",EN="data-icon",Tre="fontawesome-i2svg",vc1="async",_c1=["HTML","HEAD","STYLE","SCRIPT"],Nre=function(){try{return!0}catch{return!1}}(),Z1="classic",Mt="sharp",TN=[Z1,Mt];function $5(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[Z1]}})}var G5=$5((e2(Ch={},Z1,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),e2(Ch,Mt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Ch)),j5=$5((e2(bh={},Z1,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),e2(bh,Mt,{solid:"fass",regular:"fasr",light:"fasl"}),bh)),W5=$5((e2(Mh={},Z1,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),e2(Mh,Mt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Mh)),yc1=$5((e2(wh={},Z1,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),e2(wh,Mt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),wh)),Cc1=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,Dre="fa-layers-text",bc1=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Mc1=$5((e2(Sh={},Z1,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),e2(Sh,Mt,{900:"fass",400:"fasr",300:"fasl"}),Sh)),Vre=[1,2,3,4,5,6,7,8,9,10],wc1=Vre.concat([11,12,13,14,15,16,17,18,19,20]),Sc1=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],lo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},q5=new Set;Object.keys(j5[Z1]).map(q5.add.bind(q5)),Object.keys(j5[Mt]).map(q5.add.bind(q5));var zc1=[].concat(TN,U5(q5),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",lo.GROUP,lo.SWAP_OPACITY,lo.PRIMARY,lo.SECONDARY]).concat(Vre.map(function(n){return"".concat(n,"x")})).concat(wc1.map(function(n){return"w-".concat(n)})),K5=N4.FontAwesomeConfig||{};Q1&&"function"==typeof Q1.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=CN(n,2),r=e[1],i=function Tc1(n){return""===n||"false"!==n&&("true"===n||n)}(function Ec1(n){var e=Q1.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(K5[r]=i)});var Hre={styleDefault:"solid",familyDefault:"classic",cssPrefix:zre,replacementClass:Ere,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};K5.familyPrefix&&(K5.cssPrefix=K5.familyPrefix);var Zc=ie(ie({},Hre),K5);Zc.autoReplaceSvg||(Zc.observeMutations=!1);var ue={};Object.keys(Hre).forEach(function(n){Object.defineProperty(ue,n,{enumerable:!0,set:function(t){Zc[n]=t,Y5.forEach(function(r){return r(ue)})},get:function(){return Zc[n]}})}),Object.defineProperty(ue,"familyPrefix",{enumerable:!0,set:function(e){Zc.cssPrefix=e,Y5.forEach(function(t){return t(ue)})},get:function(){return Zc.cssPrefix}}),N4.FontAwesomeConfig=ue;var Y5=[],D4=wN,Ni={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Hc1="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Q5(){for(var n=12,e="";n-- >0;)e+=Hc1[62*Math.random()|0];return e}function Xc(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function NN(n){return n.classList?Xc(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Ire(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zh(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function DN(n){return n.size!==Ni.size||n.x!==Ni.x||n.y!==Ni.y||n.rotate!==Ni.rotate||n.flipX||n.flipY}var Lc1=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function xre(){var n=zre,e=Ere,t=ue.cssPrefix,r=ue.replacementClass,i=Lc1;if(t!==n||r!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(r))}return i}var Are=!1;function VN(){ue.autoAddCss&&!Are&&(function Vc1(n){if(n&&E3){var e=Q1.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Q1.head.childNodes,r=null,i=t.length-1;i>-1;i--){var s=t[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Q1.head.insertBefore(e,r)}}(xre()),Are=!0)}var kc1={mixout:function(){return{dom:{css:xre,insertCss:VN}}},hooks:function(){return{beforeDOMElementCreation:function(){VN()},beforeI2svg:function(){VN()}}}},N3=N4||{};N3[T3]||(N3[T3]={}),N3[T3].styles||(N3[T3].styles={}),N3[T3].hooks||(N3[T3].hooks={}),N3[T3].shims||(N3[T3].shims=[]);var $r=N3[T3],Lre=[],Eh=!1;function Z5(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,s=void 0===i?[]:i;return"string"==typeof n?Ire(n):"<".concat(e," ").concat(function Ic1(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(Ire(n[t]),'" ')},"").trim()}(r),">").concat(s.map(Z5).join(""),"</").concat(e,">")}function kre(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}E3&&((Eh=(Q1.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Q1.readyState))||Q1.addEventListener("DOMContentLoaded",function n(){Q1.removeEventListener("DOMContentLoaded",n),Eh=1,Lre.map(function(e){return e()})}));var HN=function(e,t,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,t){return function(r,i,s,o){return e.call(t,r,i,s,o)}}(t,i):t;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function IN(n){var e=function Fc1(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function Rre(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function xN(n,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=Rre(e);"function"!=typeof $r.hooks.addPack||i?$r.styles[n]=ie(ie({},$r.styles[n]||{}),s):$r.hooks.addPack(n,Rre(e)),"fas"===n&&xN("fa",e)}var Th,Nh,Dh,Jc=$r.styles,Uc1=$r.shims,$c1=(e2(Th={},Z1,Object.values(W5[Z1])),e2(Th,Mt,Object.values(W5[Mt])),Th),AN=null,Ore={},Pre={},Fre={},Bre={},Ure={},Gc1=(e2(Nh={},Z1,Object.keys(G5[Z1])),e2(Nh,Mt,Object.keys(G5[Mt])),Nh);var $re=function(){var e=function(s){return HN(Jc,function(o,a,c){return o[c]=HN(a,s,{}),o},{})};Ore=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),Pre=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),Ure=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var t="far"in Jc||ue.autoFetchSvg,r=HN(Uc1,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!t&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});Fre=r.names,Bre=r.unicodes,AN=Vh(ue.styleDefault,{family:ue.familyDefault})};function LN(n,e){return(Ore[n]||{})[e]}function uo(n,e){return(Ure[n]||{})[e]}function Gre(n){return Fre[n]||{prefix:null,iconName:null}}function V4(){return AN}(function Dc1(n){Y5.push(n)})(function(n){AN=Vh(n.styleDefault,{family:ue.familyDefault})}),$re();var kN=function(){return{prefix:null,iconName:null,rest:[]}};function Vh(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===t?Z1:t;return j5[r][n]||j5[r][G5[r][n]]||(n in $r.styles?n:null)||null}var jre=(e2(Dh={},Z1,Object.keys(W5[Z1])),e2(Dh,Mt,Object.keys(W5[Mt])),Dh);function Hh(n){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(e2(e={},Z1,"".concat(ue.cssPrefix,"-").concat(Z1)),e2(e,Mt,"".concat(ue.cssPrefix,"-").concat(Mt)),e),o=null,a=Z1;(n.includes(s[Z1])||n.some(function(l){return jre[Z1].includes(l)}))&&(a=Z1),(n.includes(s[Mt])||n.some(function(l){return jre[Mt].includes(l)}))&&(a=Mt);var c=n.reduce(function(l,u){var f=function Wc1(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function jc1(n){return~zc1.indexOf(n)}(i)?null:i}(ue.cssPrefix,u);if(Jc[u]?(u=$c1[a].includes(u)?yc1[a][u]:u,o=u,l.prefix=u):Gc1[a].indexOf(u)>-1?(o=u,l.prefix=Vh(u,{family:a})):f?l.iconName=f:u!==ue.replacementClass&&u!==s[Z1]&&u!==s[Mt]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===o?Gre(l.iconName):{},h=uo(l.prefix,l.iconName);d.prefix&&(o=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!Jc.far&&Jc.fas&&!ue.autoFetchSvg&&(l.prefix="fas")}return l},kN());return(n.includes("fa-brands")||n.includes("fab"))&&(c.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===Mt&&(Jc.fass||ue.autoFetchSvg)&&(c.prefix="fass",c.iconName=uo(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=V4()||"fas"),c}var Yc1=function(){function n(){(function oc1(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function ac1(n,e,t){e&&mre(n.prototype,e),t&&mre(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){t.definitions[a]=ie(ie({},t.definitions[a]||{}),o[a]),xN(a,o[a]);var c=W5[Z1][a];c&&xN(c,o[a]),$re()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];t[a]||(t[a]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(t[a][f]=l)}),t[a][c]=l}),t}}]),n}(),Wre=[],e6={},t6={},Qc1=Object.keys(t6);function RN(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return(e6[n]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function fo(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(e6[n]||[]).forEach(function(s){s.apply(null,t)})}function D3(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return t6[n]?t6[n].apply(null,e):void 0}function ON(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||V4();if(e)return e=uo(t,e)||e,kre(qre.definitions,t,e)||kre($r.styles,t,e)}var qre=new Yc1,Jc1={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E3?(fo("beforeI2svg",e),D3("pseudoElements2svg",e),D3("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===ue.autoReplaceSvg&&(ue.autoReplaceSvg=!0),ue.observeMutations=!0,function Oc1(n){E3&&(Eh?setTimeout(n,0):Lre.push(n))}(function(){t61({autoReplaceSvgRoot:t}),fo("watch",e)})}},qn={noAuto:function(){ue.autoReplaceSvg=!1,ue.observeMutations=!1,fo("noAuto")},config:ue,dom:Jc1,parse:{icon:function(e){if(null===e)return null;if("object"===vh(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:uo(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Vh(e[0]);return{prefix:r,iconName:uo(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(ue.cssPrefix,"-"))>-1||e.match(Cc1))){var i=Hh(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||V4(),iconName:uo(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=V4();return{prefix:s,iconName:uo(s,e)||e}}}},library:qre,findIconDefinition:ON,toHtml:Z5},t61=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===t?Q1:t;(Object.keys($r.styles).length>0||ue.autoFetchSvg)&&E3&&ue.autoReplaceSvg&&qn.dom.i2svg({node:r})};function Ih(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Z5(r)})}}),Object.defineProperty(n,"node",{get:function(){if(E3){var r=Q1.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function PN(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,s=n.iconName,o=n.transform,a=n.symbol,c=n.title,l=n.maskId,u=n.titleId,f=n.extra,d=n.watchable,h=void 0!==d&&d,p=r.found?r:t,m=p.width,g=p.height,_="fak"===i,b=[ue.replacementClass,s?"".concat(ue.cssPrefix,"-").concat(s):""].filter(function(Ee){return-1===f.classes.indexOf(Ee)}).filter(function(Ee){return""!==Ee||!!Ee}).concat(f.classes).join(" "),y={children:[],attributes:ie(ie({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:b,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},T=_&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};h&&(y.attributes[co]=""),c&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(u||Q5())},children:[c]}),delete y.attributes.title);var A=ie(ie({},y),{},{prefix:i,iconName:s,main:t,mask:r,maskId:l,transform:o,symbol:a,styles:ie(ie({},T),f.styles)}),k=r.found&&t.found?D3("generateAbstractMask",A)||{children:[],attributes:{}}:D3("generateAbstractIcon",A)||{children:[],attributes:{}},de=k.attributes;return A.children=k.children,A.attributes=de,a?function r61(n){var t=n.iconName,r=n.children,i=n.attributes,s=n.symbol,o=!0===s?"".concat(n.prefix,"-").concat(ue.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ie(ie({},i),{},{id:o}),children:r}]}]}(A):function n61(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,s=n.styles,o=n.transform;if(DN(o)&&t.found&&!r.found){var l={x:t.width/t.height/2,y:.5};i.style=zh(ie(ie({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(A)}function Kre(n){var e=n.content,t=n.width,r=n.height,i=n.transform,s=n.title,o=n.extra,a=n.watchable,c=void 0!==a&&a,l=ie(ie(ie({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[co]="");var u=ie({},o.styles);DN(i)&&(u.transform=function Ac1(n){var e=n.transform,t=n.width,i=n.height,s=void 0===i?wN:i,o=n.startCentered,a=void 0!==o&&o,c="";return c+=a&&Sre?"translate(".concat(e.x/D4-(void 0===t?wN:t)/2,"em, ").concat(e.y/D4-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/D4,"em), calc(-50% + ").concat(e.y/D4,"em)) "):"translate(".concat(e.x/D4,"em, ").concat(e.y/D4,"em) "),(c+="scale(".concat(e.size/D4*(e.flipX?-1:1),", ").concat(e.size/D4*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),u["-webkit-transform"]=u.transform);var f=zh(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var FN=$r.styles;function BN(n){var e=n[0],t=n[1],s=CN(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(ue.cssPrefix,"-").concat(lo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ue.cssPrefix,"-").concat(lo.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(ue.cssPrefix,"-").concat(lo.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var s61={found:!1,width:512,height:512};function UN(n,e){var t=e;return"fa"===e&&null!==ue.styleDefault&&(e=V4()),new Promise(function(r,i){if(D3("missingIconAbstract"),"fa"===t){var o=Gre(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&FN[e]&&FN[e][n])return r(BN(FN[e][n]));(function o61(n,e){!Nre&&!ue.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(ie(ie({},s61),{},{icon:ue.showMissingIcons&&n&&D3("missingIconAbstract")||{}}))})}var Yre=function(){},$N=ue.measurePerformance&&yh&&yh.mark&&yh.measure?yh:{mark:Yre,measure:Yre},X5='FA "6.4.0"',Qre=function(e){$N.mark("".concat(X5," ").concat(e," ends")),$N.measure("".concat(X5," ").concat(e),"".concat(X5," ").concat(e," begins"),"".concat(X5," ").concat(e," ends"))},GN={begin:function(e){return $N.mark("".concat(X5," ").concat(e," begins")),function(){return Qre(e)}},end:Qre},xh=function(){};function Zre(n){return"string"==typeof(n.getAttribute?n.getAttribute(co):null)}function f61(n){return Q1.createElementNS("http://www.w3.org/2000/svg",n)}function d61(n){return Q1.createElement(n)}function Xre(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===t?"svg"===n.tag?f61:d61:t;if("string"==typeof n)return Q1.createTextNode(n);var i=r(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(Xre(o,{ceFn:r}))}),i}var Ah={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(Xre(i),t)}),null===t.getAttribute(co)&&ue.keepOriginalSource){var r=Q1.createComment(function h61(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~NN(t).indexOf(ue.replacementClass))return Ah.replace(e);var i=new RegExp("".concat(ue.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===ue.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Z5(a)}).join("\n");t.setAttribute(co,""),t.innerHTML=o}};function Jre(n){n()}function eie(n,e){var t="function"==typeof e?e:xh;if(0===n.length)t();else{var r=Jre;ue.mutateApproach===vc1&&(r=N4.requestAnimationFrame||Jre),r(function(){var i=function u61(){return!0===ue.autoReplaceSvg?Ah.replace:Ah[ue.autoReplaceSvg]||Ah.replace}(),s=GN.begin("mutate");n.map(i),s(),t()})}}var jN=!1;function tie(){jN=!0}function WN(){jN=!1}var Lh=null;function nie(n){if(wre&&ue.observeMutations){var e=n.treeCallback,t=void 0===e?xh:e,r=n.nodeCallback,i=void 0===r?xh:r,s=n.pseudoElementsCallback,o=void 0===s?xh:s,a=n.observeMutationsRoot,c=void 0===a?Q1:a;Lh=new wre(function(l){if(!jN){var u=V4();Xc(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!Zre(f.addedNodes[0])&&(ue.searchPseudoElements&&o(f.target),t(f.target)),"attributes"===f.type&&f.target.parentNode&&ue.searchPseudoElements&&o(f.target.parentNode),"attributes"===f.type&&Zre(f.target)&&~Sc1.indexOf(f.attributeName))if("class"===f.attributeName&&function c61(n){var e=n.getAttribute?n.getAttribute(zN):null,t=n.getAttribute?n.getAttribute(EN):null;return e&&t}(f.target)){var d=Hh(NN(f.target)),p=d.iconName;f.target.setAttribute(zN,d.prefix||u),p&&f.target.setAttribute(EN,p)}else(function l61(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(ue.replacementClass)})(f.target)&&i(f.target)})}}),E3&&Lh.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function rie(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function g61(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=Hh(NN(n));return i.prefix||(i.prefix=V4()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function qc1(n,e){return(Pre[n]||{})[e]}(i.prefix,n.innerText)||LN(i.prefix,IN(n.innerText))),!i.iconName&&ue.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}(n),r=t.iconName,i=t.prefix,s=t.rest,o=function v61(n){var e=Xc(n.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return ue.autoA11y&&(t?e["aria-labelledby"]="".concat(ue.replacementClass,"-title-").concat(r||Q5()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),a=RN("parseNodeAttributes",{},n),c=e.styleParser?function m61(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),t}(n):[];return ie({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Ni,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var y61=$r.styles;function iie(n){var e="nest"===ue.autoReplaceSvg?rie(n,{styleParser:!1}):rie(n);return~e.extra.classes.indexOf(Dre)?D3("generateLayersText",n,e):D3("generateSvgReplacementMutation",n,e)}var H4=new Set;function sie(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!E3)return Promise.resolve();var t=Q1.documentElement.classList,r=function(f){return t.add("".concat(Tre,"-").concat(f))},i=function(f){return t.remove("".concat(Tre,"-").concat(f))},s=ue.autoFetchSvg?H4:TN.map(function(u){return"fa-".concat(u)}).concat(Object.keys(y61));s.includes("fa")||s.push("fa");var o=[".".concat(Dre,":not([").concat(co,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(co,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Xc(n.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=GN.begin("onTree"),l=a.reduce(function(u,f){try{var d=iie(f);d&&u.push(d)}catch(h){Nre||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){eie(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(d){c(),f(d)})})}function C61(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;iie(n).then(function(t){t&&eie([t],e)})}function b61(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:ON(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:ON(i||{})),n(r,ie(ie({},t),{},{mask:i}))}}TN.map(function(n){H4.add("fa-".concat(n))}),Object.keys(G5[Z1]).map(H4.add.bind(H4)),Object.keys(G5[Mt]).map(H4.add.bind(H4)),H4=U5(H4);var M61=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?Ni:r,s=t.symbol,o=void 0!==s&&s,a=t.mask,c=void 0===a?null:a,l=t.maskId,u=void 0===l?null:l,f=t.title,d=void 0===f?null:f,h=t.titleId,p=void 0===h?null:h,m=t.classes,g=void 0===m?[]:m,_=t.attributes,b=void 0===_?{}:_,y=t.styles,T=void 0===y?{}:y;if(e){var A=e.prefix,k=e.iconName,J=e.icon;return Ih(ie({type:"icon"},e),function(){return fo("beforeDOMElementCreation",{iconDefinition:e,params:t}),ue.autoA11y&&(d?b["aria-labelledby"]="".concat(ue.replacementClass,"-title-").concat(p||Q5()):(b["aria-hidden"]="true",b.focusable="false")),PN({icons:{main:BN(J),mask:c?BN(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:A,iconName:k,transform:ie(ie({},Ni),i),symbol:o,title:d,maskId:u,titleId:p,extra:{attributes:b,styles:T,classes:g}})})}},w61={mixout:function(){return{icon:b61(M61)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=sie,t.nodeCallback=C61,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,s=t.callback;return sie(void 0===r?Q1:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([UN(i,a),u.iconName?UN(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var g=CN(m,2);h([t,PN({icons:{main:g[0],mask:g[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(t){var l,r=t.children,i=t.attributes,s=t.main,o=t.transform,c=zh(t.styles);return c.length>0&&(i.style=c),DN(o)&&(l=D3("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},S61={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return Ih({type:"layer"},function(){fo("beforeDOMElementCreation",{assembler:t,params:r});var o=[];return t(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(ue.cssPrefix,"-layers")].concat(U5(s)).join(" ")},children:o}]})}}}},z61={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,f=void 0===u?{}:u;return Ih({type:"counter",content:t},function(){return fo("beforeDOMElementCreation",{content:t,params:r}),function i61(n){var e=n.content,t=n.title,r=n.extra,i=ie(ie(ie({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),s=zh(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}({content:t.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(ue.cssPrefix,"-layers-counter")].concat(U5(a))}})})}}}},E61={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Ni:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return Ih({type:"text",content:t},function(){return fo("beforeDOMElementCreation",{content:t,params:r}),Kre({content:t,transform:ie(ie({},Ni),s),title:a,extra:{attributes:f,styles:h,classes:["".concat(ue.cssPrefix,"-layers-text")].concat(U5(l))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(Sre){var l=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();a=u.width/l,c=u.height/l}return ue.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,Kre({content:t.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},T61=new RegExp('"',"ug"),oie=[1105920,1112319];function aie(n,e){var t="".concat(gc1).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var o=Xc(n.children).filter(function(J){return J.getAttribute(SN)===e})[0],a=N4.getComputedStyle(n,e),c=a.getPropertyValue("font-family").match(bc1),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return n.removeChild(o),r();if(c&&"none"!==u&&""!==u){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?Mt:Z1,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?j5[d][c[2].toLowerCase()]:Mc1[d][l],p=function N61(n){var e=n.replace(T61,""),t=function Bc1(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=oie[0]&&t<=oie[1],i=2===e.length&&e[0]===e[1];return{value:IN(i?e[0]:e),isSecondary:r||i}}(f),m=p.value,g=p.isSecondary,_=c[0].startsWith("FontAwesome"),b=LN(h,m),y=b;if(_){var T=function Kc1(n){var e=Bre[n],t=LN("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(m);T.iconName&&T.prefix&&(b=T.iconName,h=T.prefix)}if(!b||g||o&&o.getAttribute(zN)===h&&o.getAttribute(EN)===y)r();else{n.setAttribute(t,y),o&&n.removeChild(o);var A=function _61(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ni,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),k=A.extra;k.attributes[SN]=e,UN(b,h).then(function(J){var de=PN(ie(ie({},A),{},{icons:{main:J,mask:kN()},prefix:h,iconName:y,extra:k,watchable:!0})),Ee=Q1.createElement("svg");"::before"===e?n.insertBefore(Ee,n.firstChild):n.appendChild(Ee),Ee.outerHTML=de.map(function(u1){return Z5(u1)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function D61(n){return Promise.all([aie(n,"::before"),aie(n,"::after")])}function V61(n){return!(n.parentNode===document.head||~_c1.indexOf(n.tagName.toUpperCase())||n.getAttribute(SN)||n.parentNode&&"svg"===n.parentNode.tagName)}function cie(n){if(E3)return new Promise(function(e,t){var r=Xc(n.querySelectorAll("*")).filter(V61).map(D61),i=GN.begin("searchPseudoElements");tie(),Promise.all(r).then(function(){i(),WN(),e()}).catch(function(){i(),WN(),t()})})}var lie=!1,uie=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},qN={x:0,y:0,width:"100%",height:"100%"};function fie(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function A61(n){return"g"===n.tag?n.children:[n]}var L61={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),s=i?Hh(i.split(" ").map(function(o){return o.trim()})):kN();return s.prefix||(s.prefix=V4()),t.mask=s,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,s=t.main,o=t.mask,a=t.maskId,u=s.icon,d=o.icon,h=function xc1(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:ie(ie({},qN),{},{fill:"white"})},m=u.children?{children:u.children.map(fie)}:{},g={tag:"g",attributes:ie({},h.inner),children:[fie(ie({tag:u.tag,attributes:ie(ie({},u.attributes),h.path)},m))]},_={tag:"g",attributes:ie({},h.outer),children:[g]},b="mask-".concat(a||Q5()),y="clip-".concat(a||Q5()),T={tag:"mask",attributes:ie(ie({},qN),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:A61(d)},T]};return r.push(A,{tag:"rect",attributes:ie({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(b,")")},qN)}),{children:r,attributes:i}}}};!function Zc1(n,e){var t=e.mixoutsTo;Wre=n,e6={},Object.keys(t6).forEach(function(r){-1===Qc1.indexOf(r)&&delete t6[r]}),Wre.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(t[o]=i[o]),"object"===vh(i[o])&&Object.keys(i[o]).forEach(function(a){t[o]||(t[o]={}),t[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){e6[o]||(e6[o]=[]),e6[o].push(s[o])})}r.provides&&r.provides(t6)})}([kc1,w61,S61,z61,E61,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=cie,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;ue.searchPseudoElements&&cie(void 0===r?Q1:r)}}},{mixout:function(){return{dom:{unwatch:function(){tie(),lie=!0}}}},hooks:function(){return{bootstrap:function(){nie(RN("mutationObserverCallbacks",{}))},noAuto:function(){!function p61(){Lh&&Lh.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;lie?WN():nie(RN("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return uie(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=uie(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,o=t.iconWidth,a={transform:"translate(".concat(t.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:ie({},h.outer),children:[{tag:"g",attributes:ie({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ie(ie({},r.icon.attributes),h.path)}]}]}}}},L61,{provides:function(e){var t=!1;N4.matchMedia&&(t=N4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ie(ie({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ie(ie({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ie(ie({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:ie(ie({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:ie(ie({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:ie(ie({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ie(ie({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:qn});var P61=qn.parse,F61=qn.icon;const B61=["*"],G61=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let q61=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K61=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y61=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[$1]}),n})(),Q61=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(C(Q2),C(i1))},n.\u0275cmp=n1({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[$1],ngContentSelectors:B61,decls:1,vars:0,template:function(t,r){1&t&&(_a(),ya(0))},encapsulation:2}),n})(),die=(()=>{class n{constructor(t,r,i,s,o){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=s,this.classes=[],null!=o&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const s=this.buildParams();this.renderIcon(i,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?P61.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...G61(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=F61(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(C(eO),C(q61),C(K61),C(Y61,8),C(Q61,8))},n.\u0275cmp=n1({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(pn("innerHTML",r.renderedIconHTML,hx),Ye("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[$1],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),Z61=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({}),n})();function X61(n,e){if(1&n&&(ar(0),M(1,"div",10)(2,"button",11),ce(3,"fa-icon",12),w()(),cr()),2&n){const t=L();H(3),D("icon",t.faPlus)}}function J61(n,e){if(1&n&&(ar(0),ce(1,"img",23),cr()),2&n){const t=L().$implicit;H(1),r0("src",t.imgUrl,ts)}}function e01(n,e){if(1&n&&ce(0,"img",24),2&n){const t=L().$implicit;!function Tr(n){Dr(GA,G8e,n,!1)}("margin-bottom: 10px; filter: hue-rotate("+L().stringToColour(t.id)+"deg)")}}function t01(n,e){if(1&n){const t=v1();ar(0),M(1,"a",21),te("click",function(){Me(t);const i=L().$implicit;return we(L().editThesis(i.id))}),ce(2,"fa-icon",22),w(),M(3,"a",21),te("click",function(){Me(t);const i=L().$implicit;return we(L().deleteThesis(i.id))}),ce(4,"fa-icon",25),w(),cr()}if(2&n){const t=L(2);H(2),D("icon",t.faPenToSquare),H(2),D("icon",t.faTrashCan)}}function n01(n,e){if(1&n){const t=v1();M(0,"div",13)(1,"div",14),B(2,J61,2,1,"ng-container",15),B(3,e01,1,2,"ng-template",null,16,St),M(5,"div",17)(6,"h5",18),x(7),w(),M(8,"p",19),x(9),w(),M(10,"div",20)(11,"a",21),te("click",function(){const s=Me(t).$implicit;return we(L().downloadFromUrl(s.pdfRef))}),ce(12,"fa-icon",22),w(),B(13,t01,5,2,"ng-container",8),w()()()()}if(2&n){const t=e.$implicit,r=I1(4),i=L();H(2),D("ngIf",t.imgUrl)("ngIfElse",r),H(5),P2(t.title),H(2),P2(t.description),H(3),D("icon",i.faFilePdf),H(1),D("ngIf",i.isLogged)}}let r01=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.faFilePdf=dT,this.faPenToSquare=jd,this.faTrashCan=Gd,this.faPlus=ah,this.destroyed$=new Ke,this.isLogged=!1,this.firestore=Fe(N5),this.storage=hre();const i=LY(this.firestore,"thesis-proposals");this.thesis=[],this.thesis$=AY(i,{idField:"id"}),this.thesis$.subscribe(s=>{this.thesis=s;for(let o=0;o<this.thesis.length;o++){const a=this.thesis[o];if(a.imgRef){const c=Qc(this.storage,a.imgRef);dre(c).then(l=>{l&&(a.imgUrl=l)})}else a.imgUrl=""}})}ngOnInit(){this.userService.loggedSubject.pipe(k1(this.destroyed$)).subscribe(t=>{this.isLogged=t})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}downloadFromUrl(t){if(t){const r=Qc(this.storage,t);Qa1(r).then(i=>{const s=URL.createObjectURL(i);window.open(s)}).catch(i=>{})}}getUrl(t){if(t){const r=Qc(this.storage,t);dre(r).then(i=>(console.log(i),i))}}stringToColour(t){let r=0;for(var i=0;i<t.length;i++)r=t.charCodeAt(i)+((r<<5)-r);let s="0";for(let o=0;o<3;o++)s+=(r>>8*o&255).toString();return s}editThesis(t){const r=aT(this.firestore,"thesis-proposals/"+t);kY(r).then(i=>{const s=i.data();this.router.navigate(["thesis-proposals/thesis-form"],{queryParams:{id:t,docObj:JSON.stringify(s)}})})}deleteThesis(t){const r=aT(this.firestore,"thesis-proposals/"+t);kY(r).then(i=>{const s=i.data();if(s?.pdfRef){const o=Qc(this.storage,s.pdfRef);fre(o).then(()=>{}).catch(a=>{console.log("PDF delete unsuccessful.")})}if(s?.imgRef){const o=Qc(this.storage,s?.imgRef);fre(o).then(()=>{}).catch(a=>{console.log("Img delete unsuccessful.")})}Ixe(r).then(()=>{}).catch(o=>{console.log("Document delete unsuccessful.")})})}}return n.\u0275fac=function(t){return new(t||n)(C(F5),C(r2))},n.\u0275cmp=n1({type:n,selectors:[["app-thesis-proposals"]],decls:11,vars:2,consts:[["data-ride","carousel",1,"carousel","slide","carousel-top","mb-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/carousel/silicon_banner.webp","alt","First slide",1,"d-block","w-100","carousel-item-crop"],[1,"container","mt-5"],[1,"row","justify-content-start"],[1,"fs-3","pb-3"],[1,"row","justify-content-left"],[4,"ngIf"],["class","col col-12 col-sm-12 col-md-4 text-container px-lg-2 mb-5 d-flex align-self-stretch",4,"ngFor","ngForOf"],[1,"col","col-12","col-sm-12","col-md-4","text-container","px-lg-2","mb-5"],["type","button","routerLink","thesis-form",1,"btn","btn-outline-primary","btn-custom","border-custom","w-100","h-100"],["size","3x",3,"icon"],[1,"col","col-12","col-sm-12","col-md-4","text-container","px-lg-2","mb-5","d-flex","align-self-stretch"],[1,"card","border-primary","border-custom","w-100"],[4,"ngIf","ngIfElse"],["noImg",""],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"card-text"],[1,"mt-auto","text-end","mx-2"],[3,"click"],["size","3x",1,"icon-custom","ms-2",3,"icon"],["alt","uLab logo","loading","lazy",1,"card-img-top","carousel-item-crop","px-2","pt-2",2,"margin-bottom","10px",3,"src"],["src","assets/carousel/silicon_banner.webp","alt","uLab logo","loading","lazy",1,"card-img-top","carousel-item-crop","px-2","pt-2"],["size","3x",1,"icon-custom","icon-trash","ms-2",3,"icon"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),w()()(),M(4,"div",4)(5,"div",5)(6,"h1",6),x(7,"Thesis proposal"),w()(),M(8,"div",7),B(9,X61,4,1,"ng-container",8),B(10,n01,14,6,"div",9),w()()),2&t&&(H(9),D("ngIf",r.isLogged),H(1),D("ngForOf",r.thesis))},dependencies:[kn,n2,n3,die],styles:[".card-title[_ngcontent-%COMP%]{color:#133066;font-size:1.25rem}.card-img-top[_ngcontent-%COMP%]{border-radius:13px}"]}),n})();function i01(n,e){1&n&&(ar(0),ce(1,"asl-google-signin-button",6),cr())}function s01(n,e){if(1&n&&(M(0,"button",7)(1,"span",8),x(2),w(),ce(3,"img",9),w(),M(4,"h4",10),x(5," You can now edit "),M(6,"a",11),x(7,"thesis proposals"),w(),x(8," section. "),w()),2&n){const t=L();H(2),Yi("Logged in as ",t.user.name,""),H(1),D("src",t.user.photoUrl,ts)}}let o01=(()=>{class n{constructor(t,r){this.authService=t,this.userService=r,this.user=new O5,this.isLogged=!1,this.destroyed$=new Ke}ngOnInit(){this.userService.loggedSubject.subscribe(t=>{this.isLogged=t,this.isLogged&&(this.user=this.userService.getCurrentUser())}),this.authService.authState.subscribe(t=>{this.userService.saveUserData(t)})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(C(gh),C(F5))},n.\u0275cmp=n1({type:n,selectors:[["app-admin-login"]],decls:10,vars:2,consts:[[1,"container","mt-5","mb-5"],[1,"row","row","justify-content-center"],[1,"col","col-12","col-sm-12","col-md-6","text-container","px-lg-5","align-self-center"],[1,"row","justify-content-center"],[4,"ngIf","ngIfElse"],["loggedBlock",""],["type","standard","size","large"],["id","btn-logged","type","button","disabled","",1,"btn","btn-outline-primary"],[1,"mx-2"],["alt","Avatar",1,"avatar",3,"src"],[1,"mt-3"],["routerLink","/thesis-proposals"]],template:function(t,r){if(1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),x(5," In order to access to your admin privileges, login using your Google or UniBG account, please "),w()(),M(6,"div",3),B(7,i01,2,0,"ng-container",4),B(8,s01,9,2,"ng-template",null,5,St),w()()()()),2&t){const i=I1(9);H(7),D("ngIf",!r.isLogged)("ngIfElse",i)}},dependencies:[n2,n3,ic1],styles:[".avatar[_ngcontent-%COMP%]{vertical-align:middle;width:40px;height:40px;border-radius:50%;border:3px solid #0096ff}#btn-loged[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-right:0;border-radius:35px}"]}),n})(),hie=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}canActivate(t,r){return!!this.userService.loggedSubject.value||(this.router.navigate(["work-in-progress"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(O(F5),O(r2))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a01=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-unauthorized"]],decls:14,vars:0,consts:[[1,"container","my-5"],[1,"row","justify-content-center"],[1,"col","col-12","col-sm-12","col-md-8","text-container","px-lg-6","align-self-center"],["routerLink","/home"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),x(4," Got Lost? "),ce(5,"br")(6,"br")(7,"br"),M(8,"small"),x(9," You are not authorized to access this section... "),ce(10,"br"),x(11," return to "),M(12,"a",3),x(13,"Home"),w()()()()()())},dependencies:[n3],styles:['@import"https://fonts.googleapis.com/css?family=Cabin+Sketch";h1[_ngcontent-%COMP%]{font-family:Cabin Sketch,cursive;font-size:3em;opacity:.8;order:1}h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.6em;display:block}']}),n})();class c01{constructor(e,t,r,i,s,o,a){this.id=e??"",this.title=t??"",this.imgRef=r??"",this.imgUrl=i??"",this.description=s??"",this.type=o??"",this.pdfRef=a??""}toPlainObj(){const e=Object.assign({},this);return delete e.id,delete e.imgUrl,e}}function l01(n,e){1&n&&(ar(0),M(1,"p",7),x(2," You are not authorized to edit this page! "),w(),cr())}const n6=function(n,e,t){return{"":n,"is-invalid":e,"is-valid":t}};function u01(n,e){if(1&n){const t=v1();M(0,"div",8),ce(1,"div",9),M(2,"div",10)(3,"div",11)(4,"h1",12),x(5,"Add new thesis proposal"),w()(),M(6,"form",13,14),te("ngSubmit",function(){return Me(t),we(L().onSubmit())}),M(8,"div",15)(9,"div",16)(10,"input",17,18),te("ngModelChange",function(i){return Me(t),we(L().thesis.title=i)}),w(),M(12,"label",19),x(13,"Title"),w(),M(14,"div",20),x(15," Title is required. "),w(),M(16,"div",20),x(17," Title must be at least 8 characters long. "),w()(),M(18,"div",16)(19,"textarea",21,22),te("ngModelChange",function(i){return Me(t),we(L().thesis.description=i)}),x(21,"              "),w(),M(22,"label",23),x(23,"Description"),w(),M(24,"div",20),x(25," Description is required. "),w(),M(26,"div",20),x(27," Description must be at least 20 characters long. "),w()(),M(28,"div",24)(29,"label",25),x(30,"Type of thesis:"),w(),M(31,"div",26)(32,"input",27,28),te("ngModelChange",function(i){return Me(t),we(L().thesis.type=i)}),w(),M(34,"label",29),x(35," Bachelor thesis "),w()(),M(36,"div",26)(37,"input",30,28),te("ngModelChange",function(i){return Me(t),we(L().thesis.type=i)})("ngModelChange",function(i){return Me(t),we(L().thesis.type=i)}),w(),M(39,"label",31),x(40," Master thesis "),w()(),M(41,"div",20),x(42," Type is required. "),w()(),M(43,"div",24)(44,"label",32),x(45,"Picture:"),w(),M(46,"input",33,34),te("ngModelChange",function(i){return Me(t),we(L().imgBlob=i)})("change",function(i){return Me(t),we(L().onImgChange(i))}),w(),M(48,"div",20),x(49," Img must be png, jpg or jpeg. "),w()(),M(50,"div",24)(51,"label",35),x(52,"PDF:"),w(),M(53,"input",36,37),te("ngModelChange",function(i){return Me(t),we(L().PDFBlob=i)})("change",function(i){return Me(t),we(L().onPDFChange(i))}),w(),M(55,"div",20),x(56," PDF is required. "),w()(),M(57,"div",38)(58,"button",39),x(59,"Submit form"),w()()()()(),ce(60,"div",9),w()}if(2&n){const t=I1(7),r=I1(11),i=I1(20),s=I1(33),o=I1(47),a=I1(54),c=L();H(10),D("ngModel",c.thesis.title)("ngClass",Qi(21,n6,r.untouched,r.invalid&&(r.dirty||r.touched),r.valid)),H(4),D("hidden",r.valid),H(2),D("hidden",r.pristine),H(3),D("ngModel",c.thesis.description)("ngClass",Qi(25,n6,i.untouched,i.invalid&&(i.dirty||i.touched),i.valid)),H(5),D("hidden",i.valid),H(2),D("hidden",i.pristine),H(6),D("ngModel",c.thesis.type)("ngClass",Qi(29,n6,s.untouched,s.invalid&&(s.dirty||s.touched),s.valid)),H(5),D("ngModel",c.thesis.type)("ngModel",c.thesis.type)("ngClass",Qi(33,n6,s.untouched,s.invalid&&(s.dirty||s.touched),s.valid)),H(4),D("hidden",s.valid||s.pristine),H(5),D("ngModel",c.imgBlob)("ngClass",Qi(37,n6,o.untouched,!c.validImgFile,c.thesis.imgRef||c.validImgFile)),H(2),D("hidden",c.thesis.imgRef||c.validImgFile),H(5),D("ngModel",c.PDFBlob)("ngClass",Qi(41,n6,a.untouched,!c.validPDFFile&&(a.dirty||a.touched),c.thesis.pdfRef||a.valid&&c.validPDFFile)),H(2),D("hidden",c.thesis.pdfRef||a.valid&&c.validPDFFile||a.pristine),H(3),D("disabled",!c.manualValidForm&&!t.form.valid)}}const f01=[{path:"home",component:hCe},{path:"research-interest",component:pCe},{path:"thesis-proposals",children:[{path:"",component:r01,canActivate:[hie]},{path:"thesis-form",component:(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.route=i,this.faFilePdf=dT,this.faPenToSquare=jd,this.faTrashCan=Gd,this.faPlus=ah,this.destroyed$=new Ke,this.isLogged=!1,this.firestore=Fe(N5),this.storage=Fe(mh),this.thesis=new c01,this.PDFBlob="",this.imgBlob="",this.validPDFFile=!1,this.validImgFile=!0,this.manualValidForm=!1,this.thesisCollection=LY(this.firestore,"thesis-proposals"),this.thesis$=AY(this.thesisCollection)}ngOnInit(){this.userService.loggedSubject.pipe(k1(this.destroyed$)).subscribe(r=>{this.isLogged=r}),this.route.queryParams.subscribe(r=>{if("id"in r){this.thesis.id=r.id;const i=JSON.parse(r.docObj);this.thesis.title=i.title,this.thesis.description=i.description,this.thesis.imgRef=i.imgRef,this.thesis.pdfRef=i.pdfRef,this.thesis.type=i.type,this.manualValidForm=!0}})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}uploadFile(t,r){const i=Qc(this.storage,r+t.name);return Za1(i,t),i.toString()}onSubmit(){this.imgBlob&&(this.thesis.imgRef=this.uploadFile(this.imgBlob,"img/")),this.PDFBlob&&(this.thesis.pdfRef=this.uploadFile(this.PDFBlob,"pdf/"));const t=this.thesis.toPlainObj();if("id"in this.thesis&&""!=this.thesis.id){const r=aT(this.firestore,"thesis-proposals/"+this.thesis.id);console.log(this.thesis.pdfRef),Axe(r,{title:this.thesis.title,description:this.thesis.description,imgRef:this.thesis.imgRef,pdfRef:this.thesis.pdfRef,type:this.thesis.type}).then(()=>{this.router.navigate(["/thesis-proposal"])})}else Hxe(this.thesisCollection,t).then(r=>{this.router.navigate(["/thesis-proposal"])})}onPDFChange(t){if(t.target.files.length>0){const r=t.target.files[0];r&&("application/pdf"!==r.type?this.validPDFFile=!1:(this.validPDFFile=!0,this.PDFBlob=r))}}onImgChange(t){if(t.target.files.length>0){console.log(t.target.files[0]);const r=t.target.files[0];r?"image/png"!==r.type&&"image/jpg"!==r.type&&"image/jpeg"!==r.type?this.validImgFile=!1:(this.validImgFile=!0,this.imgBlob=r):(this.validImgFile=!0,this.imgBlob="")}}}return n.\u0275fac=function(t){return new(t||n)(C(F5),C(r2),C(vs))},n.\u0275cmp=n1({type:n,selectors:[["app-thesis-form"]],decls:8,vars:2,consts:[["data-ride","carousel",1,"carousel","slide","carousel-top","mb-5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/carousel/silicon_banner.webp","alt","First slide",1,"d-block","w-100","carousel-item-crop"],[1,"container","mt-5"],[4,"ngIf","ngIfElse"],["loggedBlock",""],[1,"lead"],[1,"row","mb-5"],[1,"col-12","col-lg-3"],[1,"col-12","col-lg-6"],[1,"row","justify-content-start"],[1,"fs-3","pb-3"],["novalidate","",1,"needs-validation",3,"ngSubmit"],["thesisForm","ngForm"],[1,"fs-6"],[1,"form-floating","mb-3"],["type","text","id","title","placeholder","Title","required","","minlength","8","name","title",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["for","title"],[1,"invalid-tooltip",3,"hidden"],["type","text","id","description","placeholder","Description","required","","minlength","20","name","description",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["description","ngModel"],["for","description"],[1,"mb-3"],["for","radioType",1,"form-label"],[1,"form-check"],["type","radio","name","radioType","id","bachelor","value","bachelor","checked","","required","","name","type",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["type","ngModel"],["for","bachelor",1,"form-check-label"],["type","radio","name","radioType","id","master","value","master","required","","name","type",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","master",1,"form-check-label"],["for","img",1,"form-label"],["type","file","id","img","name","img",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["img","ngModel"],["for","pdf",1,"form-label"],["type","file","id","pdf","required","","name","pdf",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["pdf","ngModel"],[1,"col-12","mb-3"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,r){if(1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),w()()(),M(4,"div",4),B(5,l01,3,0,"ng-container",5),B(6,u01,61,45,"ng-template",null,6,St),w()),2&t){const i=I1(7);H(5),D("ngIf",!r.isLogged)("ngIfElse",i)}},dependencies:[CR,n2,GO,yu,l_,DO,VO,Vu,g_,c_,Du]}),n})(),canActivate:[hie]}]},{path:"work-in-progress",component:mCe},{path:"admin",component:o01},{path:"unauthorized",component:a01},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home",pathMatch:"full"}];let d01=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({imports:[yF.forRoot(f01,{useHash:!0,scrollPositionRestoration:"enabled",anchorScrolling:"enabled",scrollOffset:[0,25]}),yF]}),n})();function h01(n,e){1&n&&(ar(0),M(1,"a",15),x(2,"Thesis proposals"),w(),cr())}function p01(n,e){1&n&&(M(0,"a",16),x(1,"Thesis proposals"),w())}function m01(n,e){if(1&n){const t=v1();ar(0),ce(1,"div",18),M(2,"div",19)(3,"img",20),te("click",function(){Me(t);const i=L(2);return we(i.showUserMenu=!i.showUserMenu)}),w()(),cr()}if(2&n){const t=L(2);H(3),D("src",t.currentUser.photoUrl,ts)}}function g01(n,e){if(1&n){const t=v1();ce(0,"div",21),M(1,"div",19)(2,"button",22)(3,"span",23),te("click",function(){return Me(t),we(L(2).logout())}),x(4,"Logout"),w(),M(5,"img",20),te("click",function(){Me(t);const i=L(2);return we(i.showUserMenu=!i.showUserMenu)}),w()()()}if(2&n){const t=L(2);H(5),D("src",t.currentUser.photoUrl,ts)}}function v01(n,e){if(1&n&&(ar(0),B(1,m01,4,1,"ng-container",11),B(2,g01,6,1,"ng-template",null,17,St),cr()),2&n){const t=I1(3),r=L();H(1),D("ngIf",!r.showUserMenu)("ngIfElse",t)}}function _01(n,e){1&n&&ce(0,"div",24)}let y01=(()=>{class n{constructor(t){this.userService=t,this.collapsed=!0,this.isLogged=!1,this.destroyed$=new Ke,this.showUserMenu=!1}ngOnInit(){this.userService.loggedSubject.pipe(k1(this.destroyed$)).subscribe(t=>{this.isLogged=t}),this.userService.currentUser$.pipe(k1(this.destroyed$)).subscribe(t=>this.currentUser=t)}logout(){this.showUserMenu=!1,this.userService.signOut()}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(C(F5))},n.\u0275cmp=n1({type:n,selectors:[["app-navbar"]],decls:19,vars:7,consts:[["NgbDropdown","",1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","navbar-custom","px-3"],[1,"me-auto"],["routerLink","/home",1,"navbar-brand"],["src","assets/logos/Loghi_Proposte/ulab_logo_Pr_3.1_neg.png","height","40","alt","Microlab logo","loading","lazy",1,"me-2"],["NgbDropdownToggle","","type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"navbar-collapse"],[1,"navbar-nav","mx-auto"],["NgbDropdownItem","",1,"nav-item","active"],["routerLink","/research-interest",1,"nav-link","mx-2"],["NgbDropdownItem","",1,"nav-item"],[4,"ngIf","ngIfElse"],["WIP",""],[1,"navbar-nav"],["noAvatar",""],["routerLink","/thesis-proposals",1,"nav-link","mx-2"],["routerLink","/work-in-progress",1,"nav-link","mx-2"],["showMenu",""],[1,"ms-2",2,"width","91px"],[1,"ms-auto","me-2"],["alt","Avatar",1,"avatar",3,"src","click"],[1,"ms-2",2,"width","11px"],["id","btn-logout","type","button",1,"btn","btn-primary"],[1,"mx-2",3,"click"],[1,"ms-2",2,"width","111px"]],template:function(t,r){if(1&t&&(M(0,"nav",0)(1,"div",1)(2,"a",2),ce(3,"img",3),w()(),M(4,"button",4),te("click",function(){return r.collapsed=!r.collapsed}),ce(5,"span",5),w(),M(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),x(10,"Research interest"),w()(),M(11,"li",10),B(12,h01,3,0,"ng-container",11),B(13,p01,2,0,"ng-template",null,12,St),w()(),M(15,"ul",13),B(16,v01,4,2,"ng-container",11),B(17,_01,1,0,"ng-template",null,14,St),w()()()),2&t){const i=I1(14),s=I1(18);H(4),Ye("aria-expanded",!r.collapsed),H(2),ye("collapse",r.collapsed),H(6),D("ngIf",r.isLogged)("ngIfElse",i),H(4),D("ngIf",r.isLogged&&r.currentUser)("ngIfElse",s)}},dependencies:[n2,n3,by],styles:[".navbar-custom[_ngcontent-%COMP%]{background-color:#133066}.navbar-custom[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#fff}.brand-custom[_ngcontent-%COMP%]{font-size:x-large;font-weight:700;color:#0096ff}a[_ngcontent-%COMP%]:hover{color:#fff}.navbar-nav[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;font-weight:400}.navbar-nav[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#0096ff;font-weight:400}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%]{background-color:#133066}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%] > .dropdown-item[_ngcontent-%COMP%]{color:#fff;transition:.2s ease-in-out}.navbar-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%] > .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#133066;color:#0096ff;transition:.2s ease-in-out}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:40px;height:40px;border-radius:50%;border:3px solid #0096ff}#btn-logout[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-right:0;border-radius:35px}"]}),n})();var Nie={prefix:"fab",iconName:"researchgate",icon:[448,512,[],"f4f8","M0 32v448h448V32H0zm262.2 334.4c-6.6 3-33.2 6-50-14.2-9.2-10.6-25.3-33.3-42.2-63.6-8.9 0-14.7 0-21.4-.6v46.4c0 23.5 6 21.2 25.8 23.9v8.1c-6.9-.3-23.1-.8-35.6-.8-13.1 0-26.1.6-33.6.8v-8.1c15.5-2.9 22-1.3 22-23.9V225c0-22.6-6.4-21-22-23.9V193c25.8 1 53.1-.6 70.9-.6 31.7 0 55.9 14.4 55.9 45.6 0 21.1-16.7 42.2-39.2 47.5 13.6 24.2 30 45.6 42.2 58.9 7.2 7.8 17.2 14.7 27.2 14.7v7.3zm22.9-135c-23.3 0-32.2-15.7-32.2-32.2V167c0-12.2 8.8-30.4 34-30.4s30.4 17.9 30.4 17.9l-10.7 7.2s-5.5-12.5-19.7-12.5c-7.9 0-19.7 7.3-19.7 19.7v26.8c0 13.4 6.6 23.3 17.9 23.3 14.1 0 21.5-10.9 21.5-26.8h-17.9v-10.7h30.4c0 20.5 4.7 49.9-34 49.9zm-116.5 44.7c-9.4 0-13.6-.3-20-.8v-69.7c6.4-.6 15-.6 22.5-.6 23.3 0 37.2 12.2 37.2 34.5 0 21.9-15 36.6-39.7 36.6z"]};let th1=(()=>{class n{constructor(){this.faResearchgate=Nie}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-footer"]],decls:30,vars:1,consts:[[1,"container-fluid","py-3","border-top","footer-custom"],[1,"row","mx-3"],[1,"col","col-12","col-sm-12","col-md-8","text-center","text-sm-center","text-md-start","mt-2"],[1,"text-start"],["aria-label","Write an e-mail to uLab","target","_blank","rel","noopener","href","mailto:ulabunibg@gmail.com","title","E-mail"],[1,"bi","bi-envelope-at","icon-custom-neg","fs-4","me-2"],["aria-label","uLab on Github","target","_blank","rel","noopener","href","https://github.com/microlab-unibg","title","Github"],[1,"bi","bi-github","icon-custom-neg","fs-4","mx-2"],["aria-label","uLab on Linkedin","target","_blank","rel","noopener","href","https://www.linkedin.com","title","Linkedin"],[1,"bi","bi-linkedin","icon-custom-neg","fs-4","mx-2"],["aria-label","uLab on Researchgate","target","_blank","rel","noopener","href","https://www.researchgate.net/lab/Microlab-Valerio-Re","title","Researchgate"],["transform","grow-2",1,"ms-2","fs-4","icon-custom-neg",3,"icon"],[1,"mt-3"],[1,"mb-2"],[1,"col","col-12","col-sm-12","col-md-4","text-center","text-md-end","mt-2"],[1,"row","justify-content-md-end"],[1,"col","col-12","col-sm-12","col-md-auto","text-center"],["href","https://www.pv.infn.it/en/"],["src","assets/logos/infn_pavia_logo_neg.png","height","130","alt","INFN Logo","loading","lazy"],["href","https://www.unibg.it/"],["src","assets/logos/unibg_landscape.png","height","130","alt","UNIBG Logo","loading","lazy"]],template:function(t,r){1&t&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"span",3)(5,"a",4),ce(6,"i",5),w(),M(7,"a",6),ce(8,"i",7),w(),M(9,"a",8),ce(10,"i",9),w(),M(11,"a",10),ce(12,"fa-icon",11),w()()(),M(13,"div",12)(14,"span",3),x(15," Microelectronics Laboratory"),ce(16,"br"),x(17," University of Bergamo"),ce(18,"br"),x(19," 2, Via Galvani, Dalmine (BG), Italy"),ce(20,"br",13),x(21," \xa9 2023 \u03bcLab "),w()()(),M(22,"div",14)(23,"div",15)(24,"div",16)(25,"a",17),ce(26,"img",18),w()(),M(27,"div",16)(28,"a",19),ce(29,"img",20),w()()()()()()),2&t&&(H(12),D("icon",r.faResearchgate))},dependencies:[die],styles:[".footer-custom[_ngcontent-%COMP%]{background-color:#133066;color:#fff}"]}),n})(),nh1=(()=>{class n{constructor(){this.collapsed=!0,this.title="ulab-webpage-bootstrap"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=n1({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"mat-typography","d-flex","flex-column","h-100"],[1,"flex-shrink-0"],[1,"footer","mt-auto"]],template:function(t,r){1&t&&(M(0,"body",0)(1,"header"),ce(2,"app-navbar"),w(),M(3,"main",1),ce(4,"router-outlet"),w(),M(5,"footer",2),ce(6,"app-footer"),w()())},dependencies:[A_,y01,th1]}),n})();class qie{}class rh1{}const V3="*";function Kie(n,e=null){return{type:2,steps:n,options:e}}function Yie(n){return{type:6,styles:n,offset:null}}function Qie(n){Promise.resolve().then(n)}class J5{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qie(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Zie{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Qie(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const YN="!";function Xie(n){return new I(3e3,!1)}function Oh1(){return typeof window<"u"&&typeof window.document<"u"}function QN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function I4(n){switch(n.length){case 0:return new J5;case 1:return n[0];default:return new Zie(n)}}function Jie(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let c=-1,l=null;if(r.forEach(u=>{const f=u.get("offset"),d=f==c,h=d&&l||new Map;u.forEach((p,m)=>{let g=m,_=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,o),_){case YN:_=i.get(m);break;case V3:_=s.get(m);break;default:_=e.normalizeStyleValue(m,g,_,o)}h.set(g,_)}),d||a.push(h),l=h,c=f}),o.length)throw function Eh1(n){return new I(3502,!1)}();return a}function ZN(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&XN(t,"start",n)));break;case"done":n.onDone(()=>r(t&&XN(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&XN(t,"destroy",n)))}}function XN(n,e,t){const s=JN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function JN(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Kn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function e3e(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let eD=(n,e)=>!1,t3e=(n,e,t)=>[],n3e=null;function tD(n){const e=n.parentNode||n.host;return e===n3e?null:e}(QN()||typeof Element<"u")&&(Oh1()?(n3e=(()=>document.documentElement)(),eD=(n,e)=>{for(;e;){if(e===n)return!0;e=tD(e)}return!1}):eD=(n,e)=>n.contains(e),t3e=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ho=null,r3e=!1;const i3e=eD,s3e=t3e;let o3e=(()=>{class n{validateStyleProperty(t){return function Fh1(n){ho||(ho=function Bh1(){return typeof document<"u"?document.body:null}()||{},r3e=!!ho.style&&"WebkitAppearance"in ho.style);let e=!0;return ho.style&&!function Ph1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ho.style,!e&&r3e&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ho.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return i3e(t,r)}getParentElement(t){return tD(t)}query(t,r,i){return s3e(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new J5(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),nD=(()=>{class n{}return n.NOOP=new o3e,n})();const Uh1=1e3,rD="ng-enter",kh="ng-leave",Rh="ng-trigger",Oh=".ng-trigger",c3e="ng-animating",iD=".ng-animating";function H3(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:sD(parseFloat(e[1]),e[2])}function sD(n,e){return"s"===e?n*Uh1:n}function Ph(n,e,t){return n.hasOwnProperty("duration")?n:function Gh1(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Xie()),{duration:0,delay:0,easing:""};i=sD(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=sD(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function ih1(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function sh1(){return new I(3101,!1)}()),a=!0),a&&e.splice(c,0,Xie())}return{duration:i,delay:s,easing:o}}(n,e,t)}function el(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function l3e(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function x4(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function f3e(n,e,t){return t?e+":"+t+";":""}function d3e(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=f3e(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=f3e(0,Kh1(t),n.style[t]));n.setAttribute("style",e)}function Di(n,e,t){n.style&&(e.forEach((r,i)=>{const s=aD(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),QN()&&d3e(n))}function po(n,e){n.style&&(e.forEach((t,r)=>{const i=aD(r);n.style[i]=""}),QN()&&d3e(n))}function tl(n){return Array.isArray(n)?1==n.length?n[0]:Kie(n):n}const oD=new RegExp("{{\\s*(.+?)\\s*}}","g");function h3e(n){let e=[];if("string"==typeof n){let t;for(;t=oD.exec(n);)e.push(t[1]);oD.lastIndex=0}return e}function nl(n,e,t){const r=n.toString(),i=r.replace(oD,(s,o)=>{let a=e[o];return null==a&&(t.push(function ah1(n){return new I(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Fh(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const qh1=/-+([a-z0-9])/g;function aD(n){return n.replace(qh1,(...e)=>e[1].toUpperCase())}function Kh1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ch1(n){return new I(3004,!1)}()}}function p3e(n,e){return window.getComputedStyle(n)[e]}const $h="*";function ep1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function tp1(n,e,t){if(":"==n[0]){const c=function np1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Mh1(n){return new I(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function bh1(n){return new I(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(m3e(i,o));"<"==s[0]&&!(i==$h&&o==$h)&&e.push(m3e(o,i))}(r,t,e)):t.push(n),t}const Gh=new Set(["true","1"]),jh=new Set(["false","0"]);function m3e(n,e){const t=Gh.has(n)||jh.has(n),r=Gh.has(e)||jh.has(e);return(i,s)=>{let o=n==$h||n==i,a=e==$h||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Gh.has(n):jh.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Gh.has(e):jh.has(e)),o&&a}}const rp1=new RegExp("s*:selfs*,?","g");function cD(n,e,t,r){return new ip1(n).build(e,t,r)}class ip1{constructor(e){this._driver=e}build(e,t,r){const i=new ap1(t);return this._resetContextStyleTimingState(i),Yn(this,tl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function uh1(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function fh1(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{h3e(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(Fh(s.values()),t.errors.push(function dh1(n,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Yn(this,tl(e.animation),t);return{type:1,matchers:ep1(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:mo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Yn(this,r,t)),options:mo(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Yn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:mo(e.options)}}visitAnimate(e,t){const r=function lp1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lD(Ph(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=lD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Ph(t,e);return lD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Yie({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Yie(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===V3?r.push(a):t.errors.push(new I(3002,!1)):r.push(l3e(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let f=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function ph1(n,e,t,r,i){return new I(3010,!1)}()),f=!1),s=u.startTime),f&&l.set(c,{startTime:s,endTime:i}),t.options&&function Wh1(n,e,t){const r=e.params||{},i=h3e(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function oh1(n){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function mh1(){return new I(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,l=0;const u=e.steps.map(_=>{const b=this._makeStyleAst(_,t);let y=null!=b.offset?b.offset:function cp1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),T=0;return null!=y&&(s++,T=b.offset=y),c=c||T<0||T>1,a=a||T<l,l=T,o.push(T),b});c&&t.errors.push(function gh1(){return new I(3012,!1)}()),a&&t.errors.push(function vh1(){return new I(3200,!1)}());const f=e.steps.length;let d=0;s>0&&s<f?t.errors.push(function _h1(){return new I(3202,!1)}()):0==s&&(d=1/(f-1));const h=f-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((_,b)=>{const y=d>0?b==h?1:d*b:o[b],T=y*g;t.currentTime=p+m.delay+T,m.duration=T,this._validateStyleAst(_,t),_.offset=y,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:Yn(this,tl(e.animation),t),options:mo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:mo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:mo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function sp1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rp1,"")),n=n.replace(/@\*/g,Oh).replace(/@\w+/g,t=>Oh+"-"+t.slice(1)).replace(/:animating/g,iD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Kn(t.collectedStyles,t.currentQuerySelector,new Map);const a=Yn(this,tl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:mo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function yh1(){return new I(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ph(e.timings,t.errors,!0);return{type:12,animation:Yn(this,tl(e.animation),t),timings:r,options:null}}}class ap1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mo(n){return n?(n=el(n)).params&&(n.params=function op1(n){return n?el(n):null}(n.params)):n={},n}function lD(n,e,t){return{duration:n,delay:e,easing:t}}function uD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Wh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dp1=new RegExp(":enter","g"),pp1=new RegExp(":leave","g");function fD(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return(new mp1).buildKeyframes(n,e,t,r,i,s,o,a,c,l)}class mp1{buildKeyframes(e,t,r,i,s,o,a,c,l,u=[]){l=l||new Wh;const f=new dD(e,t,l,i,s,u,[]);f.options=c;const d=c.delay?H3(c.delay):0;f.currentTimeline.delayNextStep(d),f.currentTimeline.setStyles([o],null,f.errors,c),Yn(this,r,f);const h=f.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let m=h.length-1;m>=0;m--){const g=h[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,f.errors,c)}return h.length?h.map(p=>p.buildKeyframes()):[uD(t,[],[],[],0,d,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:H3(nl(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?H3(r.duration):null,a=null!=r.delay?H3(r.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Yn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qh);const o=H3(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Yn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?H3(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Yn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ph(t.params?nl(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?H3(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qh);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const f=t.createSubContext(e.options,l);s&&f.delayNextStep(s),l===t.element&&(c=f.currentTimeline),Yn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const f=u.currentTime;Yn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}}const qh={};class dD{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Kh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=H3(r.duration)),null!=r.delay&&(i.delay=H3(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=nl(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new dD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=qh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new gp1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(dp1,"."+this._enterClassName)).replace(pp1,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Ch1(n){return new I(3014,!1)}()),a}}class Kh{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Kh(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||V3),this._currentKeyframe.set(t,V3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function vp1(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,V3)}else x4(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=nl(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??V3),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=x4(a,new Map,this._backFill);l.forEach((u,f)=>{u===YN?e.add(f):u===V3&&t.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});const s=e.size?Fh(e.values()):[],o=t.size?Fh(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return uD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class gp1 extends Kh{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=x4(e[0]);c.set("offset",0),s.push(c);const l=x4(e[0]);l.set("offset",_3e(a)),s.push(l);const u=e.length-1;for(let f=1;f<=u;f++){let d=x4(e[f]);const h=d.get("offset");d.set("offset",_3e((t+h*r)/o)),s.push(d)}r=o,t=0,i="",e=s}return uD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function _3e(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class hD{}const _p1=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yp1 extends hD{normalizePropertyName(e,t){return aD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(_p1.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function lh1(n,e){return new I(3005,!1)}())}return o+s}}function y3e(n,e,t,r,i,s,o,a,c,l,u,f,d){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:f,errors:d}}const pD={};class C3e{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Cp1(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,u){const f=[],d=this.ast.options&&this.ast.options.params||pD,p=this.buildStyles(r,a&&a.params||pD,f),m=c&&c.params||pD,g=this.buildStyles(i,m,f),_=new Set,b=new Map,y=new Map,T="void"===i,A={params:bp1(m,d),delay:this.ast.options?.delay},k=u?[]:fD(e,t,this.ast.animation,s,o,p,g,A,l,f);let J=0;if(k.forEach(Ee=>{J=Math.max(Ee.duration+Ee.delay,J)}),f.length)return y3e(t,this._triggerName,r,i,T,p,g,[],[],b,y,J,f);k.forEach(Ee=>{const u1=Ee.element,nt=Kn(b,u1,new Set);Ee.preStyleProps.forEach(ut=>nt.add(ut));const x2=Kn(y,u1,new Set);Ee.postStyleProps.forEach(ut=>x2.add(ut)),u1!==t&&_.add(u1)});const de=Fh(_.values());return y3e(t,this._triggerName,r,i,T,p,g,k,de,b,y,J)}}function bp1(n,e){const t=el(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Mp1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=el(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=nl(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class Sp1{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Mp1(i.style,i.options&&i.options.params||{},r))}),b3e(this.states,"true","1"),b3e(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new C3e(e,i,this.states))}),this.fallbackTransition=function zp1(n,e,t){return new C3e(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function b3e(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ep1=new Wh;class Tp1{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=cD(this._driver,t,r,i);if(r.length)throw function Th1(n){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Jie(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=fD(this._driver,t,s,rD,kh,new Map,new Map,r,Ep1,i),o.forEach(u=>{const f=Kn(a,u.element,new Map);u.postStyleProps.forEach(d=>f.set(d,null))})):(i.push(function Nh1(){return new I(3300,!1)}()),o=[]),i.length)throw function Dh1(n){return new I(3504,!1)}();a.forEach((u,f)=>{u.forEach((d,h)=>{u.set(h,this._driver.computeStyle(f,h,V3))})});const l=I4(o.map(u=>{const f=a.get(u.element);return this._buildPlayer(u,new Map,f)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Vh1(n){return new I(3301,!1)}();return t}listen(e,t,r,i){const s=JN(t,"","","");return ZN(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const M3e="ng-animate-queued",mD="ng-animate-disabled",Ip1=[],w3e={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xp1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gr="__ng_removed";class gD{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Rp1(n){return n??null}(r?e.value:e),r){const s=el(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const rl="void",vD=new gD(rl);class Ap1{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Hh1(n,e){return new I(3302,!1)}();if(null==r||0==r.length)throw function Ih1(n){return new I(3303,!1)}();if(!function Op1(n){return"start"==n||"done"==n}(r))throw function xh1(n,e){return new I(3400,!1)}();const s=Kn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Kn(this._engine.statesByElement,e,new Map);return a.has(t)||(vr(e,Rh),vr(e,Rh+"-"+t),a.set(t,vD)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ah1(n){return new I(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new _D(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(vr(e,Rh),vr(e,Rh+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new gD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=vD),l.value!==rl&&c.value===l.value){if(!function Bp1(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,l.params)){const m=[],g=s.matchStyles(c.value,c.params,m),_=s.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{po(e,g),Di(e,_)})}return}const d=Kn(this._engine.playersByElement,e,[]);d.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let h=s.matchTransition(c.value,l.value,e,l.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:l,player:o,isFallbackTransition:p}),p||(vr(e,M3e),o.onStart(()=>{r6(e,M3e)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let _=g.indexOf(o);_>=0&&g.splice(_,1)}}),this.players.push(o),d.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Oh,!0);r.forEach(i=>{if(i[gr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,rl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&I4(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,l=r.get(o)||vD,u=new gD(rl),f=new _D(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[gr];(!s||s===w3e)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){vr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=JN(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,ZN(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Lp1{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Ap1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Yh(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Yh(t))return;const s=t[gr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vr(e,mD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),r6(e,mD))}removeNode(e,t,r,i){if(Yh(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[gr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Yh(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Oh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,iD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return I4(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[gr];if(t&&t.setForRemoval){if(e[gr]=w3e,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(mD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?I4(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Lh1(n){return new I(3402,!1)}()}_flushAnimations(e,t){const r=new Wh,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(Y=>{u.add(Y);const oe=this.driver.query(Y,".ng-animate-queued",!0);for(let pe=0;pe<oe.length;pe++)u.add(oe[pe])});const f=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=E3e(d,this.collectedEnterElements),p=new Map;let m=0;h.forEach((Y,oe)=>{const pe=rD+m++;p.set(oe,pe),Y.forEach(Pe=>vr(Pe,pe))});const g=[],_=new Set,b=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){const oe=this.collectedLeaveElements[Y],pe=oe[gr];pe&&pe.setForRemoval&&(g.push(oe),_.add(oe),pe.hasAnimation?this.driver.query(oe,".ng-star-inserted",!0).forEach(Pe=>_.add(Pe)):b.add(oe))}const y=new Map,T=E3e(d,Array.from(_));T.forEach((Y,oe)=>{const pe=kh+m++;y.set(oe,pe),Y.forEach(Pe=>vr(Pe,pe))}),e.push(()=>{h.forEach((Y,oe)=>{const pe=p.get(oe);Y.forEach(Pe=>r6(Pe,pe))}),T.forEach((Y,oe)=>{const pe=y.get(oe);Y.forEach(Pe=>r6(Pe,pe))}),g.forEach(Y=>{this.processLeaveNode(Y)})});const A=[],k=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(t).forEach(pe=>{const Pe=pe.player,ft=pe.element;if(A.push(Pe),this.collectedEnterElements.length){const Ht=ft[gr];if(Ht&&Ht.setForMove){if(Ht.previousTriggersValues&&Ht.previousTriggersValues.has(pe.triggerName)){const an=Ht.previousTriggersValues.get(pe.triggerName),W2=this.statesByElement.get(pe.element);if(W2&&W2.has(pe.triggerName)){const _6=W2.get(pe.triggerName);_6.value=an,W2.set(pe.triggerName,_6)}}return void Pe.destroy()}}const En=!f||!this.driver.containsElement(f,ft),t2=y.get(ft),Jn=p.get(ft),y1=this._buildInstruction(pe,r,Jn,t2,En);if(y1.errors&&y1.errors.length)return void k.push(y1);if(En)return Pe.onStart(()=>po(ft,y1.fromStyles)),Pe.onDestroy(()=>Di(ft,y1.toStyles)),void i.push(Pe);if(pe.isFallbackTransition)return Pe.onStart(()=>po(ft,y1.fromStyles)),Pe.onDestroy(()=>Di(ft,y1.toStyles)),void i.push(Pe);const Kr=[];y1.timelines.forEach(Ht=>{Ht.stretchStartingKeyframe=!0,this.disabledNodes.has(Ht.element)||Kr.push(Ht)}),y1.timelines=Kr,r.append(ft,y1.timelines),o.push({instruction:y1,player:Pe,element:ft}),y1.queriedElements.forEach(Ht=>Kn(a,Ht,[]).push(Pe)),y1.preStyleProps.forEach((Ht,an)=>{if(Ht.size){let W2=c.get(an);W2||c.set(an,W2=new Set),Ht.forEach((_6,No)=>W2.add(No))}}),y1.postStyleProps.forEach((Ht,an)=>{let W2=l.get(an);W2||l.set(an,W2=new Set),Ht.forEach((_6,No)=>W2.add(No))})});if(k.length){const Y=[];k.forEach(oe=>{Y.push(function kh1(n,e){return new I(3505,!1)}())}),A.forEach(oe=>oe.destroy()),this.reportError(Y)}const J=new Map,de=new Map;o.forEach(Y=>{const oe=Y.element;r.has(oe)&&(de.set(oe,oe),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,J))}),i.forEach(Y=>{const oe=Y.element;this._getPreviousPlayers(oe,!1,Y.namespaceId,Y.triggerName,null).forEach(Pe=>{Kn(J,oe,[]).push(Pe),Pe.destroy()})});const Ee=g.filter(Y=>N3e(Y,c,l)),u1=new Map;z3e(u1,this.driver,b,l,V3).forEach(Y=>{N3e(Y,c,l)&&Ee.push(Y)});const x2=new Map;h.forEach((Y,oe)=>{z3e(x2,this.driver,new Set(Y),c,YN)}),Ee.forEach(Y=>{const oe=u1.get(Y),pe=x2.get(Y);u1.set(Y,new Map([...Array.from(oe?.entries()??[]),...Array.from(pe?.entries()??[])]))});const ut=[],Li=[],ki={};o.forEach(Y=>{const{element:oe,player:pe,instruction:Pe}=Y;if(r.has(oe)){if(u.has(oe))return pe.onDestroy(()=>Di(oe,Pe.toStyles)),pe.disabled=!0,pe.overrideTotalTime(Pe.totalTime),void i.push(pe);let ft=ki;if(de.size>1){let t2=oe;const Jn=[];for(;t2=t2.parentNode;){const y1=de.get(t2);if(y1){ft=y1;break}Jn.push(t2)}Jn.forEach(y1=>de.set(y1,ft))}const En=this._buildAnimation(pe.namespaceId,Pe,J,s,x2,u1);if(pe.setRealPlayer(En),ft===ki)ut.push(pe);else{const t2=this.playersByElement.get(ft);t2&&t2.length&&(pe.parentPlayer=I4(t2)),i.push(pe)}}else po(oe,Pe.fromStyles),pe.onDestroy(()=>Di(oe,Pe.toStyles)),Li.push(pe),u.has(oe)&&i.push(pe)}),Li.forEach(Y=>{const oe=s.get(Y.element);if(oe&&oe.length){const pe=I4(oe);Y.setRealPlayer(pe)}}),i.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<g.length;Y++){const oe=g[Y],pe=oe[gr];if(r6(oe,kh),pe&&pe.hasAnimation)continue;let Pe=[];if(a.size){let En=a.get(oe);En&&En.length&&Pe.push(...En);let t2=this.driver.query(oe,iD,!0);for(let Jn=0;Jn<t2.length;Jn++){let y1=a.get(t2[Jn]);y1&&y1.length&&Pe.push(...y1)}}const ft=Pe.filter(En=>!En.destroyed);ft.length?Pp1(this,oe,ft):this.processLeaveNode(oe)}return g.length=0,ut.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();const oe=this.players.indexOf(Y);this.players.splice(oe,1)}),Y.play()}),ut}elementContainsData(e,t){let r=!1;const i=t[gr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==rl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==s,f=Kn(r,l,[]);this._getPreviousPlayers(l,u,o,a,t.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),f.push(h)})}po(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,l=[],u=new Set,f=new Set,d=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[gr];if(g&&g.removedBeforeQueried)return new J5(p.duration,p.delay);const _=m!==c,b=function Fp1(n){const e=[];return T3e(n,e),e}((r.get(m)||Ip1).map(J=>J.getRealPlayer())).filter(J=>!!J.element&&J.element===m),y=s.get(m),T=o.get(m),A=Jie(0,this._normalizer,0,p.keyframes,y,T),k=this._buildPlayer(p,A,b);if(p.subTimeline&&i&&f.add(m),_){const J=new _D(e,a,m);J.setRealPlayer(k),l.push(J)}return k});l.forEach(p=>{Kn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function kp1(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>vr(p,c3e));const h=I4(d);return h.onDestroy(()=>{u.forEach(p=>r6(p,c3e)),Di(c,t.toStyles)}),f.forEach(p=>{Kn(i,p,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new J5(e.duration,e.delay)}}class _D{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new J5,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ZN(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Kn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yh(n){return n&&1===n.nodeType}function S3e(n,e){const t=n.style.display;return n.style.display=e??"none",t}function z3e(n,e,t,r,i){const s=[];t.forEach(c=>s.push(S3e(c)));const o=[];r.forEach((c,l)=>{const u=new Map;c.forEach(f=>{const d=e.computeStyle(l,f,i);u.set(f,d),(!d||0==d.length)&&(l[gr]=xp1,o.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>S3e(c,s[a++])),o}function E3e(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?r:o(l),s.set(a,c),c}return e.forEach(a=>{const c=o(a);c!==r&&t.get(c).push(a)}),t}function vr(n,e){n.classList?.add(e)}function r6(n,e){n.classList?.remove(e)}function Pp1(n,e,t){I4(t).onDone(()=>n.processLeaveNode(e))}function T3e(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Zie?T3e(r.players,e):e.push(r)}}function N3e(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Qh{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Lp1(e,t,r),this._timelineEngine=new Tp1(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],l=[],u=cD(this._driver,s,c,l);if(c.length)throw function zh1(n,e){return new I(3404,!1)}();a=function wp1(n,e,t){return new Sp1(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=e3e(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=e3e(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $p1=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Di(this._element,this._initialStyles),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(po(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(po(this._element,this._endStyles),this._endStyles=null),Di(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function yD(n){let e=null;return n.forEach((t,r)=>{(function Gp1(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class D3e{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:p3e(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jp1{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return i3e(e,t)}getParentElement(e){return tD(e)}query(e,t,r){return s3e(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const l=new Map,u=o.filter(h=>h instanceof D3e);(function Yh1(n,e){return 0===n||0===e})(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,m)=>l.set(m,p))});let f=function jh1(n){return n.length?n[0]instanceof Map?n:n.map(e=>l3e(e)):[]}(t).map(h=>x4(h));f=function Qh1(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,p3e(n,a)))}}return e}(e,f,l);const d=function Up1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=yD(e[0]),e.length>1&&(r=yD(e[e.length-1]))):e instanceof Map&&(t=yD(e)),t||r?new $p1(n,t,r):null}(e,f);return new D3e(e,f,c,d)}}let Wp1=(()=>{class n extends qie{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:br.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Kie(t):t;return V3e(this._renderer,null,r,"register",[i]),new qp1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(O(ra),O(G1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class qp1 extends rh1{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Kp1(this._id,e,t||{},this._renderer)}}class Kp1{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return V3e(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function V3e(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const H3e="@.disabled";let Yp1=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new I3e("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(c),new Qp1(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(O(ra),O(Qh),O(Ce))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class I3e{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==H3e?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Qp1 extends I3e{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==H3e?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Zp1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Xp1(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Jp1=(()=>{class n extends Qh{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(O(G1),O(nD),O(hD),O(Na))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const x3e=[{provide:qie,useClass:Wp1},{provide:hD,useFactory:function em1(){return new yp1}},{provide:Qh,useClass:Jp1},{provide:ra,useFactory:function tm1(n,e,t){return new Yp1(n,e,t)},deps:[_u,Qh,Ce]}],CD=[{provide:nD,useFactory:()=>new jp1},{provide:Nk,useValue:"BrowserAnimations"},...x3e],A3e=[{provide:nD,useClass:o3e},{provide:Nk,useValue:"NoopAnimations"},...x3e];let nm1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?A3e:CD}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:CD,imports:[ZR]}),n})();const bD_firebase={projectId:"website-frontend-firebase",appId:"1:100730812687:web:1dc297c1e1fe548ee8267a",databaseURL:"https://website-frontend-firebase-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"website-frontend-firebase.appspot.com",locationId:"europe-west",apiKey:"AIzaSyCrn5ifRu3Q0qDKy6oE_lOeigl0Tcx4bYg",authDomain:"website-frontend-firebase.firebaseapp.com",messagingSenderId:"100730812687",measurementId:"G-5SC1C33J1T"},bD_google_client_id="100730812687-lh1opcloap262quiioatcae8hs799skl.apps.googleusercontent.com";class il{constructor(e){return e}}const k3e=U9.async,om1=W1(wSe,!0),am1=W1(b$,!0),cm1=W1(ESe,!0);let R3e=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],Ge("angularfire",Un.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),k3e().then(()=>{const o=i.get(il);o?this.disposables=[TNe(t).subscribe(a=>{cm1(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(O(mf),O(Ce),O(T1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const O3e="firebase_screen_id",MD="outlet",sl="screen_class",P3e="screen_name";let Cm1=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const wD={},bm1=n=>{const e=[n[sl],n[MD]].join("#");if(wD.hasOwnProperty(e))return wD[e];{const t=Cm1++;return wD[e]=t,t}},Mm1=(n,e,t)=>n.events.pipe(Et(i=>i instanceof AP)).pipe(_n(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",c=n.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!c)return he(null);let l=c;for(;l.firstChild;)l=l.firstChild;const u=l.pathFromRoot.map(h=>{var p;return null===(p=h.routeConfig)||void 0===p?void 0:p.path}).filter(h=>h).join("/")||"/",f={[P3e]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[MD]:i.snapshot.outlet};e&&(f.page_title=e.getTitle());let d=c.component;if(d){if(d===ju){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;d=h.component}}else d=i.snapshot.component;if("string"==typeof d)return he(Object.assign(Object.assign({},f),{[sl]:d}));if(d){const h=t.resolveComponentFactory(d);return he(Object.assign(Object.assign({},f),{[sl]:h.selector}))}return he(null)}),Et(i=>!!i),ge(i=>Object.assign({firebase_screen_class:i[sl],[O3e]:bm1(i)},i)),function rm1(n,e,t,r){return D1((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(m=>m.error(p));let u=0,f=!1;const d=new Fl(s,p=>{try{const m=n(p);let g=a.get(m);if(!g){a.set(m,g=r?r():new Ke);const _=function h(p,m){const g=new Je(_=>{u++;const b=m.subscribe(_);return()=>{b.unsubscribe(),0==--u&&f&&d.unsubscribe()}});return g.key=p,g}(m,g);if(s.next(_),t){const b=C1(g,()=>{g.complete(),b?.unsubscribe()},void 0,void 0,()=>a.delete(m));d.add(xt(t(_)).subscribe(b))}}g.next(o?o(p):p)}catch(m){l(m)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(f=!0,0===u));i.subscribe(d)})}(i=>i[MD]),At(i=>i.pipe(r9((s,o)=>JSON.stringify(s)===JSON.stringify(o)),V0(void 0),function im1(){return D1((n,e)=>{let t,r=!1;n.subscribe(C1(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),ge(([s,o])=>s?Object.assign({firebase_previous_class:s[sl],firebase_previous_screen:s[P3e],firebase_previous_id:s[O3e]},o):o))));let wm1=(()=>{class n{constructor(t,r,i,s,o,a){Ge("angularfire",Un.full,"screen-tracking"),k3e().then(()=>{const c=a.get(il);!t||!c||s.runOutsideAngular(()=>{this.disposable=Mm1(t,r,i).pipe(_n(l=>S(this,void 0,void 0,function*(){return o&&(yield o.initialized),am1(c,"screen_view",l)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(O(r2,8),O(Wv,8),O(ta),O(Ce),O(R3e,8),O(T1))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const SD=new ne("angularfire2.analytics-instances");function zm1(n){return(e,t)=>{if(!U9.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new il(r)}}const Em1={provide:class sm1{constructor(){return pi("analytics")}},deps:[[new Ze,SD]]},Tm1={provide:il,useFactory:function Sm1(n,e){if(!U9.sync())return null;const t=hi("analytics",n,e);return t&&new il(t)},deps:[[new Ze,SD],$n]};let Nm1=(()=>{class n{constructor(t,r){Ge("angularfire",Un.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(O(wm1,8),O(R3e,8))},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[Tm1,Em1,{provide:os,useValue:U9.async,multi:!0}]}),n})();function Dm1(n,...e){return{ngModule:Nm1,providers:[{provide:SD,useFactory:zm1(n),multi:!0,deps:[Ce,T1,mi,gi,...e]}]}}const F3e="@firebase/database";let zD="";class Hm1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),S2(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:s8(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Im1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return s3(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const U3e=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Hm1(e)}}catch{}return new Im1},go=U3e("localStorage"),ED=U3e("sessionStorage"),i6=new i4("@firebase/database"),$3e=function(){let n=1;return function(){return n++}}(),G3e=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,q(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new HCe;t.update(e);const r=t.digest();return M9.encodeByteArray(r)},ol=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=ol.apply(null,r):e+="object"==typeof r?S2(r):r,e+=" "}return e};let vo=null,j3e=!0;const h2=function(...n){if(!0===j3e&&(j3e=!1,null===vo&&!0===ED.get("logging_enabled")&&function(n,e){q(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(i6.logLevel=Qe.VERBOSE,vo=i6.log.bind(i6),e&&ED.set("logging_enabled",!0)):"function"==typeof n?vo=n:(vo=null,ED.remove("logging_enabled"))}(!0)),vo){const e=ol.apply(null,n);vo(e)}},al=function(n){return function(...e){h2(n,...e)}},TD=function(...n){const e="FIREBASE INTERNAL ERROR: "+ol(...n);i6.error(e)},Vi=function(...n){const e=`FIREBASE FATAL ERROR: ${ol(...n)}`;throw i6.error(e),new Error(e)},j2=function(...n){const e="FIREBASE WARNING: "+ol(...n);i6.warn(e)},Xh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},A4="[MIN_NAME]",I3="[MAX_NAME]",_o=function(n,e){if(n===e)return 0;if(n===A4||e===I3)return-1;if(e===A4||n===I3)return 1;{const t=Y3e(n),r=Y3e(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Lm1=function(n,e){return n===e?0:n<e?-1:1},cl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+S2(e))},ND=function(n){if("object"!=typeof n||null===n)return S2(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=S2(e[r]),t+=":",t+=ND(n[e[r]]);return t+="}",t},q3e=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function p2(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const K3e=function(n){q(!Xh(n),"Invalid JSON number");const r=1023;let i,s,o,a,c;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=11;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const u=l.join("");let f="";for(c=0;c<64;c+=8){let d=parseInt(u.substr(c,8),2).toString(16);1===d.length&&(d="0"+d),f+=d}return f.toLowerCase()},Pm1=new RegExp("^-?(0*)\\d{1,10}$"),Y3e=function(n){if(Pm1.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},s6=function(n){try{n()}catch(e){setTimeout(()=>{throw j2("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Um1=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ll=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class $m1{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){j2(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Gm1{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(h2("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',j2(e)}}let ul=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const e4e=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,r4e="websocket",i4e="long_polling";class VD{constructor(e,t,r,i,s=!1,o="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=go.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&go.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function s4e(n,e,t){let r;if(q("string"==typeof e,"typeof type must == string"),q("object"==typeof t,"typeof params must == object"),e===r4e)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==i4e)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function jm1(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return p2(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Wm1{constructor(){this.counters_={}}incrementCounter(e,t=1){s3(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return _Ce(this.counters_)}}const HD={},ID={};function xD(n){const e=n.toString();return HD[e]||(HD[e]=new Wm1),HD[e]}class Km1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&s6(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class L4{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=al(e),this.stats_=xD(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),s4e(t,i4e,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Km1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if(i3()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new AD((...s)=>{const[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=c;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&e4e.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){L4.forceAllow_=!0}static forceDisallow(){L4.forceDisallow_=!0}static isAvailable(){return!(i3()||!L4.forceAllow_&&(L4.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=S2(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=lU(t),i=q3e(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(i3())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=S2(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class AD{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,i3())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=$3e(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=AD.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){h2("frame writing exception"),a.stack&&h2(a.stack),h2(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||h2("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){i3()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{h2("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let ep=null;typeof MozWebSocket<"u"?ep=MozWebSocket:typeof WebSocket<"u"&&(ep=WebSocket);let o6=(()=>{class n{constructor(t,r,i,s,o,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=al(this.connId),this.stats_=xD(r),this.connURL=n.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return!i3()&&typeof location<"u"&&location.hostname&&e4e.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),s4e(t,r4e,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,go.set("previous_websocket_failure",!0);try{let i;if(i3()){i={headers:{"User-Agent":`Firebase/5/${zD}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new ep(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==ep&&!n.forceDisallow_}static previouslyFailed(){return go.isInMemoryStorage||!0===go.get("previous_websocket_failure")}markConnectionHealthy(){go.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=s8(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(q(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=S2(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=q3e(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),d4e=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[L4,o6]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=o6&&o6.isAvailable();let i=r&&!o6.previouslyFailed();if(t.webSocketOnly&&(r||j2("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[o6];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class y4e{constructor(e,t,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=al("c:"+this.id+":"),this.transportManager_=new d4e(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ll(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=cl("t",e),r=cl("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=cl("t",e),r=cl("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=cl("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?TD("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):TD("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&j2("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),ll(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ll(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class C4e{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class b4e{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){q(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class tp extends b4e{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tp}getInitialEvent(e){return q("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const M4e=32,w4e=768;class _1{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function f1(){return new _1("")}function je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function k4(n){return n.pieces_.length-n.pieceNum_}function N1(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new _1(n.pieces_,e)}function kD(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function fl(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function S4e(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new _1(e,0)}function tt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof _1)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new _1(t,0)}function We(n){return n.pieceNum_>=n.pieces_.length}function on(n,e){const t=je(n),r=je(e);if(null===t)return e;if(t===r)return on(N1(n),N1(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function RD(n,e){if(k4(n)!==k4(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function _r(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(k4(n)>k4(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class vg1{constructor(e,t){this.errorPrefix_=t,this.parts_=fl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=H9(this.parts_[r]);z4e(this)}}function z4e(n){if(n.byteLength_>w4e)throw new Error(n.errorPrefix_+"has a key path longer than "+w4e+" bytes ("+n.byteLength_+").");if(n.parts_.length>M4e)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+M4e+") or object contains a cycle "+yo(n))}function yo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class OD extends b4e{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new OD}getInitialEvent(e){return q("visible"===e,"Unknown event type: "+e),[this.visible_]}}const dl=1e3;let rp,Co=(()=>{class n extends C4e{constructor(t,r,i,s,o,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=al("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!i3())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");OD.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&tp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(S2(o)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Xa,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&s3(t,"w")){const i=ec(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();j2(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=N9(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=N9(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+S2(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):TD("Unrecognized action received from server: "+S2(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=dl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return v(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,s())};t.realtime_={close:u,sendRequest:function(h){q(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)}};const d=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[h,p]=yield Promise.all([t.authTokenProvider_.getToken(d),t.appCheckTokenProvider_.getToken(d)]);c?h2("getToken() completed but was canceled"):(h2("getToken() completed. Creating connection."),t.authToken_=h&&h.accessToken,t.appCheckToken_=p&&p.token,l=new y4e(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,m=>{j2(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(h){t.log_("Failed to get token: "+h),c||(t.repoInfo_.nodeAdmin&&j2(h),u())}}})()}interrupt(t){h2("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){h2("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ty(this.interruptReasons_)&&(this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>ND(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new _1(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){h2("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){h2("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";i3()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+zD.replace(/\./g,"-")]=1,zy()?t["framework.cordova"]=1:pU()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=tp.getInstance().currentlyOnline();return Ty(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}class np{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new qe(A4,e),i=new qe(A4,t);return 0!==this.compare(r,i)}minPost(){return qe.MIN}}class N4e extends np{static get __EMPTY_NODE(){return rp}static set __EMPTY_NODE(e){rp=e}compare(e,t){return _o(e.name,t.name)}isDefinedOn(e){throw Za("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(I3,rp)}makePost(e,t){return q("string"==typeof e,"KeyIndex indexValue must always be a string."),new qe(e,rp)}toString(){return".key"}}const Hi=new N4e;class ip{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let FD,Gr=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??zn.EMPTY_NODE,this.right=o??zn.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return zn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return zn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class zn{constructor(e,t=zn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new zn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Gr.BLACK,null,null))}remove(e){return new zn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ip(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ip(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ip(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ip(this.root_,null,this.comparator_,!0,e)}}function zg1(n,e){return _o(n.name,e.name)}function PD(n,e){return _o(n,e)}zn.EMPTY_NODE=new class Sg1{copy(e,t,r,i,s){return this}insert(e,t,r){return new Gr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const D4e=function(n){return"number"==typeof n?"number:"+K3e(n):"string:"+n},V4e=function(n){if(n.isLeafNode()){const e=n.val();q("string"==typeof e||"number"==typeof e||"object"==typeof e&&s3(e,".sv"),"Priority must be a string or number.")}else q(n===FD||n.isEmpty(),"priority of unexpected type.");q(n===FD||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let H4e,I4e,x4e,a6=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,q(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),V4e(this.priorityNode_)}static set __childrenNodeConstructor(t){H4e=t}static get __childrenNodeConstructor(){return H4e}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return We(t)?this:".priority"===je(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=je(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(q(".priority"!==i||1===k4(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(N1(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+D4e(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?K3e(this.value_):this.value_,this.lazyHash_=G3e(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return q(s>=0,"Unknown leaf type: "+r),q(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const P1=new class Dg1 extends np{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?_o(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(I3,new a6("[PRIORITY-POST]",x4e))}makePost(e,t){const r=I4e(e);return new qe(t,new a6("[PRIORITY-POST]",r))}toString(){return".priority"}},Vg1=Math.log(2);class Hg1{constructor(e){this.count=parseInt(Math.log(e+1)/Vg1,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sp=function(n,e,t,r){n.sort(e);const i=function(c,l){const u=l-c;let f,d;if(0===u)return null;if(1===u)return f=n[c],d=t?t(f):f,new Gr(d,f.node,Gr.BLACK,null,null);{const h=parseInt(u/2,10)+c,p=i(c,h),m=i(h+1,l);return f=n[h],d=t?t(f):f,new Gr(d,f.node,Gr.BLACK,p,m)}},a=function(c){let l=null,u=null,f=n.length;const d=function(p,m){const g=f-p,_=f;f-=p;const b=i(g+1,_),y=n[g],T=t?t(y):y;h(new Gr(T,y.node,m,null,b))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){const m=c.nextBitIsOne(),g=Math.pow(2,c.count-(p+1));m?d(g,Gr.BLACK):(d(g,Gr.BLACK),d(g,Gr.RED))}return u}(new Hg1(n.length));return new zn(r||e,a)};let BD;const c6={};class x3{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return q(c6&&P1,"ChildrenNode.ts has not been loaded"),BD=BD||new x3({".priority":c6},{".priority":P1}),BD}get(e){const t=ec(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof zn?t:null}hasIndex(e){return s3(this.indexSet_,e.toString())}addIndex(e,t){q(e!==Hi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(qe.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?sp(r,e.getCompare()):c6;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new x3(u,l)}addToIndexes(e,t){const r=D9(this.indexes_,(i,s)=>{const o=ec(this.indexSet_,s);if(q(o,"Missing index implementation for "+s),i===c6){if(o.isDefinedOn(e.node)){const a=[],c=t.getIterator(qe.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),sp(a,o.getCompare())}return c6}{const a=t.get(e.name);let c=i;return a&&(c=c.remove(new qe(e.name,a))),c.insert(e,e.node)}});return new x3(r,this.indexSet_)}removeFromIndexes(e,t){const r=D9(this.indexes_,i=>{if(i===c6)return i;{const s=t.get(e.name);return s?i.remove(new qe(e.name,s)):i}});return new x3(r,this.indexSet_)}}let hl,Le=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&V4e(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hl||(hl=new n(new zn(PD),null,x3.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hl}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?hl:r}}getChild(t){const r=je(t);return null===r?this:this.getImmediateChild(r).getChild(N1(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(q(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new qe(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?hl:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=je(t);if(null===i)return r;{q(".priority"!==je(t)||1===k4(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(N1(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(P1,(a,c)=>{r[a]=c.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+D4e(this.getPriority().val())+":"),this.forEachChild(P1,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":G3e(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new qe(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new qe(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new qe(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,qe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,qe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pl?-1:0}withIndex(t){if(t===Hi||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Hi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(P1),s=r.getIterator(P1);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Hi?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const pl=new class Ig1 extends Le{constructor(){super(new zn(PD),Le.EMPTY_NODE,x3.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Le.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(qe,{MIN:{value:new qe(A4,Le.EMPTY_NODE)},MAX:{value:new qe(I3,pl)}}),N4e.__EMPTY_NODE=Le.EMPTY_NODE,a6.__childrenNodeConstructor=Le,function Eg1(n){FD=n}(pl),function Ng1(n){x4e=n}(pl);const xg1=!0;function lt(n,e=null){if(null===n)return Le.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),q(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new a6(n,lt(e));if(n instanceof Array||!xg1){let t=Le.EMPTY_NODE;return p2(n,(r,i)=>{if(s3(n,r)&&"."!==r.substring(0,1)){const s=lt(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(lt(e))}{const t=[];let r=!1;if(p2(n,(o,a)=>{if("."!==o.substring(0,1)){const c=lt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new qe(o,c)))}}),0===t.length)return Le.EMPTY_NODE;const s=sp(t,zg1,o=>o.name,PD);if(r){const o=sp(t,P1.getCompare());return new Le(s,lt(e),new x3({".priority":o},{".priority":P1}))}return new Le(s,lt(e),x3.Default)}}!function Tg1(n){I4e=n}(lt);class UD extends np{constructor(e){super(),this.indexPath_=e,q(!We(e)&&".priority"!==je(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?_o(e.name,t.name):s}makePost(e,t){const r=lt(e),i=Le.EMPTY_NODE.updateChild(this.indexPath_,r);return new qe(t,i)}maxPost(){const e=Le.EMPTY_NODE.updateChild(this.indexPath_,pl);return new qe(I3,e)}toString(){return fl(this.indexPath_,0).join("/")}}const $D=new class Ag1 extends np{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?_o(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const r=lt(e);return new qe(t,r)}toString(){return".value"}};function gl(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class jD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=P1}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A4}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I3}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===P1}copy(){const e=new jD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function L4e(n){const e={};if(n.isDefault())return e;let t;if(n.index_===P1?t="$priority":n.index_===$D?t="$value":n.index_===Hi?t="$key":(q(n.index_ instanceof UD,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=S2(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=S2(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+S2(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=S2(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+S2(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function k4e(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==P1&&(e.i=n.index_.toString()),e}class ap extends C4e{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=al("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ap.getListenId_(e,r),a={};this.listens_[o]=a;const c=L4e(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let f=u;if(404===l&&(f=null,l=null),null===l&&this.onDataUpdate_(s,f,!1,r),ec(this.listens_,o)===a){let d;d=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(d,null)}})}unlisten(e,t){const r=ap.getListenId_(e,t);delete this.listens_[r]}get(e){const t=L4e(e._queryParams),r=e._path.toString(),i=new Xa;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+a8(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=s8(a.responseText)}catch{j2("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&j2("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Ug1{constructor(){this.rootNode_=Le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function cp(){return{value:null,children:new Map}}function u6(n,e,t){if(We(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=je(e);n.children.has(r)||n.children.set(r,cp()),u6(n.children.get(r),e=N1(e),t)}}function YD(n,e,t){null!==n.value?t(e,n.value):function $g1(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{YD(i,new _1(e.toString()+"/"+r),t)})}class Gg1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&p2(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class qg1{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Gg1(e);const r=1e4+2e4*Math.random();ll(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;p2(e,(i,s)=>{s>0&&s3(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),ll(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var yr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(yr||(yr={})),yr))();function XD(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class lp{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=yr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(We(this.path)){if(null!=this.affectedTree.value)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new _1(e));return new lp(f1(),t,this.revert)}}return q(je(this.path)===e,"operationForChild called for unrelated child."),new lp(N1(this.path),this.affectedTree,this.revert)}}class bo{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=yr.OVERWRITE}operationForChild(e){return We(this.path)?new bo(this.source,f1(),this.snap.getImmediateChild(e)):new bo(this.source,N1(this.path),this.snap)}}class f6{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=yr.MERGE}operationForChild(e){if(We(this.path)){const t=this.children.subtree(new _1(e));return t.isEmpty()?null:t.value?new bo(this.source,f1(),t.value):new f6(this.source,f1(),t)}return q(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new f6(this.source,N1(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class R4{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(We(e))return this.isFullyInitialized()&&!this.filtered_;const t=je(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function yl(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,c)=>function Zg1(n,e,t){if(null==e.childName||null==t.childName)throw Za("Should only compare child_ events.");const r=new qe(e.childName,e.snapshotNode),i=new qe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,c)),o.forEach(a=>{const c=function Qg1(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function up(n,e){return{eventCache:n,serverCache:e}}function Cl(n,e,t,r){return up(new R4(e,t,r),n.serverCache)}function O4e(n,e,t,r){return up(n.eventCache,new R4(e,t,r))}function fp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Mo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let JD;class F1{constructor(e,t=(()=>(JD||(JD=new zn(Lm1)),JD))()){this.value=e,this.children=t}static fromObject(e){let t=new F1(null);return p2(e,(r,i)=>{t=t.set(new _1(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:f1(),value:this.value};if(We(e))return null;{const r=je(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(N1(e),t);return null!=s?{path:tt(new _1(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(We(e))return this;{const t=je(e),r=this.children.get(t);return null!==r?r.subtree(N1(e)):new F1(null)}}set(e,t){if(We(e))return new F1(t,this.children);{const r=je(e),s=(this.children.get(r)||new F1(null)).set(N1(e),t),o=this.children.insert(r,s);return new F1(this.value,o)}}remove(e){if(We(e))return this.children.isEmpty()?new F1(null):new F1(null,this.children);{const t=je(e),r=this.children.get(t);if(r){const i=r.remove(N1(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new F1(null):new F1(this.value,s)}return this}}get(e){if(We(e))return this.value;{const t=je(e),r=this.children.get(t);return r?r.get(N1(e)):null}}setTree(e,t){if(We(e))return t;{const r=je(e),s=(this.children.get(r)||new F1(null)).setTree(N1(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new F1(this.value,o)}}fold(e){return this.fold_(f1(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(tt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,f1(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(We(e))return null;{const s=je(e),o=this.children.get(s);return o?o.findOnPath_(N1(e),tt(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,f1(),t)}foreachOnPath_(e,t,r){if(We(e))return this;{this.value&&r(t,this.value);const i=je(e),s=this.children.get(i);return s?s.foreachOnPath_(N1(e),tt(t,i),r):new F1(null)}}foreach(e){this.foreach_(f1(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(tt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class jr{constructor(e){this.writeTree_=e}static empty(){return new jr(new F1(null))}}function bl(n,e,t){if(We(e))return new jr(new F1(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=on(i,e);return s=s.updateChild(o,t),new jr(n.writeTree_.set(i,s))}{const i=new F1(t),s=n.writeTree_.setTree(e,i);return new jr(s)}}}function eV(n,e,t){let r=n;return p2(t,(i,s)=>{r=bl(r,tt(e,i),s)}),r}function P4e(n,e){if(We(e))return jr.empty();{const t=n.writeTree_.setTree(e,new F1(null));return new jr(t)}}function tV(n,e){return null!=wo(n,e)}function wo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(on(t.path,e)):null}function F4e(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(P1,(r,i)=>{e.push(new qe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new qe(r,i.value))}),e}function O4(n,e){if(We(e))return n;{const t=wo(n,e);return new jr(null!=t?new F1(t):n.writeTree_.subtree(e))}}function nV(n){return n.writeTree_.isEmpty()}function d6(n,e){return B4e(f1(),n.writeTree_,e)}function B4e(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(q(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=B4e(tt(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(tt(n,".priority"),r)),t}}function dp(n,e){return W4e(e,n)}function rv1(n,e){if(n.snap)return _r(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&_r(tt(n.path,t),e))return!0;return!1}function sv1(n){return n.visible}function U4e(n,e,t){let r=jr.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)_r(t,o)?(a=on(t,o),r=bl(r,a,s.snap)):_r(o,t)&&(a=on(o,t),r=bl(r,f1(),s.snap.getChild(a)));else{if(!s.children)throw Za("WriteRecord should have .snap or .children");if(_r(t,o))a=on(t,o),r=eV(r,a,s.children);else if(_r(o,t))if(a=on(o,t),We(a))r=eV(r,f1(),s.children);else{const c=ec(s.children,je(a));if(c){const l=c.getChild(N1(a));r=bl(r,f1(),l)}}}}}return r}function $4e(n,e,t,r,i){if(r||i){const s=O4(n.visibleWrites,e);return!i&&nV(s)?t:i||null!=t||tV(s,f1())?d6(U4e(n.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(_r(l.path,e)||_r(e,l.path))},e),t||Le.EMPTY_NODE):null}{const s=wo(n.visibleWrites,e);if(null!=s)return s;{const o=O4(n.visibleWrites,e);return nV(o)?t:null!=t||tV(o,f1())?d6(o,t||Le.EMPTY_NODE):null}}}function hp(n,e,t,r){return $4e(n.writeTree,n.treePath,e,t,r)}function rV(n,e){return function ov1(n,e,t){let r=Le.EMPTY_NODE;const i=wo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(P1,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=O4(n.visibleWrites,e);return t.forEachChild(P1,(o,a)=>{const c=d6(O4(s,new _1(o)),a);r=r.updateImmediateChild(o,c)}),F4e(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return F4e(O4(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function G4e(n,e,t,r){return function av1(n,e,t,r,i){q(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=tt(e,t);if(tV(n.visibleWrites,s))return null;{const o=O4(n.visibleWrites,s);return nV(o)?i.getChild(t):d6(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function pp(n,e){return function lv1(n,e){return wo(n.visibleWrites,e)}(n.writeTree,tt(n.treePath,e))}function iV(n,e,t){return function cv1(n,e,t,r){const i=tt(e,t),s=wo(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?d6(O4(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function j4e(n,e){return W4e(tt(n.treePath,e),n.writeTree)}function W4e(n,e){return{treePath:n,writeTree:e}}class hv1{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;q("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),q(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,gl(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function ml(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function l6(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Za("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,gl(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const q4e=new class pv1{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class sV{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new R4(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iV(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mo(this.viewCache_),s=function dv1(n,e,t,r,i,s){return function uv1(n,e,t,r,i,s,o){let a;const c=O4(n.visibleWrites,e),l=wo(c,f1());if(null!=l)a=l;else{if(null==t)return[];a=d6(c,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],f=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=d.getNext();for(;h&&u.length<i;)0!==f(h,r)&&u.push(h),h=d.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function K4e(n,e,t,r,i,s){const o=e.eventCache;if(null!=pp(r,t))return e;{let a,c;if(We(t))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Mo(e),f=rV(r,l instanceof Le?l:Le.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const l=hp(r,Mo(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=je(t);if(".priority"===l){q(1===k4(t),"Can't have a priority with additional path components");const u=o.getNode();c=e.serverCache.getNode();const f=G4e(r,t,u,c);a=null!=f?n.filter.updatePriority(u,f):o.getNode()}else{const u=N1(t);let f;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();const d=G4e(r,t,o.getNode(),c);f=null!=d?o.getNode().getImmediateChild(l).updateChild(u,d):o.getNode().getImmediateChild(l)}else f=iV(r,l,e.serverCache);a=null!=f?n.filter.updateChild(o.getNode(),l,f,u,i,s):o.getNode()}}return Cl(e,a,o.isFullyInitialized()||We(t),n.filter.filtersNodes())}}function mp(n,e,t,r,i,s,o,a){const c=e.serverCache;let l;const u=o?n.filter:n.filter.getIndexedFilter();if(We(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const h=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),h,null)}else{const h=je(t);if(!c.isCompleteForPath(t)&&k4(t)>1)return e;const p=N1(t),g=c.getNode().getImmediateChild(h).updateChild(p,r);l=".priority"===h?u.updatePriority(c.getNode(),g):u.updateChild(c.getNode(),h,g,p,q4e,null)}const f=O4e(e,l,c.isFullyInitialized()||We(t),u.filtersNodes());return K4e(n,f,t,i,new sV(i,f,s),a)}function oV(n,e,t,r,i,s,o){const a=e.eventCache;let c,l;const u=new sV(i,e,s);if(We(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Cl(e,l,!0,n.filter.filtersNodes());else{const f=je(t);if(".priority"===f)l=n.filter.updatePriority(e.eventCache.getNode(),r),c=Cl(e,l,a.isFullyInitialized(),a.isFiltered());else{const d=N1(t),h=a.getNode().getImmediateChild(f);let p;if(We(d))p=r;else{const m=u.getCompleteChild(f);p=null!=m?".priority"===kD(d)&&m.getChild(S4e(d)).isEmpty()?m:m.updateChild(d,r):Le.EMPTY_NODE}c=h.equals(p)?e:Cl(e,n.filter.updateChild(a.getNode(),f,p,d,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function Y4e(n,e){return n.eventCache.isCompleteForChild(e)}function Q4e(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function aV(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=We(t)?r:new F1(null).setTree(t,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((f,d)=>{if(u.hasChild(f)){const p=Q4e(0,e.serverCache.getNode().getImmediateChild(f),d);c=mp(n,c,new _1(f),p,i,s,o,a)}}),l.children.inorderTraversal((f,d)=>{const h=!e.serverCache.isCompleteForChild(f)&&null===d.value;if(!u.hasChild(f)&&!h){const m=Q4e(0,e.serverCache.getNode().getImmediateChild(f),d);c=mp(n,c,new _1(f),m,i,s,o,a)}}),c}function Ev1(n,e){const t=Mo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!We(e)&&!t.getImmediateChild(je(e)).isEmpty())?t.getChild(e):null}function J4e(n,e,t,r){e.type===yr.MERGE&&null!==e.source.queryId&&(q(Mo(n.viewCache_),"We should always have a full cache before handling merges"),q(fp(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function vv1(n,e,t,r,i){const s=new hv1;let o,a;if(t.type===yr.OVERWRITE){const l=t;l.source.fromUser?o=oV(n,e,l.path,l.snap,r,i,s):(q(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!We(l.path),o=mp(n,e,l.path,l.snap,r,i,a,s))}else if(t.type===yr.MERGE){const l=t;l.source.fromUser?o=function yv1(n,e,t,r,i,s,o){let a=e;return r.foreach((c,l)=>{const u=tt(t,c);Y4e(e,je(u))&&(a=oV(n,a,u,l,i,s,o))}),r.foreach((c,l)=>{const u=tt(t,c);Y4e(e,je(u))||(a=oV(n,a,u,l,i,s,o))}),a}(n,e,l.path,l.children,r,i,s):(q(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=aV(n,e,l.path,l.children,r,i,a,s))}else if(t.type===yr.ACK_USER_WRITE){const l=t;o=l.revert?function Mv1(n,e,t,r,i,s){let o;if(null!=pp(r,t))return e;{const a=new sV(r,e,i),c=e.eventCache.getNode();let l;if(We(t)||".priority"===je(t)){let u;if(e.serverCache.isFullyInitialized())u=hp(r,Mo(e));else{const f=e.serverCache.getNode();q(f instanceof Le,"serverChildren would be complete if leaf node"),u=rV(r,f)}l=n.filter.updateFullNode(c,u,s)}else{const u=je(t);let f=iV(r,u,e.serverCache);null==f&&e.serverCache.isCompleteForChild(u)&&(f=c.getImmediateChild(u)),l=null!=f?n.filter.updateChild(c,u,f,N1(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,Le.EMPTY_NODE,N1(t),a,s):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hp(r,Mo(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=pp(r,f1()),Cl(e,l,o,n.filter.filtersNodes())}}(n,e,l.path,r,i,s):function Cv1(n,e,t,r,i,s,o){if(null!=pp(i,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(We(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return mp(n,e,t,c.getNode().getChild(t),i,s,a,o);if(We(t)){let l=new F1(null);return c.getNode().forEachChild(Hi,(u,f)=>{l=l.set(new _1(u),f)}),aV(n,e,t,l,i,s,a,o)}return e}{let l=new F1(null);return r.foreach((u,f)=>{const d=tt(t,u);c.isCompleteForPath(d)&&(l=l.set(u,c.getNode().getChild(d)))}),aV(n,e,t,l,i,s,a,o)}}(n,e,l.path,l.affectedTree,r,i,s)}else{if(t.type!==yr.LISTEN_COMPLETE)throw Za("Unknown operation type: "+t.type);o=function bv1(n,e,t,r,i){const s=e.serverCache;return K4e(n,O4e(e,s.getNode(),s.isFullyInitialized()||We(t),s.isFiltered()),t,r,q4e,i)}(n,e,t.path,r,s)}const c=s.getChanges();return function _v1(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=fp(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function A4e(n){return{type:"value",snapshotNode:n}}(fp(e)))}}(e,o,c),{viewCache:o,changes:c}}(n.processor_,i,e,t,r);return function gv1(n,e){q(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function ese(n,e,t,r){return function Yg1(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Lg1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),yl(n,i,"child_removed",e,r,t),yl(n,i,"child_added",e,r,t),yl(n,i,"child_moved",s,r,t),yl(n,i,"child_changed",e,r,t),yl(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let gp,_p;function cV(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return q(null!=s,"SyncTree gave us an op for an invalid query."),J4e(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(J4e(o,e,t,r));return s}}function P4(n,e){let t=null;for(const r of n.views.values())t=t||Ev1(r,e);return t}class ose{constructor(e){this.listenProvider_=e,this.syncPointTree_=new F1(null),this.pendingWriteTree_=function fv1(){return{visibleWrites:jr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lV(n,e,t,r,i){return function Jg1(n,e,t,r,i){q(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=bl(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?h6(n,new bo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function B4(n,e,t=!1){const r=function tv1(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function nv1(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);q(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&rv1(a,r.path)?i=!1:_r(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function iv1(n){n.visibleWrites=U4e(n.allWrites,sv1,f1()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=P4e(n.visibleWrites,r.path):p2(r.children,c=>{n.visibleWrites=P4e(n.visibleWrites,tt(r.path,c))}),!0))}(n.pendingWriteTree_,e)){let s=new F1(null);return null!=r.snap?s=s.set(f1(),!0):p2(r.children,o=>{s=s.set(new _1(o),!0)}),h6(n,new lp(r.path,s,t))}return[]}function Ml(n,e,t){return h6(n,new bo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Cp(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=P4(a,on(o,e));if(l)return l});return $4e(i,e,s,t,!0)}function h6(n,e){return cse(e,n.syncPointTree_,null,dp(n.pendingWriteTree_,f1()))}function cse(n,e,t,r){if(We(n.path))return lse(n,e,t,r);{const i=e.get(f1());null==t&&null!=i&&(t=P4(i,f1()));let s=[];const o=je(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){const l=t?t.getImmediateChild(o):null,u=j4e(r,o);s=s.concat(cse(a,c,l,u))}return i&&(s=s.concat(cV(i,n,r,t))),s}}function lse(n,e,t,r){const i=e.get(f1());null==t&&null!=i&&(t=P4(i,f1()));let s=[];return e.children.inorderTraversal((o,a)=>{const c=t?t.getImmediateChild(o):null,l=j4e(r,o),u=n.operationForChild(o);u&&(s=s.concat(lse(u,a,c,l)))}),i&&(s=s.concat(cV(i,n,r,t))),s}function fV(n,e){return n.tagToQueryMap.get(e)}function dV(n){const e=n.indexOf("$");return q(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new _1(n.substr(0,e))}}function hV(n,e,t){const r=n.syncPointTree_.get(e);return q(r,"Missing sync point for query tag that we're tracking"),cV(r,t,dp(n.pendingWriteTree_,e),null)}class pV{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new pV(t)}node(){return this.node_}}class mV{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=tt(this.path_,e);return new mV(this.syncTree_,t)}node(){return Cp(this.syncTree_,this.path_)}}const qv1=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},fse=function(n,e,t){return n&&"object"==typeof n?(q(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Kv1(n[".sv"],e,t):"object"==typeof n[".sv"]?Yv1(n[".sv"],e):void q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Kv1=function(n,e,t){if("timestamp"===n)return t.timestamp;q(!1,"Unexpected server value: "+n)},Yv1=function(n,e,t){n.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&q(!1,"Unexpected increment value: "+r);const i=e.node();if(q(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},dse=function(n,e,t,r){return vV(e,new mV(t,n),r)},gV=function(n,e,t){return vV(n,new pV(e),t)};function vV(n,e,t){const r=n.getPriority().val(),i=fse(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=fse(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new a6(a,lt(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new a6(i))),o.forEachChild(P1,(a,c)=>{const l=vV(c,e.getImmediateChild(a),t);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}class _V{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Mp(n,e){let t=e instanceof _1?e:new _1(e),r=n,i=je(t);for(;null!==i;){const s=ec(r.node.children,i)||{children:{},childCount:0};r=new _V(i,r,s),t=N1(t),i=je(t)}return r}function So(n){return n.node.value}function yV(n,e){n.node.value=e,CV(n)}function hse(n){return n.node.childCount>0}function wp(n,e){p2(n.node.children,(t,r)=>{e(new _V(t,n,r))})}function pse(n,e,t,r){t&&!r&&e(n),wp(n,i=>{pse(i,e,!0,r)}),t&&r&&e(n)}function zl(n){return new _1(null===n.parent?n.name:zl(n.parent)+"/"+n.name)}function CV(n){null!==n.parent&&function Xv1(n,e,t){const r=function Qv1(n){return void 0===So(n)&&!hse(n)}(t),i=s3(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,CV(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,CV(n))}(n.parent,n.name,n)}const Jv1=/[\[\].#$\/\u0000-\u001F\u007F]/,e_1=/[\[\].#$\u0000-\u001F\u007F]/,bV=10485760,Sp=function(n){return"string"==typeof n&&0!==n.length&&!Jv1.test(n)},Tl=function(n,e,t){const r=t instanceof _1?new vg1(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+yo(r));if("function"==typeof e)throw new Error(n+"contains a function "+yo(r)+" with contents = "+e.toString());if(Xh(e))throw new Error(n+"contains "+e.toString()+" "+yo(r));if("string"==typeof e&&e.length>bV/3&&H9(e)>bV)throw new Error(n+"contains a string greater than "+bV+" utf8 bytes "+yo(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(p2(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Sp(o)))throw new Error(n+" contains an invalid key ("+o+") "+yo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function _g1(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=H9(e),z4e(n)})(r,o),Tl(n,a,r),function yg1(n){const e=n.parts_.pop();n.byteLength_-=H9(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+yo(r)+" in addition to actual children.")}},vse=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Sp(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!e_1.test(n)}(n)}(t))throw new Error(function V9(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class i_1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qn(n,e,t){(function zp(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!RD(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function yse(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(s_1(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>_r(r,e)||_r(e,r))}function s_1(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();vo&&h2("event: "+t.toString()),s6(r)}}}const Cse="repo_interrupt",o_1=25;class a_1{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new i_1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cp(),this.transactionQueueTree_=new _V,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bse(n){const t=n.infoData_.getNode(new _1(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Dl(n){return qv1({timestamp:bse(n)})}function Mse(n,e,t,r,i){n.dataUpdateCount++;const s=new _1(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const c=D9(t,l=>lt(l));o=function Bv1(n,e,t,r){const i=fV(n,r);if(i){const s=dV(i),o=s.path,a=s.queryId,c=on(o,e),l=F1.fromObject(t);return hV(n,o,new f6(XD(a),c,l))}return[]}(n.serverSyncTree_,s,c,i)}else{const c=lt(t);o=function ase(n,e,t,r){const i=fV(n,r);if(null!=i){const s=dV(i),o=s.path,a=s.queryId,c=on(o,e);return hV(n,o,new bo(XD(a),c,t))}return[]}(n.serverSyncTree_,s,c,i)}else if(r){const c=D9(t,l=>lt(l));o=function Ov1(n,e,t){const r=F1.fromObject(t);return h6(n,new f6({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,c)}else{const c=lt(t);o=Ml(n.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=m6(n,s)),Qn(n.eventQueue_,a,o)}function wse(n,e){SV(n,"connected",e),!1===e&&function d_1(n){p6(n,"onDisconnectEvents");const e=Dl(n),t=cp();YD(n.onDisconnect_,f1(),(i,s)=>{const o=dse(i,s,n.serverSyncTree_,e);u6(t,i,o)});let r=[];YD(t,f1(),(i,s)=>{r=r.concat(Ml(n.serverSyncTree_,i,s));const o=function NV(n,e){const t=zl(Ese(n,e)),r=Mp(n.transactionQueueTree_,e);return function Zv1(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{DV(n,i)}),DV(n,r),pse(r,i=>{DV(n,i)}),t}(n,i);m6(n,o)}),n.onDisconnect_=cp(),Qn(n.eventQueue_,f1(),r)}(n)}function SV(n,e,t){const r=new _1("/.info/"+e),i=lt(t);n.infoData_.updateSnapshot(r,i);const s=Ml(n.infoSyncTree_,r,i);Qn(n.eventQueue_,r,s)}function Ep(n){return n.nextWriteId_++}function p6(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),h2(t,...e)}function TV(n,e,t){return Cp(n.serverSyncTree_,e,t)||Le.EMPTY_NODE}function Tp(n,e=n.transactionQueueTree_){if(e||Np(n,e),So(e)){const t=Tse(n,e);q(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function y_1(n,e,t){const r=t.map(l=>l.currentWriteId),i=TV(n,e,r);let s=i;const o=i.hash();for(let l=0;l<t.length;l++){const u=t[l];q(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=on(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const a=s.val(!0),c=e;n.server_.put(c.toString(),a,l=>{p6(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const f=[];for(let d=0;d<t.length;d++)t[d].status=2,u=u.concat(B4(n.serverSyncTree_,t[d].currentWriteId)),t[d].onComplete&&f.push(()=>t[d].onComplete(null,!0,t[d].currentOutputSnapshotResolved)),t[d].unwatcher();Np(n,Mp(n.transactionQueueTree_,e)),Tp(n,n.transactionQueueTree_),Qn(n.eventQueue_,e,u);for(let d=0;d<f.length;d++)s6(f[d])}else{if("datastale"===l)for(let f=0;f<t.length;f++)t[f].status=3===t[f].status?4:0;else{j2("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=l}m6(n,e)}},o)}(n,zl(e),t)}else hse(e)&&wp(e,t=>{Tp(n,t)})}function m6(n,e){const t=Ese(n,e),r=zl(t);return function C_1(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=on(t,c.path);let f,u=!1;if(q(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,f=c.abortReason,i=i.concat(B4(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=o_1)u=!0,f="maxretry",i=i.concat(B4(n.serverSyncTree_,c.currentWriteId,!0));else{const d=TV(n,c.path,o);c.currentInputSnapshot=d;const h=e[a].update(d.val());if(void 0!==h){Tl("transaction failed: Data returned ",h,c.path);let p=lt(h);"object"==typeof h&&null!=h&&s3(h,".priority")||(p=p.updatePriority(d.getPriority()));const g=c.currentWriteId,_=Dl(n),b=gV(p,d,_);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=b,c.currentWriteId=Ep(n),o.splice(o.indexOf(g),1),i=i.concat(lV(n.serverSyncTree_,c.path,b,c.currentWriteId,c.applyLocally)),i=i.concat(B4(n.serverSyncTree_,g,!0))}else u=!0,f="nodata",i=i.concat(B4(n.serverSyncTree_,c.currentWriteId,!0))}Qn(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===f?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(f),!1,null)))}Np(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)s6(r[a]);Tp(n,n.transactionQueueTree_)}(n,Tse(n,t),r),r}function Ese(n,e){let t,r=n.transactionQueueTree_;for(t=je(e);null!==t&&void 0===So(r);)r=Mp(r,t),t=je(e=N1(e));return r}function Tse(n,e){const t=[];return Nse(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Nse(n,e,t){const r=So(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);wp(e,i=>{Nse(n,i,t)})}function Np(n,e){const t=So(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,yV(e,t.length>0?t:void 0)}wp(e,r=>{Np(n,r)})}function DV(n,e){const t=So(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(q(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(q(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(B4(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?yV(e,void 0):t.length=s+1,Qn(n.eventQueue_,zl(e),i);for(let o=0;o<r.length;o++)s6(r[o])}}const VV=function(n,e){const t=w_1(n),r=t.namespace;return"firebase.com"===t.domain&&Vi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&j2("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new VD(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new _1(t.pathString)}},w_1=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),e=n.substring(0,Math.min(u,f)),u<f&&(i=function b_1(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(u,f)));const d=function M_1(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):j2(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,f)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const h=e.slice(0,l);if("localhost"===h.toLowerCase())t="localhost";else if(h.split(".").length<=2)t=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Zn{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return We(this._path)?null:kD(this._path)}get ref(){return new Wr(this._repo,this._path)}get _queryIdentifier(){const e=k4e(this._queryParams),t=ND(e);return"{}"===t?"default":t}get _queryObject(){return k4e(this._queryParams)}isEqual(e){if(!((e=l1(e))instanceof Zn))return!1;const t=this._repo===e._repo,r=RD(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function mg1(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Wr extends Zn{constructor(e,t){super(e,t,new jD,!1)}get parent(){const e=S4e(this._path);return null===e?null:new Wr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Dv1(n){q(!gp,"__referenceConstructor has already been defined"),gp=n})(Wr),function Av1(n){q(!_p,"__referenceConstructor has already been defined"),_p=n}(Wr);const R_1="FIREBASE_DATABASE_EMULATOR_HOST",IV={};let Lse=!1;class $_1{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function c_1(n,e,t){if(n.stats_=xD(n.repoInfo_),n.forceRestClient_||Um1())n.server_=new ap(n.repoInfo_,(r,i,s,o)=>{Mse(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>wse(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{S2(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Co(n.repoInfo_,e,(r,i,s,o)=>{Mse(n,r,i,s,o)},r=>{wse(n,r)},r=>{!function l_1(n,e){p2(e,(t,r)=>{SV(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function qm1(n,e){const t=n.toString();return ID[t]||(ID[t]=e()),ID[t]}(n.repoInfo_,()=>new qg1(n.stats_,n.server_)),n.infoData_=new Ug1,n.infoSyncTree_=new ose({startListening:(r,i,s,o)=>{let a=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=Ml(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),SV(n,"connected",!1),n.serverSyncTree_=new ose({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,c)=>{const l=o(a,c);Qn(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wr(this._repo,f1())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function F_1(n,e){const t=IV[e];(!t||t[n.key]!==n)&&Vi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function zse(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Cse)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Vi("Cannot call "+e+" on a deleted database.")}}function G_1(n=ui(),e){const t=yn(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=E9("database");r&&function j_1(n,e,t,r={}){(n=l1(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Vi("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ul(ul.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:Sy(r.mockUserToken,n.app.options.projectId);s=new ul(o)}!function O_1(n,e,t,r){n.repoInfo_=new VD(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}Co.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Co.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function W_1(n){(function Vm1(n){zD=n})(c3),Zt(new Pt("database",(e,{instanceIdentifier:t})=>function P_1(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),h2("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,o=VV(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(l=process.env[R_1]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=VV(s,i),a=o.repoInfo):c=!o.repoInfo.secure;const u=i&&c?new ul(ul.OWNER):new Gm1(n.name,n.options,e);vse("Invalid Firebase Database URL",o),We(o.path)||Vi("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function B_1(n,e,t,r){let i=IV[e.name];i||(i={},IV[e.name]=i);let s=i[n.toURLString()];return s&&Vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new a_1(n,Lse,t,r),i[n.toURLString()]=s,s}(a,n,u,new $m1(n.name,t));return new $_1(f,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Ge(F3e,"0.14.4",n),Ge(F3e,"0.14.4","esm2017")}();class xV{constructor(e){return e}}const AV=new ne("angularfire2.database-instances");function Z_1(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xV(r)}}const X_1={provide:class Y_1{constructor(){return pi("database")}},deps:[[new Ze,AV]]},J_1={provide:xV,useFactory:function Q_1(n,e){const t=hi("database",n,e);return t&&new xV(t)},deps:[[new Ze,AV],$n]};let ey1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[J_1,X_1]}),n})();function ty1(n,...e){return{ngModule:ey1,providers:[{provide:AV,useFactory:Z_1(n),multi:!0,deps:[Ce,T1,mi,gi,[new Ze,w8],[new Ze,oc],...e]}]}}const ny1=W1(G_1,!0),kV="functions";class ay1{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return v(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return v(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return v(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return v(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const RV="us-central1";class ly1{constructor(e,t,r,i,s=RV,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ay1(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=RV}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const Bse="@firebase/functions";function yy1(n=ui(),e=RV){const r=yn(l1(n),kV).getImmediate({identifier:e}),i=E9("functions");return i&&function Cy1(n,e,t){!function uy1(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(l1(n),e,t)}(r,...i),r}!function _y1(n,e){Zt(new Pt(kV,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),c=r.getProvider("app-check-internal");return new ly1(s,o,a,c,i,n)},"PUBLIC").setMultipleInstances(!0)),Ge(Bse,"0.9.4",e),Ge(Bse,"0.9.4","esm2017")}(fetch.bind(self));class FV{constructor(e){return e}}const BV=new ne("angularfire2.functions-instances");function wy1(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new FV(r)}}const Sy1={provide:class by1{constructor(){return pi("functions")}},deps:[[new Ze,BV]]},zy1={provide:FV,useFactory:function My1(n,e){const t=hi("functions",n,e);return t&&new FV(t)},deps:[[new Ze,BV],$n]};let Ey1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[zy1,Sy1]}),n})();function Ty1(n,...e){return{ngModule:Ey1,providers:[{provide:BV,useFactory:wy1(n),multi:!0,deps:[Ce,T1,mi,gi,[new Ze,w8],[new Ze,oc],...e]}]}}const Ny1=W1(yy1,!0);class UV{constructor(e){return e}}const $V=new ne("angularfire2.messaging-instances");function Hy1(n){return(e,t)=>{if(!F9.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new UV(r)}}const Iy1={provide:class Dy1{constructor(){return pi("messaging")}},deps:[[new Ze,$V]]},xy1={provide:UV,useFactory:function Vy1(n,e){if(!F9.sync())return null;const t=hi("messaging",n,e);return t&&new UV(t)},deps:[[new Ze,$V],$n]};let Ay1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[xy1,Iy1,{provide:os,useValue:F9.async,multi:!0}]}),n})();function Ly1(n,...e){return{ngModule:Ay1,providers:[{provide:$V,useFactory:Hy1(n),multi:!0,deps:[Ce,T1,mi,gi,...e]}]}}const ky1=W1(Uwe,!0),jse="@firebase/performance",GV="0.6.4",Wse=GV,jV="FB-PERF-TRACE-MEASURE",Zse="@firebase/performance/config",Xse="@firebase/performance/configexpire",Jse="Performance",I2=new kr("performance",Jse,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Ai=new i4(Jse);let WV,eoe,toe,KV;Ai.logLevel=Qe.INFO;class m2{constructor(e){if(this.window=e,!e)throw I2.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&T9()?!!r4()||(Ai.info("IndexedDB is not supported by current browswer"),!1):(Ai.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===WV&&(WV=new m2(eoe)),WV}}function qV(){return toe}function noe(n,e){const t=n.length-e.length;if(t<0||t>1)throw I2.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class Xn{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=noe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=noe("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===KV&&(KV=new Xn),KV}}var Eo=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(Eo||(Eo={})),Eo))();const Gy1=["firebase_","google_","ga_"],jy1=new RegExp("^[a-zA-Z]\\w*$");function Ky1(){const n=m2.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function roe(){switch(m2.getInstance().document.visibilityState){case"visible":return Eo.VISIBLE;case"hidden":return Eo.HIDDEN;default:return Eo.UNKNOWN}}function Yy1(){const e=m2.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function ioe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw I2.create("no app id");return t}const eC1="0.0.1",qr={loggingEnabled:!0},tC1="FIREBASE_INSTALLATIONS_AUTH";const sC1="Could not fetch config, will use default configs";function soe(n){if(!n)return n;const e=Xn.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):qr.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):qr.logSource&&(e.logSource=qr.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:qr.logEndPointUrl&&(e.logEndPointUrl=qr.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:qr.transportKey&&(e.transportKey=qr.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==qr.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=qr.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==qr.tracesSamplingRate&&(e.tracesSamplingRate=qr.tracesSamplingRate),e.logTraceAfterSampling=ooe(e.tracesSamplingRate),e.logNetworkAfterSampling=ooe(e.networkRequestsSamplingRate),n}function ooe(n){return Math.random()<=n}let QV,YV=1;function aoe(n){return YV=2,QV=QV||function lC1(n){return function uC1(){const n=m2.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function Uy1(n){const e=n.getId();return e.then(t=>{toe=t}),e}(n.installations)).then(e=>function nC1(n,e){const t=function rC1(){const n=m2.getInstance().localStorage;if(!n)return;const e=n.getItem(Xse);if(!e||!function aC1(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(Zse);if(t)try{return JSON.parse(t)}catch{return}}();return t?(soe(t),Promise.resolve()):function oC1(n,e){return function $y1(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function Xy1(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw I2.create("no project id");return t}(n.app),i=function Jy1(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw I2.create("no api key");return t}(n.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`${tC1} ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:ioe(n.app),app_version:Wse,sdk_version:eC1})});return fetch(o).then(a=>{if(a.ok)return a.json();throw I2.create("RC response not ok")})}).catch(()=>{Ai.info(sC1)})}(n,e).then(soe).then(r=>function iC1(n){const e=m2.getInstance().localStorage;!n||!e||(e.setItem(Zse,JSON.stringify(n)),e.setItem(Xse,String(Date.now()+60*Xn.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>coe(),()=>coe())}(n),QV}function coe(){YV=3}const ZV=1e4,loe=3,dC1=1e3;let XV,xp=loe,G4=[],uoe=!1;function Ap(n){setTimeout(()=>{if(0!==xp){if(!G4.length)return Ap(ZV);!function pC1(){const n=G4.splice(0,dC1),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function mC1(n,e){return function gC1(n){const e=Xn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||Ai.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=ZV;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(G4=[...e,...G4],Ai.info("Retry transport request later.")),xp=loe,Ap(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Xn.getInstance().logSource,log_event:e},n).catch(()=>{G4=[...n,...G4],xp--,Ai.info(`Tries left: ${xp}.`),Ap(ZV)})}()}},n)}function foe(n,e){XV||(XV=function _C1(n){return(...e)=>{!function vC1(n){if(!n.eventTime||!n.message)throw I2.create("invalid cc log");G4=[...G4,n]}({message:n(...e),eventTime:Date.now()})}}(CC1)),XV(n,e)}function Lp(n){const e=Xn.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||m2.getInstance().requiredApisAvailable()&&(n.isAuto&&roe()!==Eo.VISIBLE||(function cC1(){return 3===YV}()?JV(n):aoe(n.performanceController).then(()=>JV(n),()=>JV(n))))}function JV(n){if(!qV())return;const e=Xn.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>foe(n,1),0)}function CC1(n,e){return 0===e?function bC1(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:doe(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function MC1(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:doe(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function doe(n){return{google_app_id:ioe(n),app_instance_id:qV(),web_app_info:{sdk_version:Wse,page_url:m2.getInstance().getUrl(),service_worker_status:Ky1(),visibility_state:roe(),effective_connection_type:Yy1()},application_process_state:0}}const zC1=["_fp","_fcp","_fid"];class j4{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=m2.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${jV}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw I2.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw I2.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Lp(this)}record(e,t,r){if(e<=0)throw I2.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw I2.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));Lp(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function EC1(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&zC1.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw I2.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function TC1(n){const e=Math.floor(n);return e<n&&Ai.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function Qy1(n){return!(0===n.length||n.length>40||Gy1.some(t=>n.startsWith(t))||!n.match(jy1))}(e),i=function Zy1(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw I2.create("invalid attribute name",{attributeName:e});if(!i)throw I2.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=m2.getInstance().getUrl();if(!s)return;const o=new j4(e,"_wt_"+s,!0),a=Math.floor(1e3*m2.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const u=r.find(d=>"first-paint"===d.name);u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));const f=r.find(d=>"first-contentful-paint"===d.name);f&&f.startTime&&o.putMetric("_fcp",Math.floor(1e3*f.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}Lp(o)}static createUserTimingTrace(e,t){Lp(new j4(e,t,!1,t))}}function hoe(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=m2.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function yC1(n){const e=Xn.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>foe(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}const NC1=5e3;function poe(n){qV()&&(setTimeout(()=>function VC1(n){const e=m2.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{j4.createOobTrace(n,t,r),i=void 0},NC1);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),j4.createOobTrace(n,t,r,s))})}else j4.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function DC1(n){const e=m2.getInstance(),t=e.getEntriesByType("resource");for(const r of t)hoe(n,r);e.setupObserver("resource",r=>hoe(n,r))}(n),0),setTimeout(()=>function HC1(n){const e=m2.getInstance(),t=e.getEntriesByType("measure");for(const r of t)moe(n,r);e.setupObserver("measure",r=>moe(n,r))}(n),0))}function moe(n,e){const t=e.name;t.substring(0,jV.length)!==jV&&j4.createUserTimingTrace(n,t)}class IC1{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),m2.getInstance().requiredApisAvailable()?Ja().then(t=>{t&&(function hC1(){uoe||(Ap(5500),uoe=!0)}(),aoe(this).then(()=>poe(this),()=>poe(this)),this.initialized=!0)}).catch(t=>{Ai.info(`Environment doesn't support IndexedDB: ${t}`)}):Ai.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Xn.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Xn.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Xn.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Xn.getInstance().dataCollectionEnabled}}function AC1(n=ui()){return yn(n=l1(n),"performance").getImmediate()}const LC1=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw I2.create("FB not default");if(typeof window>"u")throw I2.create("no window");!function By1(n){eoe=n}(window);const i=new IC1(t,r);return i._init(e),i};!function kC1(){Zt(new Pt("performance",LC1,"PUBLIC")),Ge(jse,GV),Ge(jse,GV,"esm2017")}();class eH{constructor(e){return e}}const goe="performance",tH=new ne("angularfire2.performance-instances");function PC1(n){return(e,t,r)=>{if(!Rv(t))return null;const i=e.runOutsideAngular(()=>n(r));return new eH(i)}}const FC1={provide:class RC1{constructor(){return pi(goe)}},deps:[[new Ze,tH]]},BC1={provide:eH,useFactory:function OC1(n,e,t){if(!Rv(t))return null;const r=hi(goe,n,e);return r&&new eH(r)},deps:[[new Ze,tH],$n,as]};let UC1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[BC1,FC1]}),n})();function $C1(n,...e){return{ngModule:UC1,providers:[{provide:tH,useFactory:PC1(n),multi:!0,deps:[Ce,as,T1,mi,gi,...e]}]}}const GC1=W1(AC1,!0);class nH{constructor(e){return e}}const voe="remote-config",rH=new ne("angularfire2.remote-config-instances");function qC1(n){return(e,t)=>{if(!B9.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new nH(r)}}const KC1={provide:class jC1{constructor(){return pi(voe)}},deps:[[new Ze,rH]]},YC1={provide:nH,useFactory:function WC1(n,e){if(!B9.sync())return null;const t=hi(voe,n,e);return t&&new nH(t)},deps:[[new Ze,rH],$n]};let QC1=(()=>{class n{constructor(){Ge("angularfire",Un.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=De({providers:[YC1,KC1,{provide:os,useValue:B9.async,multi:!0}]}),n})();function ZC1(n,...e){return{ngModule:QC1,providers:[{provide:rH,useFactory:qC1(n),multi:!0,deps:[Ce,T1,mi,gi,...e]}]}}const XC1=W1(OMe,!0);let JC1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n,bootstrap:[nh1]}),n.\u0275inj=De({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:P5.PROVIDER_ID,provider:new P5(bD_google_client_id)}],onError:e=>{console.error(e)}}}],imports:[ZR,d01,oCe,nm1,kv,Nde,Dde,Z61,rc1,sc1,BSe(()=>USe(bD_firebase)),Vxe(()=>xxe()),Ya1(()=>hre()),Dm1(()=>om1()),ENe(()=>NNe()),ty1(()=>ny1()),Ty1(()=>Ny1()),Ly1(()=>ky1()),$C1(()=>GC1()),ZC1(()=>XC1())]}),n})();pfe().bootstrapModule(JC1).catch(n=>console.error(n))},321:()=>{const Ue=":";class D1 extends Error{constructor(S){super(`No translation found for ${z6(S)}.`),this.parsedMessage=S,this.type="MissingTranslationError"}}const Ul=function(E,...S){if(Ul.translate){const R=Ul.translate(E,S);E=R[0],S=R[1]}let V=qp(E[0],E.raw[0]);for(let R=1;R<E.length;R++)V+=S[R-1]+qp(E[R],E.raw[R]);return V},aH=":";function qp(E,S){return S.charAt(0)===aH?E.substring(function S6(E,S){for(let V=1,R=1;V<E.length;V++,R++)if("\\"===S[R])R++;else if(E[V]===Ue)return V;throw new Error(`Unterminated $localize metadata block in "${S}".`)}(E,S)+1):E}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Ul}},Ue=>{var A3=L3=>Ue(Ue.s=L3);A3(321),A3(777)}]);